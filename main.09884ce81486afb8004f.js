(self.webpackChunkjour3_firebase=self.webpackChunkjour3_firebase||[]).push([[179],{8255:ze=>{function Ae(P){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+P+"'");throw d.code="MODULE_NOT_FOUND",d})}Ae.keys=()=>[],Ae.resolve=Ae,Ae.id=8255,ze.exports=Ae},7716:(ze,Ae,P)=>{"use strict";P.d(Ae,{deG:()=>$u,tb:()=>Ab,AFp:()=>Ib,ip1:()=>dy,CZH:()=>sd,hGG:()=>nR,z2F:()=>fy,sBO:()=>mE,Sil:()=>ne,_Vd:()=>Ch,EJc:()=>Rb,SBq:()=>Pr,qLn:()=>Ga,vpe:()=>Ei,gxx:()=>Ya,tBr:()=>_o,XFs:()=>We,OlP:()=>yn,zs3:()=>Tn,ZZ4:()=>Op,aQg:()=>kp,soG:()=>sg,YKP:()=>R_,v3s:()=>kS,h0i:()=>cu,PXZ:()=>RS,R0b:()=>Mt,FiY:()=>us,Lbi:()=>Tb,g9A:()=>Db,Qsj:()=>Ww,FYo:()=>lu,JOm:()=>wo,Tiy:()=>Mp,q3G:()=>Hn,tp0:()=>xi,EAV:()=>US,Rgc:()=>Zc,dDg:()=>SA,DyG:()=>_r,q4F:()=>b_,GfV:()=>Np,s_b:()=>Ih,ifc:()=>ke,eFA:()=>OA,G48:()=>bS,Gpc:()=>V,X6Q:()=>ED,_c5:()=>KS,VLi:()=>ES,c2e:()=>Sb,zSh:()=>qd,wAp:()=>ot,vHH:()=>Ee,EiD:()=>wy,mCW:()=>St,qzn:()=>y,JVY:()=>m,pB0:()=>ae,eBb:()=>A,L6k:()=>E,LAX:()=>k,cg1:()=>s_,Tjo:()=>ZS,kL8:()=>o_,yhl:()=>p,dqk:()=>jt,sIi:()=>eh,CqO:()=>ap,QGY:()=>ii,F4k:()=>Om,RDi:()=>hd,AaK:()=>Q,z3N:()=>vo,qOj:()=>Cm,TTD:()=>Qi,_Bn:()=>Rp,xp6:()=>Wg,uIk:()=>wm,ekj:()=>Km,Suo:()=>eb,Xpm:()=>Mn,lG2:()=>Ot,Yz7:()=>Je,cJS:()=>tn,oAB:()=>Fe,Yjl:()=>gn,Y36:()=>op,_UZ:()=>Nm,qZA:()=>Fc,TgZ:()=>ys,EpF:()=>sC,n5z:()=>Fl,Ikx:()=>_p,LFG:()=>In,$8M:()=>Ll,NdJ:()=>Pm,CRH:()=>td,O4$:()=>Vu,oxw:()=>lC,Q6J:()=>Rm,iGM:()=>ed,MAs:()=>Wv,CHM:()=>Ho,LSH:()=>la,kYT:()=>lt,YNc:()=>Oc,_uU:()=>mp,Oqu:()=>IC});var d=P(9765),B=P(5319),N=P(7574),ue=P(6682),se=P(8819);function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function be(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Q(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Q).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function K(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const O=J({__forward_ref__:J});function V(t){return t.__forward_ref__=V,t.toString=function(){return Q(this())},t}function j(t){return ie(t)?t():t}function ie(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===V}class Ee extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function de(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}function tt(t,n){const s=n?` in ${n}`:"";throw new Ee("201",`No provider for ${de(t)} found${s}`)}function nt(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Je(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fn(t){return Cn(t,Lr)||Cn(t,qr)}function Cn(t,n){return t.hasOwnProperty(n)?t[n]:null}function ai(t){return t&&(t.hasOwnProperty(mn)||t.hasOwnProperty(wr))?t[mn]:null}const Lr=J({\u0275prov:J}),mn=J({\u0275inj:J}),qr=J({ngInjectableDef:J}),wr=J({ngInjectorDef:J});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let xt;function An(t){const n=xt;return xt=t,n}function Ze(t,n,s){const a=Fn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&We.Optional?null:void 0!==n?n:void tt(Q(t),"Injector")}function yt(t){return{toString:t}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),ke=(()=>((ke=ke||{})[ke.Emulated=0]="Emulated",ke[ke.None=2]="None",ke[ke.ShadowDom=3]="ShadowDom",ke))();const $e="undefined"!=typeof globalThis&&globalThis,Ts="undefined"!=typeof window&&window,li="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=$e||"undefined"!=typeof global&&global||Ts||li,G={},H=[],Z=J({\u0275cmp:J}),De=J({\u0275dir:J}),le=J({\u0275pipe:J}),Be=J({\u0275mod:J}),Qe=J({\u0275loc:J}),vt=J({\u0275fac:J}),Kt=J({__NG_ELEMENT_ID__:J});let Rn=0;function Mn(t){return yt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ke.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,f=t.pipes;return a.id+=Rn++,a.inputs=wt(t.inputs,s),a.outputs=wt(t.outputs),c&&c.forEach(_=>_(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(z):null,a.pipeDefs=f?()=>("function"==typeof f?f():f).map(q):null,a})}function z(t){return Zt(t)||function(t){return t[De]||null}(t)}function q(t){return function(t){return t[le]||null}(t)}const Re={};function Fe(t){return yt(()=>{const n={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Re[t.id]=t.type),n})}function lt(t,n){return yt(()=>{const s=En(t,!0);s.declarations=n.declarations||H,s.imports=n.imports||H,s.exports=n.exports||H})}function wt(t,n){if(null==t)return G;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,n&&(n[l]=c)}return s}const Ot=Mn;function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zt(t){return t[Z]||null}function En(t,n){const s=t[Be]||null;if(!s&&!0===n)throw new Error(`Type ${Q(t)} does not have '\u0275mod' property.`);return s}function zi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zn(t){return Array.isArray(t)&&!0===t[1]}function Tu(t){return 0!=(8&t.flags)}function Ys(t){return 2==(2&t.flags)}function Zi(t){return 1==(1&t.flags)}function Vn(t){return null!==t.template}function Tr(t){return 0!=(512&t[2])}function Yi(t,n){return t.hasOwnProperty(vt)?t[vt]:null}class cd{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Qi(){return _l}function _l(t){return t.type.prototype.ngOnChanges&&(t.setInput=Js),Nu}function Nu(){const t=yl(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===G)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Js(t,n,s,a){const l=yl(t)||function(t,n){return t[Yr]=n}(t,{previous:G,current:null}),c=l.current||(l.current={}),f=l.previous,_=this.declaredInputs[s],v=f[_];c[_]=new cd(v&&v.currentValue,n,f===G),t[a]=n}Qi.ngInherit=!0;const Yr="__ngSimpleChanges__";function yl(t){return t[Yr]||null}const Ji="http://www.w3.org/2000/svg";let Vo;function hd(t){Vo=t}function nn(t){return!!t.listen}const fi={createRenderer:(t,n)=>void 0!==Vo?Vo:"undefined"!=typeof document?document:void 0};function Jt(t){for(;Array.isArray(t);)t=t[0];return t}function Di(t,n){return Jt(n[t])}function pr(t,n){return Jt(n[t.index])}function Bo(t,n){return t.data[n]}function rr(t,n){const s=n[t];return zi(s)?s:s[0]}function El(t){return 4==(4&t[2])}function jo(t){return 128==(128&t[2])}function Qr(t,n){return null==n?null:t[n]}function Ns(t){t[18]=0}function xs(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Xe={lFrame:pd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Il(){return Xe.bindingsEnabled}function Me(){return Xe.lFrame.lView}function It(){return Xe.lFrame.tView}function Ho(t){return Xe.lFrame.contextLView=t,t[8]}function ln(){let t=$o();for(;null!==t&&64===t.type;)t=t.parent;return t}function $o(){return Xe.lFrame.currentTNode}function Vr(t,n){const s=Xe.lFrame;s.currentTNode=t,s.isParent=n}function to(){return Xe.lFrame.isParent}function Aa(){return Xe.isInCheckNoChangesMode}function ts(t){Xe.isInCheckNoChangesMode=t}function pi(){return Xe.lFrame.bindingIndex++}function Wo(t,n){const s=Xe.lFrame;s.bindingIndex=s.bindingRootIndex=t,Go(n)}function Go(t){Xe.lFrame.currentDirectiveIndex=t}function Pu(){return Xe.lFrame.currentQueryIndex}function no(t){Xe.lFrame.currentQueryIndex=t}function ro(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Sl(t,n,s){if(s&We.SkipSelf){let l=n,c=t;for(;!(l=l.parent,null!==l||s&We.Host||(l=ro(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;n=l,t=c}const a=Xe.lFrame=Rl();return a.currentTNode=n,a.lView=t,!0}function gi(t){const n=Rl(),s=t[1];Xe.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Rl(){const t=Xe.lFrame,n=null===t?null:t.child;return null===n?pd(t):n}function pd(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ku(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fu=ku;function Os(){const t=ku();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return Xe.lFrame.selectedIndex}function Zo(t){Xe.lFrame.selectedIndex=t}function Nn(){const t=Xe.lFrame;return Bo(t.tView,t.selectedIndex)}function Vu(){Xe.lFrame.currentNamespace=Ji}function Ra(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:_,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:T}=c;f&&(t.contentHooks||(t.contentHooks=[])).push(-s,f),_&&((t.contentHooks||(t.contentHooks=[])).push(s,_),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,_)),v&&(t.viewHooks||(t.viewHooks=[])).push(-s,v),w&&((t.viewHooks||(t.viewHooks=[])).push(s,w),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,w)),null!=T&&(t.destroyHooks||(t.destroyHooks=[])).push(s,T)}}function so(t,n,s){Yo(t,n,3,s)}function Ko(t,n,s,a){(3&t[2])===s&&Yo(t,n,s,a)}function xn(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Yo(t,n,s,a){const c=null!=a?a:-1,f=n.length-1;let _=0;for(let v=void 0!==a?65535&t[18]:0;v<f;v++)if("number"==typeof n[v+1]){if(_=n[v],null!=a&&_>=a)break}else n[v]<0&&(t[18]+=65536),(_<c||-1==c)&&(Ml(t,s,n,v),t[18]=(4294901760&t[18])+v+2),v++}function Ml(t,n,s,a){const l=s[a]<0,c=s[a+1],_=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{c.call(_)}finally{}}}else try{c.call(_)}finally{}}class ks{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ol(t,n,s){const a=nn(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const f=s[l++],_=s[l++],v=s[l++];a?t.setAttribute(n,_,v,f):n.setAttributeNS(f,_,v)}else{const f=c,_=s[++l];mr(f)?a&&t.setProperty(n,f,_):a?t.setAttribute(n,f,_):n.setAttribute(f,_),l++}}return l}function Uu(t){return 3===t||4===t||6===t}function mr(t){return 64===t.charCodeAt(0)}function Qo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?s=l:0===s||wn(t,s,l,null,-1===s||2===s?n[++a]:null)}}return t}function wn(t,n,s,a,l){let c=0,f=t.length;if(-1===n)f=-1;else for(;c<t.length;){const _=t[c++];if("number"==typeof _){if(_===n){f=-1;break}if(_>n){f=c-1;break}}}for(;c<t.length;){const _=t[c];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==f&&(t.splice(f,0,n),c=f+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function Ma(t){return-1!==t}function Jr(t){return 32767&t}function Ai(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Pl=!0;function oo(t){const n=Pl;return Pl=t,n}let yd=0;function rs(t,n){const s=sr(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,xa(a.data,t),xa(n,null),xa(a.blueprint,null));const l=Mr(t,n),c=t.injectorIndex;if(Ma(l)){const f=Jr(l),_=Ai(l,n),v=_[1].data;for(let w=0;w<8;w++)n[c+w]=_[f+w]|v[f+w]}return n[c+8]=l,c}function xa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function sr(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Mr(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=n;for(;null!==l;){const c=l[1],f=c.type;if(a=2===f?c.declTNode:1===f?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function qn(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Kt)&&(a=s[Kt]),null==a&&(a=s[Kt]=yd++);const l=255&a;n.data[t+(l>>5)]|=1<<l}(t,n,s)}function Si(t,n,s){if(s&We.Optional)return t;tt(n,"NodeInjector")}function Ct(t,n,s,a){if(s&We.Optional&&void 0===a&&(a=null),0==(s&(We.Self|We.Host))){const l=t[9],c=An(void 0);try{return l?l.get(n,a,s&We.Optional):Ze(n,a,s&We.Optional)}finally{An(c)}}return Si(a,n,s)}function kl(t,n,s,a=We.Default,l){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Kt)?t[Kt]:void 0;return"number"==typeof n?n>=0?255&n:Ls:n}(s);if("function"==typeof c){if(!Sl(n,t,a))return a&We.Host?Si(l,s,a):Ct(n,s,a,l);try{const f=c(a);if(null!=f||a&We.Optional)return f;tt(s)}finally{Fu()}}else if("number"==typeof c){let f=null,_=sr(t,n),v=-1,w=a&We.Host?n[16][6]:null;for((-1===_||a&We.SkipSelf)&&(v=-1===_?Mr(t,n):n[_+8],-1!==v&&ju(a,!1)?(f=n[1],_=Jr(v),n=Ai(v,n)):_=-1);-1!==_;){const T=n[1];if(Ri(c,_,T.data)){const M=Kn(_,n,s,f,a,w);if(M!==cn)return M}v=n[_+8],-1!==v&&ju(a,n[1].data[_+8]===w)&&Ri(c,_,n)?(f=T,_=Jr(v),n=Ai(v,n)):_=-1}}}return Ct(n,s,a,l)}const cn={};function Ls(){return new Mi(ln(),Me())}function Kn(t,n,s,a,l,c){const f=n[1],_=f.data[t+8],T=Oa(_,f,s,null==a?Ys(_)&&Pl:a!=f&&0!=(3&_.type),l&We.Host&&c===_);return null!==T?Jo(n,f,T,_):cn}function Oa(t,n,s,a,l){const c=t.providerIndexes,f=n.data,_=1048575&c,v=t.directiveStart,T=c>>20,x=l?_+T:t.directiveEnd;for(let $=a?_:_+T;$<x;$++){const Y=f[$];if($<v&&s===Y||$>=v&&Y.type===s)return $}if(l){const $=f[v];if($&&Vn($)&&$.type===s)return v}return null}function Jo(t,n,s,a){let l=t[s];const c=n.data;if(function(t){return t instanceof ks}(l)){const f=l;f.resolving&&function(t,n){throw new Ee("200",`Circular dependency in DI detected for ${t}`)}(de(c[s]));const _=oo(f.canSeeViewProviders);f.resolving=!0;const v=f.injectImpl?An(f.injectImpl):null;Sl(t,a,We.Default);try{l=t[s]=f.factory(void 0,c,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=n.type.prototype;if(a){const f=_l(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,f)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],n)}finally{null!==v&&An(v),oo(_),f.resolving=!1,Fu()}}return l}function Ri(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function ju(t,n){return!(t&We.Self||t&We.Host&&n)}class Mi{constructor(n,s){this._tNode=n,this._lView=s}get(n,s){return kl(this._tNode,this._lView,n,void 0,s)}}function Fl(t){return yt(()=>{const n=t.prototype.constructor,s=n[vt]||Xo(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[vt]||Xo(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function Xo(t){return ie(t)?()=>{const n=Xo(j(t));return n&&n()}:Yi(t)}function Ll(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(Uu(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===n)return s[l+1];l+=2}}}return null}(ln(),t)}const lo="__parameters__";function Vs(t,n,s){return yt(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(n);function l(...c){if(this instanceof l)return a.apply(this,c),this;const f=new l(...c);return _.annotation=f,_;function _(v,w,T){const M=v.hasOwnProperty(lo)?v[lo]:Object.defineProperty(v,lo,{value:[]})[lo];for(;M.length<=T;)M.push(null);return(M[T]=M[T]||[]).push(f),v}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class yn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Je({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $u=new yn("AnalyzeForEntryComponents"),_r=Function;function or(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),or(a,n)):n!==t&&n.push(a)}return n}function Bn(t,n){t.forEach(s=>Array.isArray(s)?Bn(s,n):n(s))}function ho(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function xr(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function jr(t,n,s){let a=ar(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let l=t.length;if(l==n)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function vr(t,n){const s=ar(t,n);if(s>=0)return t[1|s]}function ar(t,n){return function(t,n,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),f=t[c<<s];if(n===f)return c<<s;f>n?l=c:a=c+1}return~(l<<s)}(t,n,1)}const At={},Ut="__NG_DI_FLAG__",vn="ngTempTokenPath",On=/\n/gm,Us="__source",lr=J({provide:String,useValue:J});let Cr;function mi(t){const n=Cr;return Cr=t,n}function of(t,n=We.Default){if(void 0===Cr)throw new Error("inject() must be called from an injection context");return null===Cr?Ze(t,void 0,n):Cr.get(t,n&We.Optional?null:void 0,n)}function In(t,n=We.Default){return(xt||of)(j(t),n)}function mo(t){const n=[];for(let s=0;s<t.length;s++){const a=j(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let l,c=We.Default;for(let f=0;f<a.length;f++){const _=a[f],v=Hl(_);"number"==typeof v?-1===v?l=_.token:c|=v:l=_}n.push(In(l,c))}else n.push(In(a))}return n}function Fa(t,n){return t[Ut]=n,t.prototype[Ut]=n,t}function Hl(t){return t[Ut]}function Ed(t,n,s,a){const l=t[vn];throw n[Us]&&l.unshift(n[Us]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=Q(n);if(Array.isArray(n))l=n.map(Q).join(" -> ");else if("object"==typeof n){let c=[];for(let f in n)if(n.hasOwnProperty(f)){let _=n[f];c.push(f+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[vn]=null,t}const _o=Fa(Vs("Inject",t=>({token:t})),-1),us=Fa(Vs("Optional"),8),xi=Fa(Vs("SkipSelf"),4);let $l;function Ua(t){var n;return(null===(n=function(){if(void 0===$l&&($l=null,jt.trustedTypes))try{$l=jt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return $l}())||void 0===n?void 0:n.createHTML(t))||t}class oa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hf extends oa{getTypeName(){return"HTML"}}class ff extends oa{getTypeName(){return"Style"}}class bg extends oa{getTypeName(){return"Script"}}class Md extends oa{getTypeName(){return"URL"}}class pf extends oa{getTypeName(){return"ResourceURL"}}function vo(t){return t instanceof oa?t.changingThisBreaksApplicationSecurity:t}function y(t,n){const s=p(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function p(t){return t instanceof oa&&t.getTypeName()||null}function m(t){return new hf(t)}function E(t){return new ff(t)}function A(t){return new bg(t)}function k(t){return new Md(t)}function ae(t){return new pf(t)}class Ge{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Ua(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class st{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ua(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ua(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let l=s.length-1;0<l;l--){const f=s.item(l).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Dn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function St(t){return(t=String(t)).match(Dn)||t.match(Pt)?t:"unsafe:"+t}function Qn(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function Gt(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Wl=Qn("area,br,col,hr,img,wbr"),Zu=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aa=Qn("rp,rt"),ur=Gt(Wl,Gt(Zu,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gt(aa,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gt(aa,Zu)),Gl=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zl=Qn("srcset"),Ey=Gt(Gl,zl,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ub=Qn("script,style,template");class by{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!ur.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ub.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let l=0;l<a.length;l++){const c=a.item(l),f=c.name,_=f.toLowerCase();if(!Ey.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let v=c.value;Gl[_]&&(v=St(v)),zl[_]&&(t=v,v=(t=String(t)).split(",").map(n=>St(n.trim())).join(", ")),this.buf.push(" ",f,'="',qu(v),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();ur.hasOwnProperty(s)&&!Wl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(qu(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Zl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wg=/([^\#-~ |!])/g;function qu(t){return t.replace(/&/g,"&amp;").replace(Zl,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(wg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mf;function wy(t,n){let s=null;try{mf=mf||function(t){const n=new st(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ua(""),"text/html")}catch(t){return!1}}()?new Ge(n):n}(t);let a=n?String(n):"";s=mf.getInertBodyElement(a);let l=5,c=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=c,c=s.innerHTML,s=mf.getInertBodyElement(a)}while(a!==c);return Ua((new by).sanitizeChildren(_f(s)||s))}finally{if(s){const a=_f(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function _f(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Hn=(()=>((Hn=Hn||{})[Hn.NONE=0]="NONE",Hn[Hn.HTML=1]="HTML",Hn[Hn.STYLE=2]="STYLE",Hn[Hn.SCRIPT=3]="SCRIPT",Hn[Hn.URL=4]="URL",Hn[Hn.RESOURCE_URL=5]="RESOURCE_URL",Hn))();function la(t){const n=function(){const t=Me();return t&&t[12]}();return n?n.sanitize(Hn.URL,t)||"":y(t,"URL")?vo(t):St(X(t))}const Ty="__ngContext__";function Or(t,n){t[Ty]=n}function bf(t){const n=function(t){return t[Ty]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Wa(t){return t.ngOriginalError}function Pn(t,...n){t.error(...n)}class Ga{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=this._findContext(n),l=(t=n)&&t.ngErrorLogger||Pn;var t;l(this._console,"ERROR",n),s&&l(this._console,"ORIGINAL ERROR",s),a&&l(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?n.ngDebugContext||this._findContext(Wa(n)):null}_findOriginalError(n){let s=n&&Wa(n);for(;s&&Wa(s);)s=Wa(s);return s||null}}const Ju=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Oi(t){return t instanceof Function?t():t}var wo=(()=>((wo=wo||{})[wo.Important=1]="Important",wo[wo.DashCase=2]="DashCase",wo))();function Rg(t,n){return undefined(t,n)}function ec(t){const n=t[3];return Zn(n)?n[3]:n}function tc(t){return Af(t[13])}function za(t){return Af(t[4])}function Af(t){for(;null!==t&&!Zn(t);)t=t[4];return t}function nc(t,n,s,a,l){if(null!=a){let c,f=!1;Zn(a)?c=a:zi(a)&&(f=!0,a=a[0]);const _=Jt(a);0===t&&null!==s?null==l?Ld(n,s,_):Yl(n,s,_,l||null,!0):1===t&&null!==s?Yl(n,s,_,l||null,!0):2===t?function(t,n,s){const a=Ql(t,n);a&&function(t,n,s,a){nn(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,_,f):3===t&&n.destroyNode(_),null!=c&&function(t,n,s,a,l){const c=s[7];c!==Jt(s)&&nc(n,t,a,c,l);for(let _=10;_<s.length;_++){const v=s[_];Xl(v[1],v,t,n,a,c)}}(n,t,c,s,l)}}function Og(t,n,s){return nn(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function rc(t,n){const s=t[9],a=s.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,xs(l,-1)),s.splice(a,1)}function ua(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&rc(l,a),n>0&&(t[s-1][4]=a[4]);const c=xr(t,10+n);!function(t,n){Xl(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const f=c[19];null!==f&&f.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Kl(t,n){if(!(256&n[2])){const s=n[11];nn(s)&&s.destroyNode&&Xl(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Io(t[1],t);for(;n;){let s=null;if(zi(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)zi(n)&&Io(n[1],n),n=n[3];null===n&&(n=t),zi(n)&&Io(n[1],n),s=n&&n[4]}n=s}}(n)}}function Io(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=n[s[a]];if(!(l instanceof ks)){const c=s[a+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const _=l[c[f]],v=c[f+1];try{v.call(_)}finally{}}else try{c.call(l)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const f=s[c+1],_="function"==typeof f?f(n):Jt(n[f]),v=a[l=s[c+2]],w=s[c+3];"boolean"==typeof w?_.removeEventListener(s[c],v,w):w>=0?a[l=w]():a[l=-w].unsubscribe(),c+=2}else{const f=a[l=s[c+1]];s[c].call(f)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();n[7]=null}}(t,n),1===n[1].type&&nn(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Zn(n[3])){s!==n[3]&&rc(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function ic(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===ke.None||l===ke.Emulated)return null}return pr(a,s)}(t,n.parent,s)}function Yl(t,n,s,a,l){nn(t)?t.insertBefore(n,s,a,l):n.insertBefore(s,a,l)}function Ld(t,n,s){nn(t)?t.appendChild(n,s):n.appendChild(s)}function sc(t,n,s,a,l){null!==a?Yl(t,n,s,a,l):Ld(t,n,s)}function Ql(t,n){return nn(t)?t.parentNode(n):n.parentNode}let fn=function(t,n,s){return 40&t.type?pr(t,s):null};function ac(t,n,s,a){const l=ic(t,a,n),c=n[11],_=function(t,n,s){return fn(t,n,s)}(a.parent||n[6],a,n);if(null!=l)if(Array.isArray(s))for(let v=0;v<s.length;v++)sc(c,l,s[v],_,!1);else sc(c,l,s,_,!1)}function Vd(t,n){if(null!==n){const s=n.type;if(3&s)return pr(n,t);if(4&s)return ca(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Vd(t,a);{const l=t[n.index];return Zn(l)?ca(-1,l):Jt(l)}}if(32&s)return Rg(n,t)()||Jt(t[n.index]);{const a=Mf(t,n);return null!==a?Array.isArray(a)?a[0]:Vd(ec(t[16]),a):Vd(t,n.next)}}return null}function Mf(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ca(t,n){const s=10+t+1;if(s<n.length){const a=n[s],l=a[1].firstChild;if(null!==l)return Vd(a,l)}return n[7]}function Do(t,n,s,a,l,c,f){for(;null!=s;){const _=a[s.index],v=s.type;if(f&&0===n&&(_&&Or(Jt(_),a),s.flags|=4),64!=(64&s.flags))if(8&v)Do(t,n,s.child,a,l,c,!1),nc(n,t,l,_,c);else if(32&v){const w=Rg(s,a);let T;for(;T=w();)nc(n,t,l,T,c);nc(n,t,l,_,c)}else 16&v?Vg(t,n,a,s,l,c):nc(n,t,l,_,c);s=f?s.projectionNext:s.next}}function Xl(t,n,s,a,l,c){Do(s,a,t.firstChild,n,l,c,!1)}function Vg(t,n,s,a,l,c){const f=s[16],v=f[6].projection[a.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)nc(n,t,l,v[w],c);else Do(t,n,v,f[3],l,c,!0)}function By(t,n,s){nn(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function Ug(t,n,s){nn(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function jy(t,n,s){let a=t.length;for(;;){const l=t.indexOf(n,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=n.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const Hy="ng-template";function e0(t,n,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==jy(l.toLowerCase(),n,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function Bg(t){return 4===t.type&&t.value!==Hy}function $y(t,n,s){return n===(4!==t.type||s?t.value:Hy)}function t0(t,n,s){let a=4;const l=t.attrs||[],c=function(t){for(let n=0;n<t.length;n++)if(Uu(t[n]))return n;return t.length}(l);let f=!1;for(let _=0;_<n.length;_++){const v=n[_];if("number"!=typeof v){if(!f)if(4&a){if(a=2|1&a,""!==v&&!$y(t,v,s)||""===v&&1===n.length){if(js(a))return!1;f=!0}}else{const w=8&a?v:n[++_];if(8&a&&null!==t.attrs){if(!e0(t.attrs,w,s)){if(js(a))return!1;f=!0}continue}const M=n0(8&a?"class":v,l,Bg(t),s);if(-1===M){if(js(a))return!1;f=!0;continue}if(""!==w){let x;x=M>c?"":l[M+1].toLowerCase();const $=8&a?x:null;if($&&-1!==jy($,w,0)||2&a&&w!==x){if(js(a))return!1;f=!0}}}}else{if(!f&&!js(a)&&!js(v))return!1;if(f&&js(v))continue;f=!1,a=v|1&a}}return js(a)||f}function js(t){return 0==(1&t)}function n0(t,n,s,a){if(null===n)return-1;let l=0;if(a||!s){let c=!1;for(;l<n.length;){const f=n[l];if(f===t)return l;if(3===f||6===f)c=!0;else{if(1===f||2===f){let _=n[++l];for(;"string"==typeof _;)_=n[++l];continue}if(4===f)break;if(0===f){l+=4;continue}}l+=c?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Wy(t,n,s=!1){for(let a=0;a<n.length;a++)if(t0(t,n[a],s))return!0;return!1}function Hg(t,n){return t?":not("+n.trim()+")":n}function Of(t){let n=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let f=t[s];if("string"==typeof f)if(2&a){const _=t[++s];l+="["+f+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?l+="."+f:4&a&&(l+=" "+f);else""!==l&&!js(f)&&(n+=Hg(c,l),l=""),a=f,c=c||!js(a);s++}return""!==l&&(n+=Hg(c,l)),n}const pt={};function Wg(t){Gy(It(),Me(),ir()+t,Aa())}function Gy(t,n,s,a){if(!a)if(3==(3&n[2])){const c=t.preOrderCheckHooks;null!==c&&so(n,c,s)}else{const c=t.preOrderHooks;null!==c&&Ko(n,c,0,s)}Zo(s)}function Pf(t,n){return t<<17|n<<2}function fs(t){return t>>17&32767}function Gg(t){return 2|t}function da(t){return(131068&t)>>2}function zg(t,n){return-131069&t|n<<2}function uc(t){return 1|t}function Jy(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const f=t.data[c];no(l),f.contentQueries(2,n[c],c)}}}function eu(t,n,s,a,l,c,f,_,v,w){const T=n.blueprint.slice();return T[0]=l,T[2]=140|a,Ns(T),T[3]=T[15]=t,T[8]=s,T[10]=f||t&&t[10],T[11]=_||t&&t[11],T[12]=v||t&&t[12]||null,T[9]=w||t&&t[9]||null,T[6]=c,T[16]=2==n.type?t[16]:T,T}function hc(t,n,s,a,l){let c=t.data[n];if(null===c)c=function(t,n,s,a,l){const c=$o(),f=to(),v=t.data[n]=function(t,n,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,s,n,a,l);return null===t.firstChild&&(t.firstChild=v),null!==c&&(f?null==c.child&&null!==v.parent&&(c.child=v):null===c.next&&(c.next=v)),v}(t,n,s,a,l),Xe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const f=function(){const t=Xe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return Vr(c,!0),c}function tu(t,n,s,a){if(0===s)return-1;const l=n.length;for(let c=0;c<s;c++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function qa(t,n,s){gi(n);try{const a=t.viewQuery;null!==a&&hm(1,a,s);const l=t.template;null!==l&&rm(t,n,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jy(t,n),t.staticViewQueries&&hm(2,t.viewQuery,s);const c=t.components;null!==c&&function(t,n){for(let s=0;s<n.length;s++)zd(t,n[s])}(n,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Os()}}function fc(t,n,s,a){const l=n[2];if(256==(256&l))return;gi(n);const c=Aa();try{Ns(n),function(t){Xe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&rm(t,n,s,2,a);const f=3==(3&l);if(!c)if(f){const w=t.preOrderCheckHooks;null!==w&&so(n,w,null)}else{const w=t.preOrderHooks;null!==w&&Ko(n,w,0,null),xn(n,0)}if(function(t){for(let n=tc(t);null!==n;n=za(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&xs(c,1),l[2]|=1024}}}(n),function(t){for(let n=tc(t);null!==n;n=za(n))for(let s=10;s<n.length;s++){const a=n[s],l=a[1];jo(a)&&fc(l,a,l.template,a[8])}}(n),null!==t.contentQueries&&Jy(t,n),!c)if(f){const w=t.contentCheckHooks;null!==w&&so(n,w)}else{const w=t.contentHooks;null!==w&&Ko(n,w,1),xn(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Zo(~l);else{const c=l,f=s[++a],_=s[++a];Wo(f,c),_(2,n[c])}}}finally{Zo(-1)}}(t,n);const _=t.components;null!==_&&function(t,n){for(let s=0;s<n.length;s++)uv(t,n[s])}(n,_);const v=t.viewQuery;if(null!==v&&hm(2,v,a),!c)if(f){const w=t.viewCheckHooks;null!==w&&so(n,w)}else{const w=t.viewHooks;null!==w&&Ko(n,w,2),xn(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,xs(n[3],-1))}finally{Os()}}function pc(t,n,s,a){const l=n[10],c=!Aa(),f=El(n);try{c&&!f&&l.begin&&l.begin(),f&&qa(t,n,a),fc(t,n,s,a)}finally{c&&!f&&l.end&&l.end()}}function rm(t,n,s,a,l){const c=ir(),f=2&a;try{Zo(-1),f&&n.length>20&&Gy(t,n,20,Aa()),s(a,l)}finally{Zo(c)}}function Vf(t,n,s){!Il()||(function(t,n,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||rs(s,n),Or(a,n);const f=s.initialInputs;for(let _=l;_<c;_++){const v=t.data[_],w=Vn(v);w&&b0(n,s,v);const T=Jo(n,t,_,s);Or(T,n),null!==f&&lv(0,_-l,T,v,0,f),w&&(rr(s.index,n)[8]=T)}}(t,n,s,pr(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,l=s.directiveEnd,f=s.index,_=Xe.lFrame.currentDirectiveIndex;try{Zo(f);for(let v=a;v<l;v++){const w=t.data[v],T=n[v];Go(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Hd(w,T)}}finally{Zo(-1),Go(_)}}(t,n,s))}function gc(t,n,s=pr){const a=n.localNames;if(null!==a){let l=n.index+1;for(let c=0;c<a.length;c+=2){const f=a[c+1],_=-1===f?s(n,t):t[f];t[l++]=_}}}function jd(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=mc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function mc(t,n,s,a,l,c,f,_,v,w){const T=20+a,M=T+l,x=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:pt);return s}(T,M),$="function"==typeof w?w():w;return x[1]={type:t,blueprint:x,template:s,queries:null,viewQuery:_,declTNode:n,data:x.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:v,consts:$,incompleteFirstPass:!1}}function Xy(t,n,s,a){const l=hv(n);null===s?l.push(a):(l.push(s),t.firstCreatePass&&fv(t).push(a,l.length-1))}function ev(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,l):s[a]=[n,l]}return s}function ki(t,n,s,a,l,c,f,_){const v=pr(n,s);let T,w=n.inputs;!_&&null!=w&&(T=w[a])?(pm(t,s,T,a,l),Ys(n)&&function(t,n){const s=rr(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=f?f(l,n.value||"",a):l,nn(c)?c.setProperty(v,a,l):mr(a)||(v.setProperty?v.setProperty(a,l):v[a]=l))}function yc(t,n,s,a){let l=!1;if(Il()){const c=function(t,n,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const f=a[c];Wy(s,f.selectors,!1)&&(l||(l=[]),qn(rs(s,n),t,f.type),Vn(f)?(sv(t,s),l.unshift(f)):l.push(f))}return l}(t,n,s),f=null===a?null:{"":-1};if(null!==c){l=!0,ov(s,t.data.length,c.length);for(let T=0;T<c.length;T++){const M=c[T];M.providersResolver&&M.providersResolver(M)}let _=!1,v=!1,w=tu(t,n,c.length,null);for(let T=0;T<c.length;T++){const M=c[T];s.mergedAttrs=Qo(s.mergedAttrs,M.hostAttrs),av(t,s,n,w,M),cm(w,M,f),null!==M.contentQueries&&(s.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=128);const x=M.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),_=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),v=!0),w++}!function(t,n){const a=n.directiveEnd,l=t.data,c=n.attrs,f=[];let _=null,v=null;for(let w=n.directiveStart;w<a;w++){const T=l[w],M=T.inputs,x=null===c||Bg(n)?null:w0(M,c);f.push(x),_=ev(M,w,_),v=ev(T.outputs,w,v)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=16),_.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=_,n.outputs=v}(t,s)}f&&function(t,n,s){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const c=s[n[l+1]];if(null==c)throw new Ee("301",`Export of name '${n[l+1]}' not found!`);a.push(n[l],c)}}}(s,a,f)}return s.mergedAttrs=Qo(s.mergedAttrs,s.attrs),l}function Ka(t,n,s,a,l,c){const f=c.hostBindings;if(f){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const v=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(_)!=v&&_.push(v),_.push(a,l,f)}}function Hd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function sv(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function cm(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Vn(n)&&(s[""]=t)}}function ov(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function av(t,n,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=Yi(l.type)),f=new ks(c,Vn(l),null);t.blueprint[a]=f,s[a]=f,Ka(t,n,0,a,tu(t,s,l.hostVars,pt),l)}function b0(t,n,s){const a=pr(n,t),l=jd(s),c=t[10],f=Hf(t,eu(t,l,null,s.onPush?64:16,a,n,c,c.createRenderer(a,s),null,null));t[n.index]=f}function ps(t,n,s,a,l,c){const f=pr(t,n);!function(t,n,s,a,l,c,f){if(null==c)nn(t)?t.removeAttribute(n,l,s):n.removeAttribute(l);else{const _=null==f?X(c):f(c,a||"",l);nn(t)?t.setAttribute(n,l,_,s):s?n.setAttributeNS(s,l,_):n.setAttribute(l,_)}}(n[11],f,c,t.value,s,a,l)}function lv(t,n,s,a,l,c){const f=c[n];if(null!==f){const _=a.setInput;for(let v=0;v<f.length;){const w=f[v++],T=f[v++],M=f[v++];null!==_?a.setInput(s,M,w,T):s[T]=M}}}function w0(t,n){let s=null,a=0;for(;a<n.length;){const l=n[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],n[a+1])),a+=2}else a+=2;else a+=4}return s}function Hs(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function uv(t,n){const s=rr(n,t);if(jo(s)){const a=s[1];80&s[2]?fc(a,s,a.template,s[8]):s[5]>0&&Gd(s)}}function Gd(t){for(let a=tc(t);null!==a;a=za(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const f=c[1];fc(f,c,f.template,c[8])}else c[5]>0&&Gd(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=rr(s[a],t);jo(l)&&l[5]>0&&Gd(l)}}function zd(t,n){const s=rr(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),qa(a,s,s[8])}function Hf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function _i(t){for(;t;){t[2]|=64;const n=ec(t);if(Tr(t)&&!n)return t;t=n}return null}function Cc(t,n,s){const a=n[10];a.begin&&a.begin();try{fc(t,n,t.template,s)}catch(l){throw Ec(n,l),l}finally{a.end&&a.end()}}function $f(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=bf(s),l=a[1];pc(l,a,l.template,s)}}(t[8])}function hm(t,n,s){no(0),n(t,s)}const T0=(()=>Promise.resolve(null))();function hv(t){return t[7]||(t[7]=[])}function fv(t){return t.cleanup||(t.cleanup=[])}function Ec(t,n){const s=t[9],a=s?s.get(Ga,null):null;a&&a.handleError(n)}function pm(t,n,s,a,l){for(let c=0;c<s.length;){const f=s[c++],_=s[c++],v=n[f],w=t.data[f];null!==w.setInput?w.setInput(v,l,a,_):v[_]=l}}function So(t,n,s){const a=Di(n,t);!function(t,n,s){nn(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Wf(t,n,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==n)for(let f=0;f<n.length;f++){const _=n[f];"number"==typeof _?c=_:1==c?l=K(l,_):2==c&&(a=K(a,_+": "+n[++f]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Ya=new yn("INJECTOR",-1);class pv{get(n,s=At){if(s===At){const a=new Error(`NullInjectorError: No provider for ${Q(n)}!`);throw a.name="NullInjectorError",a}return s}}const qd=new yn("Set Injector scope."),Kd={},gv={};let mm;function mv(){return void 0===mm&&(mm=new pv),mm}function zf(t,n=null,s=null,a){return new _v(t,s,n||mv(),a)}class _v{constructor(n,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Bn(s,_=>this.processProvider(_,n,s)),Bn([n],_=>this.processInjectorType(_,[],c)),this.records.set(Ya,Ja(void 0,this));const f=this.records.get(qd);this.scope=null!=f?f.value:null,this.source=l||("object"==typeof n?null:Q(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=At,a=We.Default){this.assertNotDestroyed();const l=mi(this),c=An(void 0);try{if(!(a&We.SkipSelf)){let _=this.records.get(n);if(void 0===_){const v=("function"==typeof(t=n)||"object"==typeof t&&t instanceof yn)&&Fn(n);_=v&&this.injectableDefInScope(v)?Ja(_m(n),Kd):null,this.records.set(n,_)}if(null!=_)return this.hydrate(n,_)}return(a&We.Self?mv():this.parent).get(n,s=a&We.Optional&&s===At?null:s)}catch(f){if("NullInjectorError"===f.name){if((f[vn]=f[vn]||[]).unshift(Q(n)),l)throw f;return Ed(f,n,"R3InjectorError",this.source)}throw f}finally{An(c),mi(l)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,l)=>n.push(Q(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=j(n)))return!1;let l=ai(n);const c=null==l&&n.ngModule||void 0,f=void 0===c?n:c,_=-1!==a.indexOf(f);if(void 0!==c&&(l=ai(c)),null==l)return!1;if(null!=l.imports&&!_){let T;a.push(f);try{Bn(l.imports,M=>{this.processInjectorType(M,s,a)&&(void 0===T&&(T=[]),T.push(M))})}finally{}if(void 0!==T)for(let M=0;M<T.length;M++){const{ngModule:x,providers:$}=T[M];Bn($,Y=>this.processProvider(Y,x,$||H))}}this.injectorDefTypes.add(f);const v=Yi(f)||(()=>new f);this.records.set(f,Ja(v,Kd));const w=l.providers;if(null!=w&&!_){const T=n;Bn(w,M=>this.processProvider(M,T,w))}return void 0!==c&&void 0!==n.providers}processProvider(n,s,a){let l=Ic(n=j(n))?n:j(n&&n.provide);const c=Yd(t=n)?Ja(void 0,t.useValue):Ja(yv(t),Kd);var t;if(Ic(n)||!0!==n.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Ja(void 0,Kd,!0),f.factory=()=>mo(f.multi),this.records.set(l,f)),l=n,f.multi.push(n)}this.records.set(l,c)}hydrate(n,s){return s.value===Kd&&(s.value=gv,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=j(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function _m(t){const n=Fn(t),s=null!==n?n.factory:Yi(t);if(null!==s)return s;if(t instanceof yn)throw new Error(`Token ${Q(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=function(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?");throw new Error(`Can't resolve all parameters for ${Q(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[Lr]||t[qr]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function yv(t,n,s){let a;if(Ic(t)){const l=j(t);return Yi(l)||_m(l)}if(Yd(t))a=()=>j(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...mo(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>In(j(t.useExisting));else{const l=j(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Yi(l)||_m(l);a=()=>new l(...mo(t.deps))}return a}function Ja(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Yd(t){return null!==t&&"object"==typeof t&&lr in t}function Ic(t){return"function"==typeof t}const wv=function(t,n,s){return function(t,n=null,s=null,a){const l=zf(t,n,s,a);return l._resolveInjectorDefTypes(),l}({name:s},n,t,s)};let Tn=(()=>{class t{static create(s,a){return Array.isArray(s)?wv(s,a,""):wv(s.providers,s.parent,s.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new pv,t.\u0275prov=Je({token:t,providedIn:"any",factory:()=>In(Ya)}),t.__NG_ELEMENT_ID__=-1,t})();function F0(t,n){Ra(bf(t)[1],ln())}function Cm(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let l;if(Vn(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(s){a.push(l);const f=t;f.inputs=Em(t.inputs),f.declaredInputs=Em(t.declaredInputs),f.outputs=Em(t.outputs);const _=l.hostBindings;_&&B0(t,_);const v=l.viewQuery,w=l.contentQueries;if(v&&V0(t,v),w&&U0(t,w),be(t.inputs,l.inputs),be(t.declaredInputs,l.declaredInputs),be(t.outputs,l.outputs),Vn(l)&&l.data.animation){const T=t.data;T.animation=(T.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let f=0;f<c.length;f++){const _=c[f];_&&_.ngInherit&&_(t),_===Cm&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Qo(l.hostAttrs,s=Qo(s,l.hostAttrs))}}(a)}function Em(t){return t===G?{}:t===H?[]:t}function V0(t,n){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{n(a,l),s(a,l)}:n}function U0(t,n){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{n(a,l,c),s(a,l,c)}:n}function B0(t,n){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{n(a,l),s(a,l)}:n}let vi=null;function Dc(){if(!vi){const t=jt.Symbol;if(t&&t.iterator)vi=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(vi=a)}}}return vi}function eh(t){return!!bm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Dc()in t)}function bm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ni(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function wm(t,n,s,a){const l=Me();return ni(l,pi(),n)&&(It(),ps(Nn(),l,t,n,s,a)),wm}function Oc(t,n,s,a,l,c,f,_){const v=Me(),w=It(),T=t+20,M=w.firstCreatePass?function(t,n,s,a,l,c,f,_,v){const w=n.consts,T=hc(n,t,4,f||null,Qr(w,_));yc(n,s,T,Qr(w,v)),Ra(n,T);const M=T.tViews=mc(2,T,a,l,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,w);return null!==n.queries&&(n.queries.template(n,T),M.queries=n.queries.embeddedTView(T)),T}(T,w,v,n,s,a,l,c,f):w.data[T];Vr(M,!1);const x=v[11].createComment("");ac(w,v,x,M),Or(x,v),Hf(v,v[T]=Hs(x,v,x,M)),Zi(M)&&Vf(w,v,M),null!=f&&gc(v,M,_)}function Wv(t){return function(t,n){return t[n]}(Xe.lFrame.contextLView,20+t)}function op(t,n=We.Default){const s=Me();return null===s?In(t,n):kl(ln(),s,j(t),n)}function Rm(t,n,s){const a=Me();return ni(a,pi(),n)&&ki(It(),Nn(),a,t,n,a[11],s,!1),Rm}function Mm(t,n,s,a,l){const f=l?"class":"style";pm(t,s,n.inputs[f],f,a)}function ys(t,n,s,a){const l=Me(),c=It(),f=20+t,_=l[11],v=l[f]=Og(_,n,Xe.lFrame.currentNamespace),w=c.firstCreatePass?function(t,n,s,a,l,c,f){const _=n.consts,w=hc(n,t,2,l,Qr(_,c));return yc(n,s,w,Qr(_,f)),null!==w.attrs&&Wf(w,w.attrs,!1),null!==w.mergedAttrs&&Wf(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(f,c,l,0,n,s,a):c.data[f];Vr(w,!0);const T=w.mergedAttrs;null!==T&&Ol(_,v,T);const M=w.classes;null!==M&&Ug(_,v,M);const x=w.styles;null!==x&&By(_,v,x),64!=(64&w.flags)&&ac(c,l,v,w),0===Xe.lFrame.elementDepthCount&&Or(v,l),Xe.lFrame.elementDepthCount++,Zi(w)&&(Vf(c,l,w),function(t,n,s){if(Tu(n)){const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const f=t.data[c];f.contentQueries&&f.contentQueries(1,s[c],c)}}}(c,w,l)),null!==a&&gc(l,w)}function Fc(){let t=ln();to()?Xe.lFrame.isParent=!1:(t=t.parent,Vr(t,!1));const n=t;Xe.lFrame.elementDepthCount--;const s=It();s.firstCreatePass&&(Ra(s,t),Tu(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Mm(s,n,Me(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Mm(s,n,Me(),n.stylesWithoutHost,!1)}function Nm(t,n,s,a){ys(t,n,s,a),Fc()}function sC(){return Me()}function ii(t){return!!t&&"function"==typeof t.then}function Om(t){return!!t&&"function"==typeof t.subscribe}const ap=Om;function Pm(t,n,s,a){const l=Me(),c=It(),f=ln();return function(t,n,s,a,l,c,f,_){const v=Zi(a),T=t.firstCreatePass&&fv(t),M=n[8],x=hv(n);let $=!0;if(3&a.type||_){const re=pr(a,n),Pe=_?_(re):re,Te=x.length,Ke=_?ht=>_(Jt(ht[a.index])):a.index;if(nn(s)){let ht=null;if(!_&&v&&(ht=function(t,n,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const f=l[c];if(f===s&&l[c+1]===a){const _=n[7],v=l[c+2];return _.length>v?_[v]:null}"string"==typeof f&&(c+=2)}return null}(t,n,l,a.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=c,ht.__ngLastListenerFn__=c,$=!1;else{c=Lm(a,n,M,c,!1);const $t=s.listen(Pe,l,c);x.push(c,$t),T&&T.push(l,Ke,Te,Te+1)}}else c=Lm(a,n,M,c,!0),Pe.addEventListener(l,c,f),x.push(c),T&&T.push(l,Ke,Te,f)}else c=Lm(a,n,M,c,!1);const Y=a.outputs;let me;if($&&null!==Y&&(me=Y[l])){const re=me.length;if(re)for(let Pe=0;Pe<re;Pe+=2){const Fr=n[me[Pe]][me[Pe+1]].subscribe(c),Lo=x.length;x.push(c,Fr),T&&T.push(l,a.index,Lo,-(Lo+1))}}}(c,l,l[11],f,t,n,!!s,a),Pm}function aC(t,n,s,a){try{return!1!==s(a)}catch(l){return Ec(t,l),!1}}function Lm(t,n,s,a,l){return function c(f){if(f===Function)return a;const _=2&t.flags?rr(t.index,n):n;0==(32&n[2])&&_i(_);let v=aC(n,0,a,f),w=c.__ngNextListenerFn__;for(;w;)v=aC(n,0,w,f)&&v,w=w.__ngNextListenerFn__;return l&&!1===v&&(f.preventDefault(),f.returnValue=!1),v}}function lC(t=1){return function(t){return(Xe.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,Xe.lFrame.contextLView))[8]}(t)}function Gm(t,n,s,a,l){const c=t[s+1],f=null===n;let _=a?fs(c):da(c),v=!1;for(;0!==_&&(!1===v||f);){const T=t[_+1];aw(t[_],n)&&(v=!0,t[_+1]=a?uc(T):Gg(T)),_=a?fs(T):da(T)}v&&(t[s+1]=a?Gg(c):uc(c))}function aw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ar(t,n)>=0}function Km(t,n){return function(t,n,s,a){const l=Me(),c=It(),f=function(t){const n=Xe.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);c.firstUpdatePass&&function(t,n,s,a){const l=t.data;if(null===l[s+1]){const c=l[ir()],f=function(t,n){return n>=t.expandoStartIndex}(t,s);(function(t,n){return 0!=(t.flags&(n?16:32))})(c,a)&&null===n&&!f&&(n=!1),n=function(t,n,s,a){const l=function(t){const n=Xe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let c=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(s=hp(s=Qm(null,t,n,s,a),n.attrs,a),c=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==l)if(s=Qm(l,t,n,s,a),null===c){let v=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==da(a))return t[fs(a)]}(t,n,a);void 0!==v&&Array.isArray(v)&&(v=Qm(null,t,n,v[1],a),v=hp(v,n.attrs,a),function(t,n,s,a){t[fs(s?n.classBindings:n.styleBindings)]=a}(t,n,a,v))}else c=function(t,n,s){let a;const l=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<l;c++)a=hp(a,t[c].hostAttrs,s);return hp(a,n.attrs,s)}(t,n,a)}return void 0!==c&&(a?n.residualClasses=c:n.residualStyles=c),s}(l,c,n,a),function(t,n,s,a,l,c){let f=c?n.classBindings:n.styleBindings,_=fs(f),v=da(f);t[a]=s;let T,w=!1;if(Array.isArray(s)){const M=s;T=M[1],(null===T||ar(M,T)>0)&&(w=!0)}else T=s;if(l)if(0!==v){const x=fs(t[_+1]);t[a+1]=Pf(x,_),0!==x&&(t[x+1]=zg(t[x+1],a)),t[_+1]=function(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Pf(_,0),0!==_&&(t[_+1]=zg(t[_+1],a)),_=a;else t[a+1]=Pf(v,0),0===_?_=a:t[v+1]=zg(t[v+1],a),v=a;w&&(t[a+1]=Gg(t[a+1])),Gm(t,T,a,!0),Gm(t,T,a,!1),function(t,n,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof n&&ar(c,n)>=0&&(s[a+1]=uc(s[a+1]))}(n,T,t,a,c),f=Pf(_,v),c?n.classBindings=f:n.styleBindings=f}(l,c,n,s,f,a)}}(c,t,f,a),n!==pt&&ni(l,f,n)&&function(t,n,s,a,l,c,f,_){if(!(3&n.type))return;const v=t.data,w=v[_+1];pp(function(t){return 1==(1&t)}(w)?Jm(v,n,s,l,da(w),f):void 0)||(pp(c)||function(t){return 2==(2&t)}(w)&&(c=Jm(v,null,s,l,_,f)),function(t,n,s,a,l){const c=nn(t);if(n)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let f=-1===a.indexOf("-")?void 0:wo.DashCase;if(null==l)c?t.removeStyle(s,a,f):s.style.removeProperty(a);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),f|=wo.Important),c?t.setStyle(s,a,l,f):s.style.setProperty(a,l,_?"important":"")}}}(a,f,Di(ir(),s),l,c))}(c,c.data[ir()],l,l[11],t,l[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Q(vo(t)))),t}(n,s),a,f)}(t,n,null,!0),Km}function Qm(t,n,s,a,l){let c=null;const f=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<f&&(c=n[_],a=hp(a,c.hostAttrs,l),c!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function hp(t,n,s){const a=s?1:2;let l=-1;if(null!==n)for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?l=f:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jr(t,f,!!s||n[++c]))}return void 0===t?null:t}function Jm(t,n,s,a,l,c){const f=null===n;let _;for(;l>0;){const v=t[l],w=Array.isArray(v),T=w?v[1]:v,M=null===T;let x=s[l+1];x===pt&&(x=M?H:void 0);let $=M?vr(x,a):T===a?x:void 0;if(w&&!pp($)&&($=vr(v,a)),pp($)&&(_=$,f))return _;const Y=t[l+1];l=f?fs(Y):da(Y)}if(null!==n){let v=c?n.residualClasses:n.residualStyles;null!=v&&(_=vr(v,a))}return _}function pp(t){return void 0!==t}function mp(t,n=""){const s=Me(),a=It(),l=t+20,c=a.firstCreatePass?hc(a,l,1,n,null):a.data[l],f=s[l]=function(t,n){return nn(t)?t.createText(n):t.createTextNode(n)}(s[11],n);ac(a,s,f,c),Vr(c,!1)}function IC(t){return uh("",t,""),IC}function uh(t,n,s){const a=Me(),l=function(t,n,s,a){return ni(t,pi(),s)?n+X(s)+a:pt}(a,t,n,s);return l!==pt&&So(a,ir(),l),uh}function _p(t,n,s){const a=Me();return ni(a,pi(),n)&&ki(It(),Nn(),a,t,n,a[11],s,!0),_p}const nl=void 0;var Ew=["en",[["a","p"],["AM","PM"],nl],[["AM","PM"],nl,nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nl,"{1} 'at' {0}",nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Bc={};function s_(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=UC(n);if(s)return s;const a=n.split("-")[0];if(s=UC(a),s)return s;if("en"===a)return Ew;throw new Error(`Missing locale data for the locale "${t}".`)}function o_(t){return s_(t)[ot.PluralCase]}function UC(t){return t in Bc||(Bc[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),Bc[t]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const yp="en-US";let BC=yp;function vp(t){nt(t,"Expected localeId to be defined"),"string"==typeof t&&(BC=t.toLowerCase().replace(/_/g,"-"))}function y_(t,n,s,a,l){if(t=j(t),Array.isArray(t))for(let c=0;c<t.length;c++)y_(t[c],n,s,a,l);else{const c=It(),f=Me();let _=Ic(t)?t:j(t.provide),v=yv(t);const w=ln(),T=1048575&w.providerIndexes,M=w.directiveStart,x=w.providerIndexes>>20;if(Ic(t)||!t.multi){const $=new ks(v,l,op),Y=yh(_,n,l?T:T+x,M);-1===Y?(qn(rs(w,f),c,_),_h(c,t,n.length),n.push(_),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push($),f.push($)):(s[Y]=$,f[Y]=$)}else{const $=yh(_,n,T+x,M),Y=yh(_,n,T,T+x),me=$>=0&&s[$],re=Y>=0&&s[Y];if(l&&!re||!l&&!me){qn(rs(w,f),c,_);const Pe=function(t,n,s,a,l){const c=new ks(t,s,op);return c.multi=[],c.index=n,c.componentProviders=0,v_(c,l,a&&!s),c}(l?C_:oE,s.length,l,a,v);!l&&re&&(s[Y].providerFactory=Pe),_h(c,t,n.length,0),n.push(_),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push(Pe),f.push(Pe)}else _h(c,t,$>-1?$:Y,v_(s[l?Y:$],v,!l&&a));!l&&a&&re&&s[Y].componentProviders++}}}function _h(t,n,s,a){const l=Ic(n);if(l||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const _=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const v=_.indexOf(s);-1===v?_.push(s,[a,f]):_[v+1].push(a,f)}else _.push(s,f)}}}function v_(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function yh(t,n,s,a){for(let l=s;l<a;l++)if(n[l]===t)return l;return-1}function oE(t,n,s,a){return vh(this.multi,[])}function C_(t,n,s,a){const l=this.multi;let c;if(this.providerFactory){const f=this.providerFactory.componentProviders,_=Jo(s,s[1],this.providerFactory.index,a);c=_.slice(0,f),vh(l,c);for(let v=f;v<_.length;v++)c.push(_[v])}else c=[],vh(l,c);return c}function vh(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function Rp(t,n=[]){return s=>{s.providersResolver=(a,l)=>function(t,n,s){const a=It();if(a.firstCreatePass){const l=Vn(t);y_(s,a.data,a.blueprint,l,!0),y_(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class aE{}const zc="ngComponent";class lE{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Q(t)}. Did you add it to @NgModule.entryComponents?`);return n[zc]=t,n}(n)}}let Ch=(()=>{class t{}return t.NULL=new lE,t})();function E_(...t){}function au(t,n){return new Pr(pr(t,n))}const cE=function(){return au(ln(),Me())};let Pr=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=cE,t})();function ol(t){return t instanceof Pr?t.nativeElement:t}class lu{}let Ww=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zw(),t})();const zw=function(){const t=Me(),s=rr(ln().index,t);return function(t){return t[11]}(zi(s)?s:t)};let Mp=(()=>{class t{}return t.\u0275prov=Je({token:t,providedIn:"root",factory:()=>null}),t})();class Np{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const b_=new Np("12.2.11");class w_{constructor(){}supports(n){return eh(n)}create(n){return new Kw(n)}}const qw=(t,n)=>n;class Kw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const f=!a||s&&s.currentIndex<D_(a,l,c)?s:a,_=D_(f,l,c),v=f.currentIndex;if(f===a)l--,a=a._nextRemoved;else if(s=s._next,null==f.previousIndex)l++;else{c||(c=[]);const w=_-l,T=v-l;if(w!=T){for(let x=0;x<w;x++){const $=x<c.length?c[x]:c[x]=0,Y=$+x;T<=Y&&Y<w&&(c[x]=$+1)}c[f.previousIndex]=T-w}}_!==v&&n(f,_,v)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!eh(n))throw new Error(`Error trying to diff '${Q(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,c,f,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)c=n[_],f=this._trackByFn(_,c),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,c,f,_)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,f,_),a=!0),s=s._next}else l=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Dc()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,_=>{f=this._trackByFn(l,_),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,_,f,l)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,f,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,l){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,c,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,c,l)):n=this._addAfter(new I_(s,a),c,l),n}_verifyReinsertion(n,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?n=this._reinsertAfter(c,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,c=n._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const l=null===s?this._itHead:s._next;return n._next=l,n._prev=s,null===l?this._itTail=n:l._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new xp),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xp),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class I_{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class xp{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Yw,this.map.set(s,a)),a.add(n)}get(n,s){const l=this.map.get(n);return l?l.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D_(t,n,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+n+l}class fE{constructor(){}supports(n){return n instanceof Map||bm(n)}create(){return new pE}}class pE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||bm(n)))throw new Error(`Error trying to diff '${Q(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,s);const c=l._prev,f=l._next;return c&&(c._next=f),f&&(f._prev=c),l._next=null,l._prev=null,l}const a=new Qw(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Qw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T_(){return new Op([new w_])}let Op=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||T_()),deps:[[t,new xi,new us]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Je({token:t,providedIn:"root",factory:T_}),t})();function A_(){return new kp([new fE])}let kp=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||A_()),deps:[[t,new xi,new us]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Je({token:t,providedIn:"root",factory:A_}),t})();function Eh(t,n,s,a,l=!1){for(;null!==s;){const c=n[s.index];if(null!==c&&a.push(Jt(c)),Zn(c))for(let _=10;_<c.length;_++){const v=c[_],w=v[1].firstChild;null!==w&&Eh(v[1],v,w,a)}const f=s.type;if(8&f)Eh(t,n,s.child,a);else if(32&f){const _=Rg(s,n);let v;for(;v=_();)a.push(v)}else if(16&f){const _=Mf(n,s);if(Array.isArray(_))a.push(..._);else{const v=ec(n[16]);Eh(v[1],v,_,a,!0)}}s=l?s.projectionNext:s.next}return a}class bh{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return Eh(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Zn(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(ua(n,a),xr(s,a))}this._attachedToViewContainer=!1}Kl(this._lView[1],this._lView)}onDestroy(n){Xy(this._lView[1],this._lView,null,n)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){ts(!0);try{Cc(t,n,s)}finally{ts(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Xl(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class $T extends bh{constructor(n){super(n),this._view=n}detectChanges(){$f(this._view)}checkNoChanges(){!function(t){ts(!0);try{$f(t)}finally{ts(!1)}}(this._view)}get context(){return null}}const gE=function(t){return function(t,n,s){if(Ys(t)&&!s){const a=rr(t.index,n);return new bh(a,a)}return 47&t.type?new bh(n[16],n):null}(ln(),Me(),16==(16&t))};let mE=(()=>{class t{}return t.__NG_ELEMENT_ID__=gE,t})();const eI=[new fE],tI=new Op([new w_]),nI=new kp(eI),iI=function(){return wh(ln(),Me())};let Zc=(()=>{class t{}return t.__NG_ELEMENT_ID__=iI,t})();const sI=Zc,vE=class extends sI{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=eu(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),qa(s,a,n),new bh(a)}};function wh(t,n){return 4&t.type?new vE(n,t,au(t,n)):null}class cu{}class R_{}const GT=function(){return Es(ln(),Me())};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=GT,t})();const zT=Ih,lI=class extends zT{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Mr(this._hostTNode,this._hostLView);if(Ma(n)){const s=Ai(n,this._hostLView),a=Jr(n);return new Mi(s[1].data[a+8],s)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=uI(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const l=n.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(n,s,a,l,c){const f=a||this.parentInjector;if(!c&&null==n.ngModule&&f){const v=f.get(cu,null);v&&(c=v)}const _=n.create(f,l,void 0,c);return this.insert(_.hostView,s),_}insert(n,s){const a=n._lView,l=a[1];if(Zn(a[3])){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const M=a[3],x=new lI(M,M[6],M[3]);x.detach(x.indexOf(n))}}const c=this._adjustIndex(s),f=this._lContainer;!function(t,n,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=n),a<c-10?(n[4]=s[l],ho(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const f=n[17];null!==f&&s!==f&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(f,n);const _=n[19];null!==_&&_.insertView(t),n[2]|=128}(l,a,f,c);const _=ca(c,f),v=a[11],w=Ql(v,f[7]);return null!==w&&function(t,n,s,a,l,c){a[0]=l,a[6]=n,Xl(t,a,s,1,l,c)}(l,f[6],v,a,w,_),n.attachToViewContainerRef(),ho(CE(f),c,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=uI(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=ua(this._lContainer,s);a&&(xr(CE(this._lContainer),s),Kl(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=ua(this._lContainer,s);return a&&null!=xr(CE(this._lContainer),s)?new bh(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function uI(t){return t[8]}function CE(t){return t[8]||(t[8]=[])}function Es(t,n){let s;const a=n[t.index];if(Zn(a))s=a;else{let l;if(8&t.type)l=Jt(a);else{const c=n[11];l=c.createComment("");const f=pr(t,n);Yl(c,Ql(c,f),l,function(t,n){return nn(t)?t.nextSibling(n):n.nextSibling}(c,f),!1)}n[t.index]=s=Hs(a,n,l,t),Hf(n,s)}return new lI(s,t,n)}const yu={};class G_ extends Ch{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Zt(n);return new jE(s,this.ngModule)}}function z_(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const Z_=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ju});class jE extends aE{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(Of).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return z_(this.componentDef.inputs)}get outputs(){return z_(this.componentDef.outputs)}create(n,s,a,l){const c=(l=l||this.ngModule)?function(t,n){return{get:(s,a,l)=>{const c=t.get(s,yu,l);return c!==yu||a===yu?c:n.get(s,a,l)}}}(n,l.injector):n,f=c.get(lu,fi),_=c.get(Mp,null),v=f.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",T=a?function(t,n,s){if(nn(t))return t.selectRootElement(n,s===ke.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(v,a,this.componentDef.encapsulation):Og(f.createRenderer(null,this.componentDef),w,function(t){const n=t.toLowerCase();return"svg"===n?Ji:"math"===n?"http://www.w3.org/1998/MathML/":null}(w)),M=this.componentDef.onPush?576:528,x=function(t,n){return{components:[],scheduler:t||Ju,clean:T0,playerHandler:n||null,flags:0}}(),$=mc(0,null,null,1,0,null,null,null,null,null),Y=eu(null,$,x,M,null,null,f,v,_,c);let me,re;gi(Y);try{const Pe=function(t,n,s,a,l,c){const f=s[1];s[20]=t;const v=hc(f,20,2,"#host",null),w=v.mergedAttrs=n.hostAttrs;null!==w&&(Wf(v,w,!0),null!==t&&(Ol(l,t,w),null!==v.classes&&Ug(l,t,v.classes),null!==v.styles&&By(l,t,v.styles)));const T=a.createRenderer(t,n),M=eu(s,jd(n),null,n.onPush?64:16,s[20],v,a,T,c||null,null);return f.firstCreatePass&&(qn(rs(v,s),f,n.type),sv(f,v),ov(v,s.length,1)),Hf(s,M),s[20]=M}(T,this.componentDef,Y,f,v);if(T)if(a)Ol(v,T,["ng-version",b_.full]);else{const{attrs:Te,classes:Ke}=function(t){const n=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&n.push(c,t[++a]):8===l&&s.push(c);else{if(!js(l))break;l=c}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);Te&&Ol(v,T,Te),Ke&&Ke.length>0&&Ug(v,T,Ke.join(" "))}if(re=Bo($,20),void 0!==s){const Te=re.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const ht=s[Ke];Te.push(null!=ht?Array.from(ht):null)}}me=function(t,n,s,a,l){const c=s[1],f=function(t,n,s){const a=ln();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),av(t,a,n,tu(t,n,1,null),s));const l=Jo(n,t,a.directiveStart,a);Or(l,n);const c=pr(a,n);return c&&Or(c,n),l}(c,s,n);if(a.components.push(f),t[8]=f,l&&l.forEach(v=>v(f,n)),n.contentQueries){const v=ln();n.contentQueries(1,f,v.directiveStart)}const _=ln();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Zo(_.index),Ka(s[1],_,0,_.directiveStart,_.directiveEnd,n),Hd(n,f)),f}(Pe,this.componentDef,Y,x,[F0]),qa($,Y,null)}finally{Os()}return new Kp(this.componentType,me,au(re,Y),Y,re)}}class Kp extends class{}{constructor(n,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new $T(l),this.componentType=n}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const ll=new Map;class WE extends cu{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new G_(this);const a=En(n),l=n[Qe]||null;l&&vp(l),this._bootstrapComponents=Oi(a.bootstrap),this._r3Injector=zf(n,s,[{provide:cu,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],Q(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Tn.THROW_IF_NOT_FOUND,a=We.Default){return n===Tn||n===cu||n===Ya?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class K_ extends R_{constructor(n){super(),this.moduleType=n,null!==En(n)&&function(t){const n=new Set;!function s(a){const l=En(a,!0),c=l.id;null!==c&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${Q(n)} vs ${Q(n.name)}`)}(c,ll.get(c),a),ll.set(c,a));const f=Oi(l.imports);for(const _ of f)n.has(_)||(n.add(_),s(_))}(t)}(n)}create(n){return new WE(this.moduleType,n)}}function Xp(t){return n=>{setTimeout(t,void 0,n)}}const Ei=class extends d.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var l,c,f;let _=n,v=s||(()=>null),w=a;if(n&&"object"==typeof n){const M=n;_=null===(l=M.next)||void 0===l?void 0:l.bind(M),v=null===(c=M.error)||void 0===c?void 0:c.bind(M),w=null===(f=M.complete)||void 0===f?void 0:f.bind(M)}this.__isAsync&&(v=Xp(v),_&&(_=Xp(_)),w&&(w=Xp(w)));const T=super.subscribe({next:_,error:v,complete:w});return n instanceof B.w&&n.add(T),T}};function YE(){return this._results[Dc()]()}class Cu{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Dc(),a=Cu.prototype;a[s]||(a[s]=YE)}get changes(){return this._changes||(this._changes=new Ei)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const l=or(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class J_{constructor(n){this.queryList=n,this.matches=null}clone(){return new J_(this.queryList)}setDirty(){this.queryList.setDirty()}}class X_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const f=s.getByIndex(c);l.push(this.queries[f.indexInDeclarationView].clone())}return new X_(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==rb(n,s).matches&&this.queries[s].setDirty()}}class JE{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class Bh{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(n,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new Bh(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ey{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new ey(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(n,s,XE(s,c)),this.matchTNodeWithReadOption(n,s,Oa(s,n,c,!1,!1))}else a===Zc?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Oa(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Pr||l===Ih||l===Zc&&4&s.type)this.addMatch(s.index,-2);else{const c=Oa(s,n,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function XE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function ZI(t,n,s,a){return-1===s?function(t,n){return 11&t.type?au(t,n):4&t.type?wh(t,n):null}(n,t):-2===s?function(t,n,s){return s===Pr?au(n,t):s===Zc?wh(n,t):s===Ih?Es(n,t):void 0}(t,n,a):Jo(t,t[1],s,n)}function jh(t,n,s,a){const l=n[19].queries[a];if(null===l.matches){const c=t.data,f=s.matches,_=[];for(let v=0;v<f.length;v+=2){const w=f[v];_.push(w<0?null:ZI(n,c[w],f[v+1],s.metadata.read))}l.matches=_}return l.matches}function ty(t,n,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const f=jh(t,n,l,s);for(let _=0;_<c.length;_+=2){const v=c[_];if(v>0)a.push(f[_/2]);else{const w=c[_+1],T=n[-v];for(let M=10;M<T.length;M++){const x=T[M];x[17]===x[3]&&ty(x[1],x,w,a)}if(null!==T[9]){const M=T[9];for(let x=0;x<M.length;x++){const $=M[x];ty($[1],$,w,a)}}}}}return a}function ed(t){const n=Me(),s=It(),a=Pu();no(a+1);const l=rb(s,a);if(t.dirty&&El(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?ty(s,n,a,[]):jh(s,n,l,a);t.reset(c,ol),t.notifyOnChanges()}return!0}return!1}function eb(t,n,s,a){const l=It();if(l.firstCreatePass){const c=ln();(function(t,n,s){null===t.queries&&(t.queries=new Bh),t.queries.track(new ey(n,s))})(l,new JE(n,s,a),c.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function(t,n,s){const a=new Cu(4==(4&s));Xy(t,n,a,a.destroy),null===n[19]&&(n[19]=new X_),n[19].queries.push(new J_(a))}(l,Me(),s)}function td(){return t=Me(),n=Pu(),t[19].queries[n].queryList;var t,n}function rb(t,n){return t.queries.getByIndex(n)}const dy=new yn("Application Initializer");let sd=(()=>{class t{constructor(s){this.appInits=s,this.resolve=E_,this.reject=E_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(ii(c))s.push(c);else if(ap(c)){const f=new Promise((_,v)=>{c.subscribe({complete:_,error:v})});s.push(f)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(In(dy,8))},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();const Ib=new yn("AppId"),mD={provide:Ib,useFactory:function(){return`${hy()}${hy()}${hy()}`},deps:[]};function hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Db=new yn("Platform Initializer"),Tb=new yn("Platform ID"),Ab=new yn("appBootstrapListener");let Sb=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();const sg=new yn("LocaleId"),Rb=new yn("DefaultCurrencyCode");class yD{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}const r=function(t){return new K_(t)},e=r,h=function(t){return Promise.resolve(r(t))},C=function(t){const n=r(t),a=Oi(En(t).declarations).reduce((l,c)=>{const f=Zt(c);return f&&l.push(new jE(f)),l},[]);return new yD(n,a)},D=C,U=function(t){return Promise.resolve(C(t))};let ne=(()=>{class t{constructor(){this.compileModuleSync=e,this.compileModuleAsync=h,this.compileModuleAndAllComponentsSync=D,this.compileModuleAndAllComponentsAsync=U}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();const at=(()=>Promise.resolve(0))();function mt(t){"undefined"==typeof Zone?at.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Mt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let t=jt.requestAnimationFrame,n=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vD(t),t.isCheckStableRunning=!0,an(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vD(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,f,_)=>{try{return TA(t),s.invokeTask(l,c,f,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&n(),AA(t)}},onInvoke:(s,a,l,c,f,_,v)=>{try{return TA(t),s.invoke(l,c,f,_,v)}finally{t.shouldCoalesceRunChangeDetection&&n(),AA(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,vD(t),an(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,l){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+l,n,$n,E_,E_);try{return c.runTask(f,s,a)}finally{c.cancelTask(f)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const $n={};function an(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vD(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function TA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AA(t){t._nesting--,an(t)}class vS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei,this.onMicrotaskEmpty=new Ei,this.onStable=new Ei,this.onError=new Ei}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,l){return n.apply(s,a)}}let SA=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),mt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mt(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(In(Mt))},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})(),RA=(()=>{class t{constructor(){this._applications=new Map,CD.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return CD.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();class CS{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function ES(t){CD=t}let CD=new CS,MA=!0,NA=!1;function ED(){return NA=!0,MA}function bS(){if(NA)throw new Error("Cannot enable prod mode after platform setup.");MA=!1}let ya;const xA=new yn("AllowMultipleToken");class RS{constructor(n,s){this.name=n,this.token=s}}function OA(t,n,s=[]){const a=`Platform: ${n}`,l=new yn(a);return(c=[])=>{let f=PA();if(!f||f.injector.get(xA,!1))if(t)t(s.concat(c).concat({provide:l,useValue:!0}));else{const _=s.concat(c).concat({provide:l,useValue:!0},{provide:qd,useValue:"platform"});!function(t){if(ya&&!ya.destroyed&&!ya.injector.get(xA,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ya=t.get(kA);const n=t.get(Db,null);n&&n.forEach(s=>s())}(Tn.create({providers:_,name:a}))}return function(t){const n=PA();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function PA(){return ya&&!ya.destroyed?ya:null}let kA=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const _=function(t,n){let s;return s="noop"===t?new vS:("zone.js"===t?void 0:t)||new Mt({enableLongStackTrace:ED(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),v=[{provide:Mt,useValue:_}];return _.run(()=>{const w=Tn.create({providers:v,parent:this.injector,name:s.moduleType.name}),T=s.create(w),M=T.injector.get(Ga,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const x=_.onError.subscribe({next:$=>{M.handleError($)}});T.onDestroy(()=>{bD(this._modules,T),x.unsubscribe()})}),function(t,n,s){try{const a=s();return ii(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(M,_,()=>{const x=T.injector.get(sd);return x.runInitializers(),x.donePromise.then(()=>(vp(T.injector.get(sg,yp)||yp),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,a=[]){const l=FA({},a);return function(t,n,s){const a=new K_(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get(fy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${Q(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(In(Tn))},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();function FA(t,n){return Array.isArray(n)?n.reduce(FA,t):Object.assign(Object.assign({},t),n)}let fy=(()=>{class t{constructor(s,a,l,c,f){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=c,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new N.y(w=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),mt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{T.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(_,v.pipe((0,se.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=s instanceof aE?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function(t){return t.isBoundToModule}(l)?void 0:this._injector.get(cu),_=l.create(Tn.NULL,[],a||l.selector,c),v=_.location.nativeElement,w=_.injector.get(SA,null),T=w&&_.injector.get(RA);return w&&T&&T.registerApplication(v,w),_.onDestroy(()=>{this.detachView(_.hostView),bD(this.components,_),T&&T.unregisterApplication(v)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;bD(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Ab,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(In(Mt),In(Tn),In(Ga),In(Ch),In(sd))},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();function bD(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class kS{}class LS{}const VS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let US=(()=>{class t{constructor(s,a){this._compiler=s,this._config=a||VS}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,l]=s.split("#");return void 0===l&&(l="default"),P(8255)(a).then(c=>c[l]).then(c=>BA(c,a,l)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(s){let[a,l]=s.split("#"),c="NgFactory";return void 0===l&&(l="default",c=""),P(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(f=>f[l+c]).then(f=>BA(f,a,l))}}return t.\u0275fac=function(s){return new(s||t)(In(ne),In(LS,8))},t.\u0275prov=Je({token:t,factory:t.\u0275fac}),t})();function BA(t,n,s){if(!t)throw new Error(`Cannot find '${s}' in '${n}'`);return t}const ZS=function(t){return null},KS=OA(null,"core",[{provide:Tb,useValue:"unknown"},{provide:kA,deps:[Tn]},{provide:RA,deps:[]},{provide:Sb,deps:[]}]),eR=[{provide:fy,useClass:fy,deps:[Mt,Tn,Ga,Ch,sd]},{provide:Z_,deps:[Mt],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:sd,useClass:sd,deps:[[new us,dy]]},{provide:ne,useClass:ne,deps:[]},mD,{provide:Op,useFactory:function(){return tI},deps:[]},{provide:kp,useFactory:function(){return nI},deps:[]},{provide:sg,useFactory:function(t){return vp(t=t||"undefined"!=typeof $localize&&$localize.locale||yp),t},deps:[[new _o(sg),new us,new xi]]},{provide:Rb,useValue:"USD"}];let nR=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(In(fy))},t.\u0275mod=Fe({type:t}),t.\u0275inj=tn({providers:eR}),t})()},8939:(ze,Ae,P)=>{"use strict";P.d(Ae,{hO:()=>ie,xv:()=>K,Dh:()=>Q,GT:()=>J,cc:()=>ce,on:()=>O,pX:()=>se});var d=P(7716),B=P(7841),N=P(6643);ze=P.hmd(ze);const ue=["ngOnDestroy"],se=(X,de,fe,Se={})=>new Proxy(X,{get:(je,tt)=>fe.runOutsideAngular(()=>{var _t;if(X[tt])return(null===(_t=null==Se?void 0:Se.spy)||void 0===_t?void 0:_t.get)&&Se.spy.get(tt,X[tt]),X[tt];if(ue.indexOf(tt)>-1)return()=>{};const we=de.toPromise().then(Nt=>{const oe=Nt&&Nt[tt];return"function"==typeof oe?oe.bind(Nt):oe&&oe.then?oe.then(pe=>fe.run(()=>pe)):fe.run(()=>oe)});return new Proxy(()=>{},{get:(Nt,oe)=>we[oe],apply:(Nt,oe,pe)=>we.then(ve=>{var Ce;const Oe=ve&&ve(...pe);return(null===(Ce=null==Se?void 0:Se.spy)||void 0===Ce?void 0:Ce.apply)&&Se.spy.apply(tt,pe,Oe),Oe})})})}),J=(X,de)=>{de.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(Se=>{Object.defineProperty(X.prototype,Se,Object.getOwnPropertyDescriptor(fe.prototype||fe,Se))})})};class be{constructor(de){return de}}const Q=new d.OlP("angularfire2.app.options"),K=new d.OlP("angularfire2.app.name");function O(X,de,fe){const je="object"==typeof fe&&fe||{};je.name=je.name||"string"==typeof fe&&fe||"[DEFAULT]";const _t=B.Z.apps.filter(we=>we&&we.name===je.name)[0]||de.runOutsideAngular(()=>B.Z.initializeApp(X,je));try{JSON.stringify(X)!==JSON.stringify(_t.options)&&V("error",`${_t.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(we){}return new be(_t)}const V=(X,...de)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[X](...de)},j={provide:be,useFactory:O,deps:[Q,d.R0b,[new d.FiY,K]]};let ie=(()=>{class X{constructor(fe){B.Z.registerVersion("angularfire",N.q4.full,"core"),B.Z.registerVersion("angularfire",N.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,fe.toString())}static initializeApp(fe,Se){return{ngModule:X,providers:[{provide:Q,useValue:fe},{provide:K,useValue:Se}]}}}return X.\u0275fac=function(fe){return new(fe||X)(d.LFG(d.Lbi))},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({providers:[j]}),X})();function ce(X,de,fe,Se,je){const[,tt,_t]=globalThis.\u0275AngularfireInstanceCache.find(we=>we[0]===X)||[];if(tt)return function(X,de){try{return X.toString()===de.toString()}catch(fe){return X===de}}(je,_t)||(he("error",`${de} was already initialized on the ${fe} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:je,was:_t})),tt;{const we=Se();return globalThis.\u0275AngularfireInstanceCache.push([X,we,je]),we}}const _e=!!ze.hot,he=(X,...de)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[X](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(ze,Ae,P)=>{"use strict";P.d(Ae,{q4:()=>Pa,iC:()=>vr,HU:()=>Bl,vb:()=>ho,JM:()=>Bn});var d=P(7716),B=P(2329),N=P(8239),ue=P(5452),se=P(3854),J=P(6034),be=P(5601),Q=P(6676);const K="@firebase/installations",O="0.5.2",j=`w:${O}`,ie="FIS_v2",de=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(b){return b instanceof se.ZR&&b.code.includes("request-failed")}function Se({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function je(b){return{token:b.token,requestStatus:2,expiresIn:ve(b.expiresIn),creationTime:Date.now()}}function tt(b,I){return _t.apply(this,arguments)}function _t(){return(_t=(0,N.Z)(function*(b,I){const L=(yield I.json()).error;return de.create("request-failed",{requestName:b,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function we({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Nt(b,{refreshToken:I}){const S=we(b);return S.append("Authorization",function(b){return`${ie} ${b}`}(I)),S}function oe(b){return pe.apply(this,arguments)}function pe(){return(pe=(0,N.Z)(function*(b){const I=yield b();return I.status>=500&&I.status<600?b():I})).apply(this,arguments)}function ve(b){return Number(b.replace("s","000"))}function Oe(b,I){return ge.apply(this,arguments)}function ge(){return(ge=(0,N.Z)(function*(b,{fid:I}){const S=Se(b),ye={method:"POST",headers:we(b),body:JSON.stringify({fid:I,authVersion:ie,appId:b.appId,sdkVersion:j})},Ne=yield oe(()=>fetch(S,ye));if(Ne.ok){const Ue=yield Ne.json();return{fid:Ue.fid||I,registrationStatus:2,refreshToken:Ue.refreshToken,authToken:je(Ue.authToken)}}throw yield tt("Create Installation",Ne)})).apply(this,arguments)}function et(b){return new Promise(I=>{setTimeout(I,b)})}const pn=/^[cdef][\w-]{21}$/;function nt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const S=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return pn.test(S)?S:""}catch(b){return""}}function zt(b){return`${b.appName}!${b.appId}`}const Wn=new Map;function er(b,I){const S=zt(b);tn(S,I),function(b,I){const S=(!Cn&&"BroadcastChannel"in self&&(Cn=new BroadcastChannel("[Firebase] FID Change"),Cn.onmessage=b=>{tn(b.data.key,b.data.fid)}),Cn);S&&S.postMessage({key:b,fid:I}),0===Wn.size&&Cn&&(Cn.close(),Cn=null)}(S,I)}function tn(b,I){const S=Wn.get(b);if(S)for(const L of S)L(I)}let Cn=null;const mn="firebase-installations-store";let qr=null;function wr(){return qr||(qr=(0,Q.openDb)("firebase-installations-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(mn)}})),qr}function We(b,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,N.Z)(function*(b,I){const S=zt(b),ee=(yield wr()).transaction(mn,"readwrite"),ye=ee.objectStore(mn),Ne=yield ye.get(S);return yield ye.put(I,S),yield ee.complete,(!Ne||Ne.fid!==I.fid)&&er(b,I.fid),I})).apply(this,arguments)}function Gn(b){return An.apply(this,arguments)}function An(){return(An=(0,N.Z)(function*(b){const I=zt(b),L=(yield wr()).transaction(mn,"readwrite");yield L.objectStore(mn).delete(I),yield L.complete})).apply(this,arguments)}function Ze(b,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,N.Z)(function*(b,I){const S=zt(b),ee=(yield wr()).transaction(mn,"readwrite"),ye=ee.objectStore(mn),Ne=yield ye.get(S),Ue=I(Ne);return void 0===Ue?yield ye.delete(S):yield ye.put(Ue,S),yield ee.complete,Ue&&(!Ne||Ne.fid!==Ue.fid)&&er(b,Ue.fid),Ue})).apply(this,arguments)}function yt(b){return gt.apply(this,arguments)}function gt(){return(gt=(0,N.Z)(function*(b){let I;const S=yield Ze(b,L=>{const ee=Sn(L),ye=Vt(b,ee);return I=ye.registrationPromise,ye.installationEntry});return""===S.fid?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}})).apply(this,arguments)}function Sn(b){return jt(b||{fid:nt(),registrationStatus:0})}function Vt(b,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(de.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:S,registrationPromise:function(b,I){return $e.apply(this,arguments)}(b,S)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ts(b)}:{installationEntry:I}}function $e(){return($e=(0,N.Z)(function*(b,I){try{return We(b,yield Oe(b,I))}catch(S){throw fe(S)&&409===S.customData.serverCode?yield Gn(b):yield We(b,{fid:I.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Ts(b){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(b){let I=yield Ir(b);for(;1===I.registrationStatus;)yield et(100),I=yield Ir(b);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield yt(b);return L||S}return I})).apply(this,arguments)}function Ir(b){return Ze(b,I=>{if(!I)throw de.create("installation-not-found");return jt(I)})}function jt(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function ji(b,I){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*({appConfig:b,platformLoggerProvider:I},S){const L=H(b,S),ee=Nt(b,S),ye=I.getImmediate({optional:!0});ye&&ee.append("x-firebase-client",ye.getPlatformInfoString());const Ue={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:j}})},He=yield oe(()=>fetch(L,Ue));if(He.ok)return je(yield He.json());throw yield tt("Generate Auth Token",He)})).apply(this,arguments)}function H(b,{fid:I}){return`${Se(b)}/${I}/authTokens:generate`}function Z(b){return De.apply(this,arguments)}function De(){return(De=(0,N.Z)(function*(b,I=!1){let S;const L=yield Ze(b.appConfig,ye=>{if(!Rn(ye))throw de.create("not-registered");const Ne=ye.authToken;if(!I&&Mn(Ne))return ye;if(1===Ne.requestStatus)return S=le(b,I),ye;{if(!navigator.onLine)throw de.create("app-offline");const Ue=z(ye);return S=vt(b,Ue),Ue}});return S?yield S:L.authToken})).apply(this,arguments)}function le(b,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(b,I){let S=yield Qe(b.appConfig);for(;1===S.authToken.requestStatus;)yield et(100),S=yield Qe(b.appConfig);const L=S.authToken;return 0===L.requestStatus?Z(b,I):L})).apply(this,arguments)}function Qe(b){return Ze(b,I=>{if(!Rn(I))throw de.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function vt(b,I){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,N.Z)(function*(b,I){try{const S=yield ji(b,I),L=Object.assign(Object.assign({},I),{authToken:S});return yield We(b.appConfig,L),S}catch(S){if(!fe(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield We(b.appConfig,L)}else yield Gn(b.appConfig);throw S}})).apply(this,arguments)}function Rn(b){return void 0!==b&&2===b.registrationStatus}function Mn(b){return 2===b.requestStatus&&!function(b){const I=Date.now();return I<b.creationTime||b.creationTime+b.expiresIn<I+36e5}(b)}function z(b){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:I})}function Fe(){return(Fe=(0,N.Z)(function*(b){const I=b,{installationEntry:S,registrationPromise:L}=yield yt(I.appConfig);return L?L.catch(console.error):Z(I).catch(console.error),S.fid})).apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*(b,I=!1){const S=b;return yield Ot(S.appConfig),(yield Z(S,I)).token})).apply(this,arguments)}function Ot(b){return gn.apply(this,arguments)}function gn(){return(gn=(0,N.Z)(function*(b){const{registrationPromise:I}=yield yt(b);I&&(yield I)})).apply(this,arguments)}function Qt(b){return de.create("missing-app-config-values",{valueName:b})}const qt="installations";(0,ue._registerComponent)(new J.wA(qt,b=>{const I=b.getProvider("app").getImmediate();return{app:I,appConfig:function(b){if(!b||!b.options)throw Qt("App Configuration");if(!b.name)throw Qt("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!b.options[S])throw Qt(S);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(I),platformLoggerProvider:(0,ue._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new J.wA("installations-internal",b=>{const I=b.getProvider("app").getImmediate(),S=(0,ue._getProvider)(I,qt).getImmediate();return{getId:()=>function(b){return Fe.apply(this,arguments)}(S),getToken:ee=>function(b){return wt.apply(this,arguments)}(S,ee)}},"PRIVATE")),(0,ue.registerVersion)(K,O),(0,ue.registerVersion)(K,O,"esm2017");const $i="@firebase/remote-config",zn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zi{constructor(I,S,L,ee){this.client=I,this.storage=S,this.storageCache=L,this.logger=ee}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,ee=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ee}.`),ee}fetch(I){var S=this;return(0,N.Z)(function*(){const[L,ee]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(ee&&S.isCachedDataFresh(I.cacheMaxAgeMillis,L))return ee;I.eTag=ee&&ee.eTag;const ye=yield S.client.fetch(I),Ne=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ye.status&&Ne.push(S.storage.setLastSuccessfulFetchResponse(ye)),yield Promise.all(Ne),ye})()}}function Vn(b=navigator){return b.languages&&b.languages[0]||b.language}class Tr{constructor(I,S,L,ee,ye,Ne){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=L,this.projectId=ee,this.apiKey=ye,this.appId=Ne}fetch(I){var S=this;return(0,N.Z)(function*(){const[L,ee]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},He={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:ee,app_id:S.appId,language_code:Vn()},At={method:"POST",headers:Ue,body:JSON.stringify(He)},Ut=fetch(Ne,At),vn=new Promise((lr,Cr)=>{I.signal.addEventListener(()=>{const mi=new Error("The operation was aborted.");mi.name="AbortError",Cr(mi)})});let Yn;try{yield Promise.race([Ut,vn]),Yn=yield Ut}catch(lr){let Cr="fetch-client-network";throw"AbortError"===lr.name&&(Cr="fetch-timeout"),zn.create(Cr,{originalErrorMessage:lr.message})}let On=Yn.status;const ls=Yn.headers.get("ETag")||void 0;let Us,go;if(200===Yn.status){let lr;try{lr=yield Yn.json()}catch(Cr){throw zn.create("fetch-client-parse",{originalErrorMessage:Cr.message})}Us=lr.entries,go=lr.state}if("INSTANCE_STATE_UNSPECIFIED"===go?On=500:"NO_CHANGE"===go?On=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(Us={}),304!==On&&200!==On)throw zn.create("fetch-status",{httpStatus:On});return{status:On,eTag:ls,config:Us}})()}}class ld{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,N.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:L}){var ee=this;return(0,N.Z)(function*(){yield function(b,I){return new Promise((S,L)=>{const ee=Math.max(I-Date.now(),0),ye=setTimeout(S,ee);b.addEventListener(()=>{clearTimeout(ye),L(zn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const ye=yield ee.client.fetch(I);return yield ee.storage.deleteThrottleMetadata(),ye}catch(ye){if(!function(b){if(!(b instanceof se.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ye))throw ye;const Ne={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield ee.storage.setThrottleMetadata(Ne),ee.attemptFetch(I,Ne)}})()}}class Su{constructor(I,S,L,ee,ye){this.app=I,this._client=S,this._storageCache=L,this._storage=ee,this._logger=ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fl(b,I){const S=b.target.error||void 0;return zn.create(I,{originalErrorMessage:S&&S.message})}const qi="app_namespace_store";class Qs{constructor(I,S,L,ee=function(){return new Promise((b,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{I(fl(L,"storage-open"))},S.onsuccess=L=>{b(L.target.result)},S.onupgradeneeded=L=>{const ee=L.target.result;switch(L.oldVersion){case 0:ee.createObjectStore(qi,{keyPath:"compositeKey"})}}}catch(S){I(zn.create("storage-open",{originalErrorMessage:S}))}})}()){this.appId=I,this.appName=S,this.namespace=L,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,N.Z)(function*(){const L=yield S.openDbPromise;return new Promise((ee,ye)=>{const Ue=L.transaction([qi],"readonly").objectStore(qi),He=S.createCompositeKey(I);try{const At=Ue.get(He);At.onerror=Ut=>{ye(fl(Ut,"storage-get"))},At.onsuccess=Ut=>{const vn=Ut.target.result;ee(vn?vn.value:void 0)}}catch(At){ye(zn.create("storage-get",{originalErrorMessage:At&&At.message}))}})})()}set(I,S){var L=this;return(0,N.Z)(function*(){const ee=yield L.openDbPromise;return new Promise((ye,Ne)=>{const He=ee.transaction([qi],"readwrite").objectStore(qi),At=L.createCompositeKey(I);try{const Ut=He.put({compositeKey:At,value:S});Ut.onerror=vn=>{Ne(fl(vn,"storage-set"))},Ut.onsuccess=()=>{ye()}}catch(Ut){Ne(zn.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(I){var S=this;return(0,N.Z)(function*(){const L=yield S.openDbPromise;return new Promise((ee,ye)=>{const Ue=L.transaction([qi],"readwrite").objectStore(qi),He=S.createCompositeKey(I);try{const At=Ue.delete(He);At.onerror=Ut=>{ye(fl(Ut,"storage-delete"))},At.onsuccess=()=>{ee()}}catch(At){ye(zn.create("storage-delete",{originalErrorMessage:At&&At.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Qh{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const S=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),ee=I.storage.getActiveConfig(),ye=yield S;ye&&(I.lastFetchStatus=ye);const Ne=yield L;Ne&&(I.lastSuccessfulFetchTimestampMillis=Ne);const Ue=yield ee;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function gl(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new J.wA("remote-config",function(I,{instanceIdentifier:S}){const L=I.getProvider("app").getImmediate(),ee=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,se.hl)())throw zn.create("indexed-db-unavailable");const{projectId:ye,apiKey:Ne,appId:Ue}=L.options;if(!ye)throw zn.create("registration-project-id");if(!Ne)throw zn.create("registration-api-key");if(!Ue)throw zn.create("registration-app-id");const He=new Qs(Ue,L.name,S=S||"firebase"),At=new Qh(He),Ut=new be.Yd($i);Ut.logLevel=be.in.ERROR;const vn=new Tr(ee,ue.SDK_VERSION,S,ye,Ne,Ue),Yn=new ld(vn,He),On=new Zi(Yn,He,At,Ut),ls=new Su(L,On,At,He,Ut);return function(b){const I=(0,se.m9)(b);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ls),ls},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)($i,"0.3.1"),(0,ue.registerVersion)($i,"0.3.1","esm2017");const Ki="/firebase-messaging-sw.js",Ea="/firebase-cloud-messaging-push-scope",ml="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yi="google.c.a.c_id",cd="google.c.a.c_l",Qi="google.c.a.ts",_l="google.c.a.e";var Js=(()=>{return(b=Js||(Js={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Js;var b})();function Yr(b){const I=new Uint8Array(b);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yl(b){const S=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),ee=new Uint8Array(L.length);for(let ye=0;ye<L.length;++ye)ee[ye]=L.charCodeAt(ye);return ee}const fr="fcm_token_details_db",dd="fcm_token_object_Store";function Ar(b){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,N.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ye=>ye.name).includes(fr))return null;let I=null;return(yield(0,Q.openDb)(fr,5,function(){var L=(0,N.Z)(function*(ee){var ye;if(ee.oldVersion<2||!ee.objectStoreNames.contains(dd))return;const Ne=ee.transaction.objectStore(dd),Ue=yield Ne.index("fcmSenderId").get(b);if(yield Ne.clear(),Ue)if(2===ee.oldVersion){const He=Ue;if(!He.auth||!He.p256dh||!He.endpoint)return;I={token:He.fcmToken,createTime:null!==(ye=He.createTime)&&void 0!==ye?ye:Date.now(),subscriptionOptions:{auth:He.auth,p256dh:He.p256dh,endpoint:He.endpoint,swScope:He.swScope,vapidKey:"string"==typeof He.vapidKey?He.vapidKey:Yr(He.vapidKey)}}}else if(3===ee.oldVersion){const He=Ue;I={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Yr(He.auth),p256dh:Yr(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Yr(He.vapidKey)}}}else if(4===ee.oldVersion){const He=Ue;I={token:He.fcmToken,createTime:He.createTime,subscriptionOptions:{auth:Yr(He.auth),p256dh:Yr(He.p256dh),endpoint:He.endpoint,swScope:He.swScope,vapidKey:Yr(He.vapidKey)}}}});return function(ee){return L.apply(this,arguments)}}())).close(),yield(0,Q.deleteDb)(fr),yield(0,Q.deleteDb)("fcm_vapid_details_db"),yield(0,Q.deleteDb)("undefined"),Cl(I)?I:null})).apply(this,arguments)}function Cl(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:I}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const hi="firebase-messaging-store";let ba=null;function nn(){return ba||(ba=(0,Q.openDb)("firebase-messaging-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(hi)}})),ba}function Xs(b){return fi.apply(this,arguments)}function fi(){return(fi=(0,N.Z)(function*(b){const I=Di(b),L=yield(yield nn()).transaction(hi).objectStore(hi).get(I);if(L)return L;{const ee=yield Ar(b.appConfig.senderId);if(ee)return yield wa(b,ee),ee}})).apply(this,arguments)}function wa(b,I){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(b,I){const S=Di(b),ee=(yield nn()).transaction(hi,"readwrite");return yield ee.objectStore(hi).put(I,S),yield ee.complete,I})).apply(this,arguments)}function xu(b){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,N.Z)(function*(b){const I=Di(b),L=(yield nn()).transaction(hi,"readwrite");yield L.objectStore(hi).delete(I),yield L.complete})).apply(this,arguments)}function Di({appConfig:b}){return b.appId}const bn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bo(b,I){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,N.Z)(function*(b,I){const S=yield Ns(b),L=Xe(I),ee={method:"POST",headers:S,body:JSON.stringify(L)};let ye;try{ye=yield(yield fetch(Qr(b.appConfig),ee)).json()}catch(Ne){throw bn.create("token-subscribe-failed",{errorInfo:Ne})}if(ye.error)throw bn.create("token-subscribe-failed",{errorInfo:ye.error.message});if(!ye.token)throw bn.create("token-subscribe-no-token");return ye.token})).apply(this,arguments)}function rr(b,I){return El.apply(this,arguments)}function El(){return(El=(0,N.Z)(function*(b,I){const S=yield Ns(b),L=Xe(I.subscriptionOptions),ee={method:"PATCH",headers:S,body:JSON.stringify(L)};let ye;try{ye=yield(yield fetch(`${Qr(b.appConfig)}/${I.token}`,ee)).json()}catch(Ne){throw bn.create("token-update-failed",{errorInfo:Ne})}if(ye.error)throw bn.create("token-update-failed",{errorInfo:ye.error.message});if(!ye.token)throw bn.create("token-update-no-token");return ye.token})).apply(this,arguments)}function jo(b,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(b,I){const L={method:"DELETE",headers:yield Ns(b)};try{const ye=yield(yield fetch(`${Qr(b.appConfig)}/${I}`,L)).json();if(ye.error)throw bn.create("token-unsubscribe-failed",{errorInfo:ye.error.message})}catch(ee){throw bn.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function Qr({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Ns(b){return xs.apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*({appConfig:b,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Xe({p256dh:b,auth:I,endpoint:S,vapidKey:L}){const ee={web:{endpoint:S,auth:I,p256dh:b}};return L!==ml&&(ee.web.applicationPubKey=L),ee}const fd=6048e5;function bl(b){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(b){const I=yield Ho(b.swRegistration,b.vapidKey),S={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:I.endpoint,auth:Yr(I.getKey("auth")),p256dh:Yr(I.getKey("p256dh"))},L=yield Xs(b.firebaseDependencies);if(L){if($o(L.subscriptionOptions,S))return Date.now()>=L.createTime+fd?Dl(b,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield jo(b.firebaseDependencies,L.token)}catch(ee){console.warn(ee)}return Me(b.firebaseDependencies,S)}return Me(b.firebaseDependencies,S)})).apply(this,arguments)}function Ia(b){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(b){const I=yield Xs(b.firebaseDependencies);I&&(yield jo(b.firebaseDependencies,I.token),yield xu(b.firebaseDependencies));const S=yield b.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function Dl(b,I){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,N.Z)(function*(b,I){try{const S=yield rr(b.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield wa(b.firebaseDependencies,L),S}catch(S){throw yield Ia(b),S}})).apply(this,arguments)}function Me(b,I){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*(b,I){const L={token:yield Bo(b,I),createTime:Date.now(),subscriptionOptions:I};return yield wa(b,L),L.token})).apply(this,arguments)}function Ho(b,I){return ln.apply(this,arguments)}function ln(){return(ln=(0,N.Z)(function*(b,I){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yl(I)})})).apply(this,arguments)}function $o(b,I){return I.vapidKey===b.vapidKey&&I.endpoint===b.endpoint&&I.auth===b.auth&&I.p256dh===b.p256dh}function es(b){const I={from:b.from,collapseKey:b.collapse_key,messageId:b.fcm_message_id};return function(b,I){if(!I.notification)return;b.notification={};const S=I.notification.title;S&&(b.notification.title=S);const L=I.notification.body;L&&(b.notification.body=L);const ee=I.notification.image;ee&&(b.notification.image=ee)}(I,b),function(b,I){!I.data||(b.data=I.data)}(I,b),function(b,I){if(!I.fcmOptions)return;b.fcmOptions={};const S=I.fcmOptions.link;S&&(b.fcmOptions.link=S);const L=I.fcmOptions.analytics_label;L&&(b.fcmOptions.analyticsLabel=L)}(I,b),I}function Xh(b){return"object"==typeof b&&!!b&&Yi in b}function Ta(b,I){const S=[];for(let L=0;L<b.length;L++)S.push(b.charAt(L)),L<I.length&&S.push(I.charAt(L));return S.join("")}function ts(b){return bn.create("missing-app-config-values",{valueName:b})}Ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Un{constructor(I,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(b){if(!b||!b.options)throw ts("App Configuration Object");if(!b.name)throw ts("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=b;for(const L of I)if(!S[L])throw ts(L);return{appName:b.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ee,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function gr(b){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,N.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Ki,{scope:Ea}),b.swRegistration.update().catch(()=>{})}catch(I){throw bn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function pi(b,I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*(b,I){if(!I&&!b.swRegistration&&(yield gr(b)),I||!b.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");b.swRegistration=I}})).apply(this,arguments)}function Ou(b,I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*(b,I){I?b.vapidKey=I:b.vapidKey||(b.vapidKey=ml)})).apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(b,I){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield Ou(b,null==I?void 0:I.vapidKey),yield pi(b,null==I?void 0:I.serviceWorkerRegistration),bl(b)})).apply(this,arguments)}function Go(b,I,S){return zo.apply(this,arguments)}function zo(){return(zo=(0,N.Z)(function*(b,I,S){const L=Pu(I);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[Yi],message_name:S[cd],message_time:S[Qi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pu(b){switch(b){case Js.NOTIFICATION_CLICKED:return"notification_open";case Js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ro(){return(ro=(0,N.Z)(function*(b,I){const S=I.data;if(!S.isFirebaseMessaging)return;b.onMessageHandler&&S.messageType===Js.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(es(S)):b.onMessageHandler.next(es(S)));const L=S.data;Xh(L)&&"1"===L[_l]&&(yield Go(b,S.messageType,L))})).apply(this,arguments)}const Sl="@firebase/messaging";function Fu(){return Os.apply(this,arguments)}function Os(){return(Os=(0,N.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new J.wA("messaging",b=>{const I=new Un(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function(b,I){return ro.apply(this,arguments)}(I,S)),I},"PUBLIC")),(0,ue._registerComponent)(new J.wA("messaging-internal",b=>{const I=b.getProvider("messaging").getImmediate();return{getToken:L=>function(b,I){return Al.apply(this,arguments)}(I,L)}},"PRIVATE")),(0,ue.registerVersion)(Sl,"0.9.2"),(0,ue.registerVersion)(Sl,"0.9.2","esm2017");const io="analytics",Ps="firebase_id",so="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ko="https://www.googletagmanager.com/gtag/js",xn=new be.Yd("@firebase/analytics");function Yo(b){return Promise.all(b.map(I=>I.catch(S=>S)))}function Ml(b,I){const S=document.createElement("script");S.src=`${Ko}?l=${b}&id=${I}`,S.async=!0,document.head.appendChild(S)}function ks(b,I,S,L,ee,ye){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(b,I,S,L,ee,ye){const Ne=L[ee];try{if(Ne)yield I[Ne];else{const He=(yield Yo(S)).find(At=>At.measurementId===ee);He&&(yield I[He.appId])}}catch(Ue){xn.error(Ue)}b("config",ee,ye)})).apply(this,arguments)}function md(b,I,S,L,ee){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,N.Z)(function*(b,I,S,L,ee){try{let ye=[];if(ee&&ee.send_to){let Ne=ee.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Ue=yield Yo(S);for(const He of Ne){const At=Ue.find(vn=>vn.measurementId===He),Ut=At&&I[At.appId];if(!Ut){ye=[];break}ye.push(Ut)}}0===ye.length&&(ye=Object.values(I)),yield Promise.all(ye),b("event",L,ee||{})}catch(ye){xn.error(ye)}})).apply(this,arguments)}function _d(){const b=window.document.getElementsByTagName("script");for(const I of Object.values(b))if(I.src&&I.src.includes(Ko))return I;return null}const Rr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qo=new class{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function wn(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ma(b){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,N.Z)(function*(b){var I;const{appId:S,apiKey:L}=b,ee={method:"GET",headers:wn(L)},ye=so.replace("{app-id}",S),Ne=yield fetch(ye,ee);if(200!==Ne.status&&304!==Ne.status){let Ue="";try{const He=yield Ne.json();(null===(I=He.error)||void 0===I?void 0:I.message)&&(Ue=He.error.message)}catch(He){}throw Rr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Ue})}return Ne.json()})).apply(this,arguments)}function tf(b){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,N.Z)(function*(b,I=Qo,S){const{appId:L,apiKey:ee,measurementId:ye}=b.options;if(!L)throw Rr.create("no-app-id");if(!ee){if(ye)return{measurementId:ye,appId:L};throw Rr.create("no-api-key")}const Ne=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Na;return setTimeout((0,N.Z)(function*(){Ue.abort()}),void 0!==S?S:6e4),Pl({appId:L,apiKey:ee,measurementId:ye},Ne,Ue,I)})).apply(this,arguments)}function Pl(b,I,S){return oo.apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*(b,{throttleEndTimeMillis:I,backoffCount:S},L,ee=Qo){const{appId:ye,measurementId:Ne}=b;try{yield nf(L,I)}catch(Ue){if(Ne)return xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:ye,measurementId:Ne};throw Ue}try{const Ue=yield Ma(b);return ee.deleteThrottleMetadata(ye),Ue}catch(Ue){if(!Bu(Ue)){if(ee.deleteThrottleMetadata(ye),Ne)return xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:ye,measurementId:Ne};throw Ue}const He=503===Number(Ue.customData.httpStatus)?(0,se.$s)(S,ee.intervalMillis,30):(0,se.$s)(S,ee.intervalMillis),At={throttleEndTimeMillis:Date.now()+He,backoffCount:S+1};return ee.setThrottleMetadata(ye,At),xn.debug(`Calling attemptFetch again in ${He} millis`),Pl(b,At,L,ee)}})).apply(this,arguments)}function nf(b,I){return new Promise((S,L)=>{const ee=Math.max(I-Date.now(),0),ye=setTimeout(S,ee);b.addEventListener(()=>{clearTimeout(ye),L(Rr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Bu(b){if(!(b instanceof se.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Na{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function yd(){return ao.apply(this,arguments)}function ao(){return(ao=(0,N.Z)(function*(){if(!(0,se.hl)())return xn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(b){return xn.warn(Rr.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function xa(){return(xa=(0,N.Z)(function*(b,I,S,L,ee,ye,Ne){var Ue;const He=tf(b);He.then(On=>{S[On.measurementId]=On.appId,b.options.measurementId&&On.measurementId!==b.options.measurementId&&xn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>xn.error(On)),I.push(He);const At=yd().then(On=>{if(On)return L.getId()}),[Ut,vn]=yield Promise.all([He,At]);_d()||Ml(ye,Ut.measurementId),ee("js",new Date);const Yn=null!==(Ue=null==Ne?void 0:Ne.config)&&void 0!==Ue?Ue:{};return Yn.origin="firebase",Yn.update=!0,null!=vn&&(Yn[Ps]=vn),ee("config",Ut.measurementId,Yn),Ut.measurementId})).apply(this,arguments)}class sr{constructor(I){this.app=I}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},qn=[];const it={};let kl,cn,Si="dataLayer",Ls=!1;function Jo(b,I,S){!function(){const b=[];if((0,se.ru)()&&b.push("This is a browser extension environment."),(0,se.zI)()||b.push("Cookies are not available."),b.length>0){const I=b.map((L,ee)=>`(${ee+1}) ${L}`).join(" "),S=Rr.create("invalid-analytics-context",{errorInfo:I});xn.warn(S.message)}}();const L=b.options.appId;if(!L)throw Rr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Rr.create("no-api-key");xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mr[L])throw Rr.create("already-exists",{id:L});if(!Ls){!function(b){let I=[];Array.isArray(window[b])?I=window[b]:window[b]=I}(Si);const{wrappedGtag:ye,gtagCore:Ne}=function(b,I,S,L,ee){let ye=function(...Ne){window[L].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ye=window[ee]),window[ee]=function(b,I,S,L){function ye(){return(ye=(0,N.Z)(function*(Ne,Ue,He){try{"event"===Ne?yield md(b,I,S,Ue,He):"config"===Ne?yield ks(b,I,S,L,Ue,He):b("set",Ue)}catch(At){xn.error(At)}})).apply(this,arguments)}return function(Ne,Ue,He){return ye.apply(this,arguments)}}(ye,b,I,S),{gtagCore:ye,wrappedGtag:window[ee]}}(Mr,qn,it,Si,"gtag");cn=ye,kl=Ne,Ls=!0}return Mr[L]=function(b,I,S,L,ee,ye,Ne){return xa.apply(this,arguments)}(b,qn,it,I,kl,Si,S),new sr(b)}function Ri(){return(Ri=(0,N.Z)(function*(b,I,S,L,ee){if(ee&&ee.global)b("event",S,L);else{const ye=yield I;b("event",S,Object.assign(Object.assign({},L),{send_to:ye}))}})).apply(this,arguments)}function Vs(){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(b){return!1}})).apply(this,arguments)}const $u="@firebase/analytics";(0,ue._registerComponent)(new J.wA(io,(I,{options:S})=>Jo(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,ue._registerComponent)(new J.wA("analytics-internal",function(I){try{const S=I.getProvider(io).getImmediate();return{logEvent:(L,ee,ye)=>function(b,I,S,L){b=(0,se.m9)(b),function(b,I,S,L,ee){return Ri.apply(this,arguments)}(cn,Mr[b.app.options.appId],I,S,L).catch(ee=>xn.error(ee))}(S,L,ee,ye)}}catch(S){throw Rr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,ue.registerVersion)($u,"0.7.2"),(0,ue.registerVersion)($u,"0.7.2","esm2017");var uo=P(7771),F=P(3637),Vl=P(3342),Ul=P(3101),vd=P(309);const Pa=new d.GfV("7.1.1"),ka="__angularfire_symbol__analyticsIsSupported",ra="__angularfire_symbol__remoteConfigIsSupported",_r="__angularfire_symbol__messagingIsSupported";function Bn(b,I,S){if(I){if(1===I.length)return I[0];const ye=I.filter(Ne=>Ne.app===S);if(1===ye.length)return ye[0]}return S.container.getProvider(b).getImmediate({optional:!0})}globalThis[ka]||(globalThis[ka]=Vs().then(b=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=b)),globalThis[_r]||(globalThis[_r]=Fu().then(b=>globalThis.__angularfire_symbol__messagingIsSupportedValue=b)),globalThis[ra]||(globalThis[ra]=gl().then(b=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=b));const ho=(b,I)=>{const S=I?[I]:(0,B.C6)(),L=[];return S.forEach(ee=>{ee.container.getProvider(b).instances.forEach(Ne=>{L.includes(Ne)||L.push(Ne)})}),L};function xr(){}class sn{constructor(I,S=uo.N){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,L){const ee=this.zone;return this.delegate.schedule(function(Ne){ee.runGuarded(()=>{I.apply(this,[Ne])})},S,L)}}class os{constructor(I){this.zone=I,this.task=null}call(I,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xr,{},xr,xr)),S.pipe((0,Vl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bl=(()=>{class b{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new sn(Zone.current)),this.insideAngular=S.run(()=>new sn(Zone.current,F.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(S){return new(S||b)(d.LFG(d.R0b))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function jn(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function vr(b){return jn(),function(b){return function(S){return(S=S.lift(new os(b.ngZone))).pipe((0,Ul.R)(b.outsideAngular),(0,vd.QV)(b.insideAngular))}}(jn())(b)}},4486:(ze,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>Ee});var d=P(3854),B=P(6034),N=P(5452),ue=P(5601);class se{constructor(he,X){this._delegate=he,this.firebase=X,(0,N._addComponent)(he,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(he,X=N._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(he);return!fe.isInitialized()&&"EXPLICIT"===(null===(de=fe.getComponent())||void 0===de?void 0:de.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:X})}_removeServiceInstance(he,X=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(X)}_addComponent(he){(0,N._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,N._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function K(){const _e=function(_e){const he={},X={__esModule:!0,initializeApp:function(we,Nt={}){const oe=N.initializeApp(we,Nt);if((0,d.r3)(he,oe.name))return he[oe.name];const pe=new _e(oe,X);return he[oe.name]=pe,pe},app:fe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function(we){const Nt=we.name,oe=Nt.replace("-compat","");if(N._registerComponent(we)&&"PUBLIC"===we.type){const pe=(ve=fe())=>{if("function"!=typeof ve[oe])throw be.create("invalid-app-argument",{appName:Nt});return ve[oe]()};void 0!==we.serviceProps&&(0,d.ZB)(pe,we.serviceProps),X[oe]=pe,_e.prototype[oe]=function(...ve){return this._getService.bind(this,Nt).apply(this,we.multipleInstances?ve:[])}}return"PUBLIC"===we.type?X[oe]:null},removeApp:function(we){delete he[we]},useAsService:function(we,Nt){return"serverAuth"===Nt?null:Nt},modularAPIs:N}};function fe(we){if(!(0,d.r3)(he,we=we||N._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:we});return he[we]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(he).map(we=>he[we])}}),fe.App=_e,X}(se);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(X){(0,d.ZB)(_e,X)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),_e}(),V=new ue.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=O;(0,N.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(ze,Ae,P)=>{"use strict";P.r(Ae),P.d(Ae,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>bi,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>zt,_addOrOverwriteComponent:()=>Wn,_apps:()=>nt,_clearComponents:()=>tn,_components:()=>ct,_getProvider:()=>Je,_registerComponent:()=>er,_removeServiceInstance:()=>en,deleteApp:()=>qr,getApp:()=>Lr,getApps:()=>mn,initializeApp:()=>ai,onLog:()=>xt,registerVersion:()=>We,setLogLevel:()=>Gn});var d=P(8239),B=P(6034),N=P(5601),ue=P(3854);class se{constructor(Ye){this.container=Ye}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function(Ze){const Ye=Ze.getComponent();return"VERSION"===(null==Ye?void 0:Ye.type)}(yt)){const gt=yt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(yt=>yt).join(" ")}}const be="@firebase/app",Q="0.7.4",K=new N.Yd("@firebase/app"),pn="[DEFAULT]",ut={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nt=new Map,ct=new Map;function zt(Ze,Ye){try{Ze.container.addComponent(Ye)}catch(yt){K.debug(`Component ${Ye.name} failed to register with FirebaseApp ${Ze.name}`,yt)}}function Wn(Ze,Ye){Ze.container.addOrOverwriteComponent(Ye)}function er(Ze){const Ye=Ze.name;if(ct.has(Ye))return K.debug(`There were multiple attempts to register component ${Ye}.`),!1;ct.set(Ye,Ze);for(const yt of nt.values())zt(yt,Ze);return!0}function Je(Ze,Ye){return Ze.container.getProvider(Ye)}function en(Ze,Ye,yt=pn){Je(Ze,Ye).clearInstance(yt)}function tn(){ct.clear()}const Cn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class tr{constructor(Ye,yt,gt){this._isDeleted=!1,this._options=Object.assign({},Ye),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ye){this._isDeleted=Ye}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}const bi="9.1.3";function ai(Ze,Ye={}){"object"!=typeof Ye&&(Ye={name:Ye});const yt=Object.assign({name:pn,automaticDataCollectionEnabled:!1},Ye),gt=yt.name;if("string"!=typeof gt||!gt)throw Cn.create("bad-app-name",{appName:String(gt)});const Sn=nt.get(gt);if(Sn){if((0,ue.vZ)(Ze,Sn.options)&&(0,ue.vZ)(yt,Sn.config))return Sn;throw Cn.create("duplicate-app",{appName:gt})}const Vt=new B.H0(gt);for(const $e of ct.values())Vt.addComponent($e);const ke=new tr(Ze,yt,Vt);return nt.set(gt,ke),ke}function Lr(Ze=pn){const Ye=nt.get(Ze);if(!Ye)throw Cn.create("no-app",{appName:Ze});return Ye}function mn(){return Array.from(nt.values())}function qr(Ze){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(Ze){const Ye=Ze.name;nt.has(Ye)&&(nt.delete(Ye),yield Promise.all(Ze.container.getProviders().map(yt=>yt.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function We(Ze,Ye,yt){var gt;let Sn=null!==(gt=ut[Ze])&&void 0!==gt?gt:Ze;yt&&(Sn+=`-${yt}`);const Vt=Sn.match(/\s|\//),ke=Ye.match(/\s|\//);if(Vt||ke){const $e=[`Unable to register library "${Sn}" with version "${Ye}":`];return Vt&&$e.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),Vt&&ke&&$e.push("and"),ke&&$e.push(`version name "${Ye}" contains illegal characters (whitespace or "/")`),void K.warn($e.join(" "))}er(new B.wA(`${Sn}-version`,()=>({library:Sn,version:Ye}),"VERSION"))}function xt(Ze,Ye){if(null!==Ze&&"function"!=typeof Ze)throw Cn.create("invalid-log-argument");(0,N.Am)(Ze,Ye)}function Gn(Ze){(0,N.Ub)(Ze)}er(new B.wA("platform-logger",Ye=>new se(Ye),"PRIVATE")),We(be,Q,""),We(be,Q,"esm2017"),We("fire-js","")},1243:(ze,Ae,P)=>{"use strict";P.d(Ae,{$:()=>fd,A:()=>V,E:()=>Ln,G:()=>rt,I:()=>di,K:()=>Mn,L:()=>gl,M:()=>ml,N:()=>Mu,P:()=>rn,Q:()=>Yi,R:()=>$u,T:()=>Ea,V:()=>Js,W:()=>dd,X:()=>Di,Y:()=>bn,Z:()=>Ti,_:()=>eo,a:()=>Rr,a0:()=>wl,a1:()=>Il,a2:()=>Xi,a3:()=>It,a4:()=>ln,a5:()=>es,a6:()=>Vr,a7:()=>Da,a8:()=>Xh,a9:()=>Un,aA:()=>go,aB:()=>S,aC:()=>qt,aG:()=>mr,aJ:()=>Qi,aa:()=>Tl,ab:()=>Sr,ae:()=>Al,af:()=>zo,ag:()=>Pu,aj:()=>hd,ak:()=>gd,am:()=>Ra,an:()=>ns,ao:()=>ft,ap:()=>oe,aq:()=>Yt,ar:()=>Ot,as:()=>fe,at:()=>yo,au:()=>Fa,av:()=>Se,aw:()=>we,ax:()=>ve,ay:()=>te,az:()=>In,b:()=>_d,c:()=>sn,d:()=>yr,e:()=>Bl,f:()=>ye,g:()=>vn,h:()=>He,i:()=>Kn,j:()=>ls,k:()=>sa,l:()=>Vl,m:()=>oa,o:()=>Q,r:()=>vd,s:()=>uo,u:()=>co,z:()=>ce});var d=P(8239),B=P(3854),N=P(5452),ue=P(4762),se=P(5601),J=P(6034);const Q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),X=new se.Yd("@firebase/auth");function de(y,...p){X.logLevel<=se.in.ERROR&&X.error(`Auth (${N.SDK_VERSION}): ${y}`,...p)}function fe(y,...p){throw _t(y,...p)}function Se(y,...p){return _t(y,...p)}function je(y,p,m){const E=Object.assign(Object.assign({},Ee()),{[p]:m});return new B.LL("auth","Firebase",E).create(p,{appName:y.name})}function tt(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&fe(y,"argument-error"),je(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(y,...p){if("string"!=typeof y){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(m,...E)}return _e.create(y,...p)}function we(y,p,...m){if(!y)throw _t(p,...m)}function Nt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw de(p),new Error(p)}function oe(y,p){y||Nt(p)}const pe=new Map;function ve(y){oe(y instanceof Function,"Expected a class definition");let p=pe.get(y);return p?(oe(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,pe.set(y,p),p)}function ge(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function et(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class nt{constructor(p,m){this.shortDelay=p,this.longDelay=m,oe(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ct(y,p){oe(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class zt{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},er=new nt(3e4,6e4);function Je(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function en(y,p,m,E){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(y,p,m,E,A={}){return Fn(y,A,()=>{let k={},ae={};E&&("GET"===p?ae=E:k={body:JSON.stringify(E)});const xe=(0,B.xO)(Object.assign({key:y.config.apiKey},ae)).slice(1),Ge=new(zt.headers());return Ge.set("Content-Type","application/json"),Ge.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Ge.set("X-Firebase-Locale",y.languageCode),zt.fetch()(ai(y,y.config.apiHost,m,xe),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function Fn(y,p,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Wn),p);try{const A=new Lr(y),k=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const ae=yield k.json();if("needConfirmation"in ae)throw mn(y,"account-exists-with-different-credential",ae);if(k.ok&&!("errorMessage"in ae))return ae;{const xe=k.ok?ae.errorMessage:ae.error.message,[Ge,st]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw mn(y,"credential-already-in-use",ae);if("EMAIL_EXISTS"===Ge)throw mn(y,"email-already-in-use",ae);const Dt=E[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw je(y,Dt,st);fe(y,Dt)}}catch(A){if(A instanceof B.ZR)throw A;fe(y,"network-request-failed")}})).apply(this,arguments)}function tr(y,p,m,E){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(y,p,m,E,A={}){const k=yield en(y,p,m,E,A);return"mfaPendingCredential"in k&&fe(y,"multi-factor-auth-required",{serverResponse:k}),k})).apply(this,arguments)}function ai(y,p,m,E){const A=`${p}${m}?${E}`;return y.config.emulator?ct(y.config,A):`${y.config.apiScheme}://${A}`}class Lr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"timeout")),er.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(y,p,m){const E={appName:y.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const A=Se(y,p,E);return A.customData._tokenResponse=m,A}function wr(){return(wr=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function We(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gn(y,p){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ze(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function gt(){return(gt=(0,d.Z)(function*(y,p=!1){const m=(0,B.m9)(y),E=yield m.getIdToken(p),A=Vt(E);we(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const k="object"==typeof A.firebase?A.firebase:void 0,ae=null==k?void 0:k.sign_in_provider;return{claims:A,token:E,authTime:Ze(Sn(A.auth_time)),issuedAtTime:Ze(Sn(A.iat)),expirationTime:Ze(Sn(A.exp)),signInProvider:ae||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Sn(y){return 1e3*Number(y)}function Vt(y){const[p,m,E]=y.split(".");if(void 0===p||void 0===m||void 0===E)return de("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(m);return A?JSON.parse(A):(de("Failed to decode base64 JWT payload"),null)}catch(A){return de("Caught error parsing JWT payload as JSON",A),null}}function $e(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof B.ZR&&li(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function li({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class jt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ze(this.lastLoginAt),this.creationTime=Ze(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ht(y){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(y){var p;const m=y.auth,E=yield y.getIdToken(),A=yield $e(y,Gn(m,{idToken:E}));we(null==A?void 0:A.users.length,m,"internal-error");const k=A.users[0];y._notifyReloadListener(k);const ae=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?De(k.providerUserInfo):[],xe=Z(y.providerData,ae),Dt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==xe?void 0:xe.length)),Dn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:xe,metadata:new jt(k.createdAt,k.lastLoginAt),isAnonymous:Dt};Object.assign(y,Dn)})).apply(this,arguments)}function H(){return(H=(0,d.Z)(function*(y){const p=(0,B.m9)(y);yield Ht(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Z(y,p){return[...y.filter(E=>!p.some(A=>A.providerId===E.providerId)),...p]}function De(y){return y.map(p=>{var{providerId:m}=p,E=(0,ue._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Be(){return(Be=(0,d.Z)(function*(y,p){const m=yield Fn(y,{},()=>{const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:k}=y.config,ae=ai(y,A,"/v1/token",`key=${k}`);return zt.fetch()(ae,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){we(p.idToken,"internal-error"),we(void 0!==p.idToken,"internal-error"),we(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=Vt(y);return we(p,"internal-error"),we(void 0!==p.exp,"internal-error"),we(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,d.Z)(function*(){return we(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:k,expiresIn:ae}=yield function(y,p){return Be.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(A,k,Number(ae))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:A,expirationTime:k}=m,ae=new Qe;return E&&(we("string"==typeof E,"internal-error",{appName:p}),ae.refreshToken=E),A&&(we("string"==typeof A,"internal-error",{appName:p}),ae.accessToken=A),k&&(we("number"==typeof k,"internal-error",{appName:p}),ae.expirationTime=k),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function vt(y,p){we("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Kt{constructor(p){var{uid:m,auth:E,stsTokenManager:A}=p,k=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new jt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const E=yield $e(m,m.stsTokenManager.getToken(m.auth,p));return we(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function(y){return gt.apply(this,arguments)}(this,p)}reload(){return function(y){return H.apply(this,arguments)}(this)}_assign(p){this!==p&&(we(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Kt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,d.Z)(function*(){let A=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield Ht(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield $e(p,function(y,p){return wr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,A,k,ae,xe,Ge,st,Dt;const Dn=null!==(E=m.displayName)&&void 0!==E?E:void 0,cs=null!==(A=m.email)&&void 0!==A?A:void 0,Pt=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,St=null!==(ae=m.photoURL)&&void 0!==ae?ae:void 0,bt=null!==(xe=m.tenantId)&&void 0!==xe?xe:void 0,Qn=null!==(Ge=m._redirectEventId)&&void 0!==Ge?Ge:void 0,Gt=null!==(st=m.createdAt)&&void 0!==st?st:void 0,Wl=null!==(Dt=m.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Zu,emailVerified:aa,isAnonymous:gf,providerData:dn,stsTokenManager:Rt}=m;we(Zu&&Rt,p,"internal-error");const ur=Qe.fromJSON(this.name,Rt);we("string"==typeof Zu,p,"internal-error"),vt(Dn,p.name),vt(cs,p.name),we("boolean"==typeof aa,p,"internal-error"),we("boolean"==typeof gf,p,"internal-error"),vt(Pt,p.name),vt(St,p.name),vt(bt,p.name),vt(Qn,p.name),vt(Gt,p.name),vt(Wl,p.name);const Gl=new Kt({uid:Zu,auth:p,email:cs,emailVerified:aa,displayName:Dn,isAnonymous:gf,photoURL:St,phoneNumber:Pt,tenantId:bt,stsTokenManager:ur,createdAt:Gt,lastLoginAt:Wl});return dn&&Array.isArray(dn)&&(Gl.providerData=dn.map(zl=>Object.assign({},zl))),Qn&&(Gl._redirectEventId=Qn),Gl}static _fromIdTokenResponse(p,m,E=!1){return(0,d.Z)(function*(){const A=new Qe;A.updateFromServerResponse(m);const k=new Kt({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:E});return yield Ht(k),k})()}}const Mn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,E){var A=this;return(0,d.Z)(function*(){A.storage[m]=E})()}_get(m){var E=this;return(0,d.Z)(function*(){const A=E.storage[m];return void 0===A?null:A})()}_remove(m){var E=this;return(0,d.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return y.type="NONE",y})();function te(y,p,m){return`firebase:${y}:${p}:${m}`}class z{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:A,name:k}=this.auth;this.fullUserKey=te(this.userKey,A.apiKey,k),this.fullPersistenceKey=te("persistence",A.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Kt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,d.Z)(function*(){if(!m.length)return new z(ve(Mn),p,E);const A=(yield Promise.all(m.map(function(){var st=(0,d.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return st.apply(this,arguments)}}()))).filter(st=>st);let k=A[0]||ve(Mn);const ae=te(E,p.config.apiKey,p.name);let xe=null;for(const st of m)try{const Dt=yield st._get(ae);if(Dt){const Dn=Kt._fromJSON(p,Dt);st!==k&&(xe=Dn),k=st;break}}catch(Dt){}const Ge=A.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&Ge.length?(k=Ge[0],xe&&(yield k._set(ae,xe.toJSON())),yield Promise.all(m.map(function(){var st=(0,d.Z)(function*(Dt){if(Dt!==k)try{yield Dt._remove(ae)}catch(Dn){}});return function(Dt){return st.apply(this,arguments)}}())),new z(k,p,E)):new z(k,p,E)})()}}function q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(wt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Re(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(gn(p))return"Blackberry";if(Zt(p))return"Webos";if(Fe(p))return"Safari";if((p.includes("chrome/")||lt(p))&&!p.includes("edge/"))return"Chrome";if(Ot(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Re(y=(0,B.z$)()){return/firefox\//i.test(y)}function Fe(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function lt(y=(0,B.z$)()){return/crios\//i.test(y)}function wt(y=(0,B.z$)()){return/iemobile/i.test(y)}function Ot(y=(0,B.z$)()){return/android/i.test(y)}function gn(y=(0,B.z$)()){return/blackberry/i.test(y)}function Zt(y=(0,B.z$)()){return/webos/i.test(y)}function Yt(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function ft(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function cr(y=(0,B.z$)()){return Yt(y)||Ot(y)||Zt(y)||gn(y)||/windows phone/i.test(y)||wt(y)}function Et(y,p=[]){let m;switch(y){case"Browser":m=q((0,B.z$)());break;case"Worker":m=`${q((0,B.z$)())}-${y}`;break;default:m=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${N.SDK_VERSION}/${E}`}class Qt{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=ve(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A;E._deleted||(E.persistenceManager=yield z.create(E,p),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(m),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var E;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const k=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,ae=null==A?void 0:A._redirectEventId,xe=yield m.tryRedirectSignIn(p);(!k||k===ae)&&(null==xe?void 0:xe.user)&&(A=xe.user)}return A?A._redirectEventId?(we(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield Ht(p)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const E=p?(0,B.m9)(p):null;return E&&we(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return p&&we(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ve(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,d.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&ve(p)||m._popupRedirectResolver;we(E,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[ve(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var E,A;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,A){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return we(ae,this,"internal-error"),ae.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,E,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function qt(y){return(0,B.m9)(y)}class Hi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ln(y,p,m){const E=qt(y);we(E._canInitEmulator,E,"emulator-config-failed"),we(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),k=ui(p),{host:ae,port:xe}=function(y){const p=ui(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const k=A[1];return{host:k,port:$i(E.substr(k.length+1))}}{const[k,ae]=E.split(":");return{host:k,port:$i(ae)}}}(p);E.config.emulator={url:`${k}//${ae}${null===xe?"":`:${xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ae,port:xe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function ui(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function $i(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class rt{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Nt("not implemented")}_getIdTokenResponse(p){return Nt("not implemented")}_linkToIdToken(p,m){return Nt("not implemented")}_getReauthenticationResolver(p){return Nt("not implemented")}}function wi(y,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:resetPassword",Je(y,p))})).apply(this,arguments)}function zn(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dr(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",Je(y,p))})).apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPassword",Je(y,p))})).apply(this,arguments)}function Lt(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:sendOobCode",Je(y,p))})).apply(this,arguments)}function ad(y,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,p){return Lt(y,p)})).apply(this,arguments)}function hl(y,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(y,p){return Lt(y,p)})).apply(this,arguments)}function Gi(y,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(y,p){return Lt(y,p)})).apply(this,arguments)}function nr(y,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,d.Z)(function*(y,p){return Lt(y,p)})).apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithEmailLink",Je(y,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithEmailLink",Je(y,p))})).apply(this,arguments)}class Zi extends rt{constructor(p,m,E,A=null){super("password",E),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Zi(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Zi(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(y,p){return Dr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(y,p){return Zn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:fe(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return zn(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,p){return Ys.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:fe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vn(y,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithIdp",Je(y,p))})).apply(this,arguments)}class di extends rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new di(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):fe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:A}=m,k=(0,ue._T)(m,["providerId","signInMethod"]);if(!E||!A)return null;const ae=new di(E,A);return ae.idToken=k.idToken||void 0,ae.accessToken=k.accessToken||void 0,ae.secret=k.secret,ae.nonce=k.nonce,ae.pendingToken=k.pendingToken||null,ae}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Vn(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function ld(y,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:sendVerificationCode",Je(y,p))})).apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,p))})).apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(y,p){const m=yield tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,p));if(m.temporaryProof)throw mn(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Kh={USER_NOT_FOUND:"user-not-found"};function Ru(){return(Ru=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Kh)})).apply(this,arguments)}class Qs extends rt{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Qs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Qs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(y,p){return Su.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(y,p){return qi.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return Ru.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:k}=p;return E||m||A||k?new Qs({verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:k}):null}}class pl{constructor(p){var m,E,A,k,ae,xe;const Ge=(0,B.zd)((0,B.pd)(p)),st=null!==(m=Ge.apiKey)&&void 0!==m?m:null,Dt=null!==(E=Ge.oobCode)&&void 0!==E?E:null,Dn=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ge.mode)&&void 0!==A?A:null);we(st&&Dt&&Dn,"argument-error"),this.apiKey=st,this.operation=Dn,this.code=Dt,this.continueUrl=null!==(k=Ge.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ae=Ge.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(xe=Ge.tenantId)&&void 0!==xe?xe:null}static parseLink(p){const m=function(y){const p=(0,B.zd)((0,B.pd)(y)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||m||p||y}(p);try{return new pl(m)}catch(E){return null}}}let gl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,E){return Zi._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const A=pl.parseLink(E);return we(A,"argument-error"),Zi._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Kr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ki extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ea extends Ki{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return we("providerId"in m&&"signInMethod"in m,"argument-error"),di._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return we(p.idToken||p.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ea.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ea.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:k,nonce:ae,providerId:xe}=p;if(!E&&!A&&!m&&!k||!xe)return null;try{return new Ea(xe)._credential({idToken:m,accessToken:E,nonce:ae,pendingToken:k})}catch(Ge){return null}}}let ml=(()=>{class y extends Ki{constructor(){super("facebook.com")}static credential(m){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Mu=(()=>{class y extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:A}=m;if(!E&&!A)return null;try{return y.credential(E,A)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Yi=(()=>{class y extends Ki{constructor(){super("github.com")}static credential(m){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qi extends rt{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Vn(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:A,pendingToken:k}=m;return E&&A&&k&&E===A?new Qi(E,k):null}static _create(p,m){return new Qi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Js=(()=>{class y extends Ki{constructor(){super("twitter.com")}static credential(m,E){return di._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=m;if(!E||!A)return null;try{return y.credential(E,A)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Yr(y,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signUp",Je(y,p))})).apply(this,arguments)}class fr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,A=!1){return(0,d.Z)(function*(){const k=yield Kt._fromIdTokenResponse(p,E,A),ae=vl(E);return new fr({user:k,providerId:ae,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const A=vl(E);return new fr({user:p,providerId:A,_tokenResponse:E,operationType:m})})()}}function vl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function dd(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(y){var p;const m=qt(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new fr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Yr(m,{returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ji extends B.ZR{constructor(p,m,E,A){var k;super(m.code,m.message),this.operationType=E,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,Ji.prototype),this.appName=p.name,this.code=m.code,this.tenantId=null!==(k=p.tenantId)&&void 0!==k?k:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(p,m,E,A){return new Ji(p,m,E,A)}}function Cl(y,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ji._fromErrorAndOperation(y,k,p,E):k})}function Vo(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function hd(y,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(y,p){const m=(0,B.m9)(y);yield Xs(!0,m,p);const{providerUserInfo:E}=yield We(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Vo(E||[]);return m.providerData=m.providerData.filter(k=>A.has(k.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ba(y,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(y,p,m=!1){const E=yield $e(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return fr._forOperation(y,"link",E)})).apply(this,arguments)}function Xs(y,p,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(y,p,m){yield Ht(p);const A=!1===y?"provider-already-linked":"no-such-provider";we(Vo(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function wa(y,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(y,p,m=!1){const{auth:E}=y,A="reauthenticate";try{const k=yield $e(y,Cl(E,A,p,y),m);we(k.idToken,E,"internal-error");const ae=Vt(k.idToken);we(ae,E,"internal-error");const{sub:xe}=ae;return we(y.uid===xe,E,"user-mismatch"),fr._forOperation(y,A,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&fe(E,"user-mismatch"),k}})).apply(this,arguments)}function xu(y,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(y,p,m=!1){const E="signIn",A=yield Cl(y,E,p),k=yield fr._fromIdTokenResponse(y,E,A);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Di(y,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(y,p){return xu(qt(y),p)})).apply(this,arguments)}function bn(y,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(y,p){const m=(0,B.m9)(y);return yield Xs(!1,m,p.providerId),ba(m,p)})).apply(this,arguments)}function Ti(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y,p){return wa((0,B.m9)(y),p)})).apply(this,arguments)}function El(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithCustomToken",Je(y,p))})).apply(this,arguments)}function eo(y,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(y,p){const m=qt(y),E=yield El(m,{token:p,returnSecureToken:!0}),A=yield fr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ns{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?xs._fromServerResponse(p,m):fe(p,"internal-error")}}class xs extends Ns{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new xs(m)}}function Xe(y,p,m){var E;we((null===(E=m.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),we(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(we(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(we(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function fd(y,p,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&Xe(E,A,m),yield hl(E,A)})).apply(this,arguments)}function wl(y,p,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,m){yield wi((0,B.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Il(y,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(y,p){yield dr((0,B.m9)(y),{oobCode:p})})).apply(this,arguments)}function Xi(y,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(y,p){const m=(0,B.m9)(y),E=yield wi(m,{oobCode:p}),A=E.requestType;switch(we(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(E.mfaInfo,m,"internal-error");default:we(E.email,m,"internal-error")}let k=null;return E.mfaInfo&&(k=Ns._fromServerResponse(qt(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:A}})).apply(this,arguments)}function It(y,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(y,p){const{data:m}=yield Xi((0,B.m9)(y),p);return m.email})).apply(this,arguments)}function ln(y,p,m){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(y,p,m){const E=qt(y),A=yield Yr(E,{returnSecureToken:!0,email:p,password:m}),k=yield fr._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function es(y,p,m){return Di((0,B.m9)(y),gl.credential(p,m))}function Vr(y,p,m){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};we(m.handleCodeInApp,E,"argument-error"),m&&Xe(E,A,m),yield Gi(E,A)})).apply(this,arguments)}function Da(y,p){const m=pl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Xh(y,p,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y),A=gl.credentialWithLink(p,m||ge());return we(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Di(E,A)})).apply(this,arguments)}function Aa(y,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:createAuthUri",Je(y,p))})).apply(this,arguments)}function Un(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(y,p){const E={identifier:p,continueUri:et()?ge():"http://localhost"},{signinMethods:A}=yield Aa((0,B.m9)(y),E);return A||[]})).apply(this,arguments)}function Tl(y,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(y,p){const m=(0,B.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Xe(m.auth,A,p);const{email:k}=yield ad(m.auth,A);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Sr(y,p,m){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Xe(E.auth,k,m);const{email:ae}=yield nr(E.auth,k);ae!==y.email&&(yield y.reload())})).apply(this,arguments)}function Sa(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(y,p){return en(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Al(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,B.m9)(y),k={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ae=yield $e(E,Sa(E.auth,k));E.displayName=ae.displayName||null,E.photoURL=ae.photoUrl||null;const xe=E.providerData.find(({providerId:Ge})=>"password"===Ge);xe&&(xe.displayName=E.displayName,xe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ae)})).apply(this,arguments)}function zo(y,p){return no((0,B.m9)(y),p,null)}function Pu(y,p){return no((0,B.m9)(y),null,p)}function no(y,p,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(y,p,m){const{auth:E}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const ae=yield $e(y,zn(E,k));yield y._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class gi{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class Rl extends gi{constructor(p,m,E,A){super(p,m,E),this.username=A}}class pd extends gi{constructor(p,m){super(p,"facebook.com",m)}}class ku extends Rl{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Fu extends gi{constructor(p,m){super(p,"google.com",m)}}class Os extends Rl{constructor(p,m,E){super(p,"twitter.com",m,E)}}function gd(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,m;if(!y)return null;const{providerId:E}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const ae=null===(m=null===(p=Vt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ae)return new gi(k,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!E)return null;switch(E){case"facebook.com":return new pd(k,A);case"github.com":return new ku(k,A);case"google.com":return new Fu(k,A);case"twitter.com":return new Os(k,A,y.screenName||null);case"custom":case"anonymous":return new gi(k,null);default:return new gi(k,E,A)}}(m)}class Ps{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Ps("enroll",p)}static _fromMfaPendingCredential(p){return new Ps("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ps._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Ps._fromIdtoken(p.multiFactorSession.idToken)}return null}}class qo{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=qt(p),A=(m.serverResponse.mfaInfo||[]).map(ae=>Ns._fromServerResponse(E,ae));we(m.serverResponse.mfaPendingCredential,E,"internal-error");const k=Ps._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new qo(k,A,function(){var ae=(0,d.Z)(function*(xe){const Ge=yield xe._process(E,k);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const st=Object.assign(Object.assign({},m.serverResponse),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(m.operationType){case"signIn":const Dt=yield fr._fromIdTokenResponse(E,m.operationType,st);return yield E._updateCurrentUser(Dt.user),Dt;case"reauthenticate":return we(m.user,E,"internal-error"),fr._forOperation(m.user,m.operationType,st);default:fe(E,"internal-error")}});return function(xe){return ae.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function Ra(y,p){var m;const E=(0,B.m9)(y),A=p;return we(p.operationType,E,"argument-error"),we(null===(m=A.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),qo._fromError(E,A)}function so(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:start",Je(y,p))}class Yo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Ns._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Yo(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Ps._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var E=this;return(0,d.Z)(function*(){const A=p,k=yield E.getSession(),ae=yield $e(E.user,A._process(E.user.auth,k,m));return yield E.user._updateTokensIfNecessary(ae),E.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),k=yield $e(m.user,function(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(y,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ae})=>ae!==E),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(ae){if("auth/user-token-expired"!==ae.code)throw ae}})()}}const Ml=new WeakMap;function ns(y){const p=(0,B.m9)(y);return Ml.has(p)||Ml.set(p,Yo._fromUser(p)),Ml.get(p)}const ks="__sak";class Nl{constructor(p,m){this.storage=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ks,"1"),this.storage.removeItem(ks),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}}const _d=(()=>{class y extends Nl{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,B.z$)();return Fe(y)||Yt(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=cr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),k=this.localCache[E];A!==k&&m(E,k,A)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((xe,Ge,st)=>{this.notifyListeners(xe,st)});const A=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(A);if(m.newValue!==xe)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!E)return}const k=()=>{const xe=this.storage.getItem(A);!E&&this.localCache[A]===xe||this.notifyListeners(A,xe)},ae=this.storage.getItem(A);(0,B.w1)()&&10===document.documentMode&&ae!==m.newValue&&m.newValue!==m.oldValue?setTimeout(k,10):k()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const k of Array.from(A))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var A=()=>super._set,k=this;return(0,d.Z)(function*(){yield A().call(k,m,E),k.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,A=this;return(0,d.Z)(function*(){const k=yield E().call(A,m);return A.localCache[m]=JSON.stringify(k),k})()}_remove(m){var E=()=>super._remove,A=this;return(0,d.Z)(function*(){yield E().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Rr=(()=>{class y extends Nl{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return y.type="SESSION",y})();let Uu=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(k=>k.isListeningto(m));if(E)return E;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,d.Z)(function*(){const A=m,{eventId:k,eventType:ae,data:xe}=A.data,Ge=E.handlersMap[ae];if(!(null==Ge?void 0:Ge.size))return;A.ports[0].postMessage({status:"ack",eventId:k,eventType:ae});const st=Array.from(Ge).map(function(){var Dn=(0,d.Z)(function*(cs){return cs(A.origin,xe)});return function(cs){return Dn.apply(this,arguments)}}()),Dt=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(st);A.ports[0].postMessage({status:"done",eventId:k,eventType:ae,response:Dt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function mr(y="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return y+m}class Qo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var A=this;return(0,d.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ae,xe;return new Promise((Ge,st)=>{const Dt=mr("",20);k.port1.start();const Dn=setTimeout(()=>{st(new Error("unsupported_event"))},E);xe={messageChannel:k,onMessage(cs){const Pt=cs;if(Pt.data.eventId===Dt)switch(Pt.data.status){case"ack":clearTimeout(Dn),ae=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),Ge(Pt.data.response);break;default:clearTimeout(Dn),clearTimeout(ae),st(new Error("invalid_response"))}}},A.handlers.add(xe),k.port1.addEventListener("message",xe.onMessage),A.target.postMessage({eventType:p,eventId:Dt,data:m},[k.port2])}).finally(()=>{xe&&A.removeMessageHandler(xe)})})()}}function wn(){return window}function Jr(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function Ai(){return(Ai=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const nf="firebaseLocalStorageDb",Na="firebaseLocalStorage",yd="fbase_key";class ao{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function rs(y,p){return y.transaction([Na],p?"readwrite":"readonly").objectStore(Na)}function sr(){const y=indexedDB.open(nf,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Na,{keyPath:yd})}catch(A){m(A)}}),y.addEventListener("success",(0,d.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Na)?p(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(nf);return new ao(y).toPromise()}(),p(yield sr()))}))})}function Mr(y,p,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(y,p,m){const E=rs(y,!0).put({[yd]:p,value:m});return new ao(E).toPromise()})).apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(y,p){const m=rs(y,!1).get(p),E=yield new ao(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ct(y,p){const m=rs(y,!0).delete(p);return new ao(m).toPromise()}const Kn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield sr()),m.db})()}_withRetries(m){var E=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const k=yield E._openDb();return yield m(k)}catch(k){if(A++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Jr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Uu._getInstance(Jr()?self:null),m.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(A,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(A,k){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(A,k){return["keyChanged"]});return function(A,k){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var E,A;if(m.activeServiceWorker=yield function(){return Ai.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Qo(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=k[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield sr();return yield Mr(m,ks,"1"),yield Ct(m,ks),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(k=>Mr(k,m,E)),A.localCache[m]=E,A.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,d.Z)(function*(){const A=yield E._withRetries(k=>function(y,p){return Si.apply(this,arguments)}(k,m));return E.localCache[m]=A,A})()}_remove(m){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(A=>Ct(A,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const E=yield m._withRetries(ae=>{const xe=rs(ae,!1).getAll();return new ao(xe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const A=[],k=new Set;for(const{fbase_key:ae,value:xe}of E)k.add(ae),JSON.stringify(m.localCache[ae])!==JSON.stringify(xe)&&(m.notifyListeners(ae,xe),A.push(ae));for(const ae of Object.keys(m.localCache))m.localCache[ae]&&!k.has(ae)&&(m.notifyListeners(ae,null),A.push(ae));return A})()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const k of Array.from(A))k(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Oa(y,p){return en(y,"POST","/v2/accounts/mfaSignIn:start",Je(y,p))}function Ri(){return(Ri=(0,d.Z)(function*(y){return(yield en(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mi(y){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=A=>{const k=Se("internal-error");k.customData=A,m(k)},E.type="text/javascript",E.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function Fl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ur=1e12;class lo{constructor(p){this.auth=p,this.counter=Ur,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new is(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||Ur;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ur))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var E;return null===(E=m._widgets.get(p||Ur))||void 0===E||E.execute(),""})()}}class is{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;we(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ta=Fl("rcb"),Vs=new nt(3e4,6e4);class pg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(p,m=""){return we((y=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wn().grecaptcha):new Promise((E,A)=>{const k=wn().setTimeout(()=>{A(Se(p,"network-request-failed"))},Vs.get());wn()[ta]=()=>{wn().clearTimeout(k),delete wn()[ta];const xe=wn().grecaptcha;if(!xe)return void A(Se(p,"internal-error"));const Ge=xe.render;xe.render=(st,Dt)=>{const Dn=Ge(st,Dt);return this.counter++,Dn},this.hostLanguage=m,E(xe)},Mi(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ta,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),A(Se(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!wn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gg{load(p){return(0,d.Z)(function*(){return new lo(p)})()}clearedOneInstance(){}}const Br="recaptcha",yn={theme:"light",type:"image"};class $u{constructor(p,m=Object.assign({},yn),E){this.parameters=m,this.type=Br,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(E),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;we(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gg:new pg,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(k=>{const ae=xe=>{!xe||(p.tokenChangeListeners.delete(ae),k(xe))};p.tokenChangeListeners.add(ae),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=wn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){we(et()&&!Jr(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(y){return Ri.apply(this,arguments)}(p.auth);we(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ss{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Qs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function uo(y,p,m){return F.apply(this,arguments)}function F(){return(F=(0,d.Z)(function*(y,p,m){const E=qt(y),A=yield na(E,p,(0,B.m9)(m));return new ss(A,k=>Di(E,k))})).apply(this,arguments)}function Vl(y,p,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y);yield Xs(!1,E,"phone");const A=yield na(E.auth,p,(0,B.m9)(m));return new ss(A,k=>bn(E,k))})).apply(this,arguments)}function vd(y,p,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y),A=yield na(E.auth,p,(0,B.m9)(m));return new ss(A,k=>Ti(E,k))})).apply(this,arguments)}function na(y,p,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(y,p,m){var E;const A=yield m.verify();try{let k;if(we("string"==typeof A,y,"argument-error"),we(m.type===Br,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const ae=k.session;if("phoneNumber"in k)return we("enroll"===ae.type,y,"internal-error"),(yield so(y,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{we("signin"===ae.type,y,"internal-error");const xe=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return we(xe,y,"missing-multi-factor-info"),(yield Oa(y,{mfaPendingCredential:ae.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield ld(y,{phoneNumber:k.phoneNumber,recaptchaToken:A});return ae}}finally{m._reset()}})).apply(this,arguments)}function co(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(y,p){yield ba((0,B.m9)(y),p)})).apply(this,arguments)}let rn=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=qt(m)}verifyPhoneNumber(m,E){return na(this.auth,m,(0,B.m9)(E))}static credential(m,E){return Qs._fromVerification(m,E)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:A}=m;return E&&A?Qs._fromTokenResponse(E,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function _r(y,p){return p?ve(p):(we(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Nr extends rt{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Vn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Vn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function sf(y){return xu(y.auth,new Nr(y),y.bypassAuthState)}function Cd(y){const{auth:p,user:m}=y;return we(m,p,"internal-error"),wa(m,new Nr(y),y.bypassAuthState)}function or(y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return we(m,p,"internal-error"),ba(m,new Nr(y),y.bypassAuthState)})).apply(this,arguments)}class ho{constructor(p,m,E,A,k=!1){this.auth=p,this.resolver=E,this.user=A,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(E,A){p.pendingPromise={resolve:E,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(E,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:k,tenantId:ae,error:xe,type:Ge}=p;if(xe)return void m.reject(xe);const st={auth:m.auth,requestUri:E,sessionId:A,tenantId:ae||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ge)(st))}catch(Dt){m.reject(Dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return sf;case"linkViaPopup":case"linkViaRedirect":return or;case"reauthViaPopup":case"reauthViaRedirect":return Cd;default:fe(this.auth,"internal-error")}}resolve(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xr=new nt(2e3,1e4);function sn(y,p,m){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(y,p,m){const E=qt(y);tt(y,p,Kr);const A=_r(E,m);return new fo(E,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Bl(y,p,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y);tt(E.auth,p,Kr);const A=_r(E.auth,m);return new fo(E.auth,"reauthViaPopup",p,A,E).executeNotNull()})).apply(this,arguments)}function yr(y,p,m){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y);tt(E.auth,p,Kr);const A=_r(E.auth,m);return new fo(E.auth,"linkViaPopup",p,A,E).executeNotNull()})).apply(this,arguments)}let fo=(()=>{class y extends ho{constructor(m,E,A,k,ae){super(m,E,k,ae),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const E=yield m.execute();return we(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,d.Z)(function*(){oe(1===m.filter.length,"Popup operations only handle one event");const E=mr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,xr.get())};m()}}return y.currentPopupAction=null,y})();const vr=new Map;class ar extends ho{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let E=vr.get(m.auth._key());if(!E){try{const k=(yield function(y,p){return jl.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(k)}catch(A){E=()=>Promise.reject(A)}vr.set(m.auth._key(),E)}return E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const A=yield E.auth._redirectUserForId(p.eventId);if(A)return E.user=A,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function jl(){return(jl=(0,d.Z)(function*(y,p){const m=ee(p),E="true"===(yield L(y)._get(m));return yield L(y)._remove(m),E})).apply(this,arguments)}function b(y,p){return I.apply(this,arguments)}function I(){return(I=(0,d.Z)(function*(y,p){return L(y)._set(ee(p),"true")})).apply(this,arguments)}function S(){vr.clear()}function L(y){return ve(y._redirectPersistence)}function ee(y){return te("pendingRedirect",y.config.apiKey,y.name)}function ye(y,p,m){return function(y,p,m){return Ue.apply(this,arguments)}(y,p,m)}function Ue(){return(Ue=(0,d.Z)(function*(y,p,m){const E=qt(y);tt(y,p,Kr);const A=_r(E,m);return yield b(A,E),A._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function He(y,p,m){return function(y,p,m){return Ut.apply(this,arguments)}(y,p,m)}function Ut(){return(Ut=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y);tt(E.auth,p,Kr);const A=_r(E.auth,m);yield b(A,E.auth);const k=yield Cr(E);return A._openRedirect(E.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function vn(y,p,m){return function(y,p,m){return On.apply(this,arguments)}(y,p,m)}function On(){return(On=(0,d.Z)(function*(y,p,m){const E=(0,B.m9)(y);tt(E.auth,p,Kr);const A=_r(E.auth,m);yield Xs(!1,E,p.providerId),yield b(A,E.auth);const k=yield Cr(E);return A._openRedirect(E.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function ls(y,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(y,p){return yield qt(y)._initializationPromise,go(y,p,!1)})).apply(this,arguments)}function go(y,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(y,p,m=!1){const E=qt(y),A=_r(E,p),ae=yield new ar(E,A,m).execute();return ae&&!m&&(delete ae.user._redirectEventId,yield E._persistUserIfCurrent(ae.user),yield E._setRedirectUser(null,p)),ae})).apply(this,arguments)}function Cr(y){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(y){const p=mr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class In{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return af(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!af(p)){const A=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wu(p))}saveEventToCache(p){this.cachedEventUids.add(Wu(p)),this.lastProcessedEventTime=Date.now()}}function Wu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function af({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Fa(y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,d.Z)(function*(y,p={}){return en(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ed=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bd=/^https?/;function _o(){return(_o=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Fa(y);for(const m of p)try{if(us(m))return}catch(E){}fe(y,"unauthorized-domain")})).apply(this,arguments)}function us(y){const p=ge(),{protocol:m,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const ae=new URL(y);return""===ae.hostname&&""===E?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ae.hostname===E}if(!bd.test(m))return!1;if(Ed.test(y))return E===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Gu=new nt(3e4,6e4);function xi(){const y=wn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ia=null;function Id(y){return ia=ia||function(y){return new Promise((p,m)=>{var E,A,k;function ae(){xi(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xi(),m(Se(y,"network-request-failed"))},timeout:Gu.get()})}if(null===(A=null===(E=wn().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=wn().gapi)||void 0===k?void 0:k.load)){const xe=Fl("iframefcb");return wn()[xe]=()=>{gapi.load?ae():m(Se(y,"network-request-failed"))},Mi(`https://apis.google.com/js/api.js?onload=${xe}`)}ae()}}).catch(p=>{throw ia=null,p})}(y),ia}const zu=new nt(5e3,15e3),_g={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},La=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Va(y){const p=y.config;we(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?ct(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:N.SDK_VERSION},A=La.get(y.config.apiHost);A&&(E.eid=A);const k=y._getFrameworks();return k.length&&(E.fw=k.join(",")),`${m}?${(0,B.xO)(E).slice(1)}`}function Td(){return(Td=(0,d.Z)(function*(y){const p=yield Id(y),m=wn().gapi;return we(m,y,"internal-error"),p.open({where:document.body,url:Va(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_g,dontclear:!0},E=>new Promise(function(){var A=(0,d.Z)(function*(k,ae){yield E.restyle({setHideOnLeave:!1});const xe=Se(y,"network-request-failed"),Ge=wn().setTimeout(()=>{ae(xe)},zu.get());function st(){wn().clearTimeout(Ge),k(E)}E.ping(st).then(st,()=>{ae(xe)})});return function(k,ae){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ad{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function yo(y,p,m,E,A,k){we(y.config.authDomain,y,"auth-domain-config-required"),we(y.config.apiKey,y,"invalid-api-key");const ae={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:E,v:N.SDK_VERSION,eventId:A};if(p instanceof Kr){p.setDefaultLanguage(y.languageCode),ae.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(ae.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ge,st]of Object.entries(k||{}))ae[Ge]=st}if(p instanceof Ki){const Ge=p.getScopes().filter(st=>""!==st);Ge.length>0&&(ae.scopes=Ge.join(","))}y.tenantId&&(ae.tid=y.tenantId);const xe=ae;for(const Ge of Object.keys(xe))void 0===xe[Ge]&&delete xe[Ge];return`${function({config:y}){return y.emulator?ct(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(xe).slice(1)}`}const Ba="webStorageSupport",sa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rr,this._completeRedirectFn=go}_openPopup(p,m,E,A){var k=this;return(0,d.Z)(function*(){var ae;oe(null===(ae=k.eventManagers[p._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const xe=yo(p,m,E,ge(),A);return function(y,p,m,E=500,A=600){const k=Math.max((window.screen.availHeight-A)/2,0).toString(),ae=Math.max((window.screen.availWidth-E)/2,0).toString();let xe="";const Ge=Object.assign(Object.assign({},cf),{width:E.toString(),height:A.toString(),top:k,left:ae}),st=(0,B.z$)().toLowerCase();m&&(xe=lt(st)?"_blank":m),Re(st)&&(p=p||"http://localhost",Ge.scrollbars="yes");const Dt=Object.entries(Ge).reduce((cs,[Pt,St])=>`${cs}${Pt}=${St},`,"");if(function(y=(0,B.z$)()){var p;return Yt(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(st)&&"_self"!==xe)return function(y,p){const m=document.createElement("a");m.href=y,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",xe),new Ad(null);const Dn=window.open(p||"",xe,Dt);we(Dn,y,"popup-blocked");try{Dn.focus()}catch(cs){}return new Ad(Dn)}(p,xe,mr())})()}_openRedirect(p,m,E,A){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(p),y=yo(p,m,E,ge(),A),wn().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:k}=this.eventManagers[m];return A?Promise.resolve(A):(oe(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const E=yield function(y){return Td.apply(this,arguments)}(p),A=new In(p);return E.register("authEvent",k=>(we(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:A.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=E,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ba,{type:Ba},A=>{var k;const ae=null===(k=null==A?void 0:A[0])||void 0===k?void 0:k[Ba];void 0!==ae&&m(!!ae),fe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return _o.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return cr()||Fe()||Yt()}};class Ha extends class{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ha(p)}_finalizeEnroll(p,m,E){return function(y,p){return en(y,"POST","/v2/accounts/mfaEnrollment:finalize",Je(y,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(y,p){return en(y,"POST","/v2/accounts/mfaSignIn:finalize",Je(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oa=(()=>{class y{constructor(){}static assertion(m){return Ha._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var y,hf="@firebase/auth";class bg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{var A;p((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}y="Browser",(0,N._registerComponent)(new J.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:k}=E.options;return(ae=>{we(A&&!A.includes(":"),"invalid-api-key",{appName:ae.name}),we(!(null==k?void 0:k.includes(":")),"argument-error",{appName:ae.name});const xe={apiKey:A,authDomain:k,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(y)},Ge=new Qt(ae,xe);return function(y,p){const m=(null==p?void 0:p.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ve);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Ge,m),Ge})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new J.wA("auth-internal",p=>{const m=qt(p.getProvider("auth").getImmediate());return new bg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(hf,"0.18.3",void 0),(0,N.registerVersion)(hf,"0.18.3","esm2017")},6034:(ze,Ae,P)=>{"use strict";P.d(Ae,{wA:()=>N,H0:()=>Q,zt:()=>se});var d=P(4762),B=P(3854),N=function(){function K(O,V,j){this.name=O,this.instanceFactory=V,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(O){return this.instantiationMode=O,this},K.prototype.setMultipleInstances=function(O){return this.multipleInstances=O,this},K.prototype.setServiceProps=function(O){return this.serviceProps=O,this},K.prototype.setInstanceCreatedCallback=function(O){return this.onInstanceCreated=O,this},K}(),ue="[DEFAULT]",se=function(){function K(O,V){this.name=O,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(O){var V=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(V)){var j=new B.BH;if(this.instancesDeferred.set(V,j),this.isInitialized(V)||this.shouldAutoInitialize())try{var ie=this.getOrInitializeService({instanceIdentifier:V});ie&&j.resolve(ie)}catch(ce){}}return this.instancesDeferred.get(V).promise},K.prototype.getImmediate=function(O){var V,j=this.normalizeInstanceIdentifier(null==O?void 0:O.identifier),ie=null!==(V=null==O?void 0:O.optional)&&void 0!==V&&V;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(ce){if(ie)return null;throw ce}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(O){var V,j;if(O.name!==this.name)throw Error("Mismatching Component "+O.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=O,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(fe){}try{for(var ie=(0,d.XA)(this.instancesDeferred.entries()),ce=ie.next();!ce.done;ce=ie.next()){var Ee=(0,d.CR)(ce.value,2),he=Ee[1],X=this.normalizeInstanceIdentifier(Ee[0]);try{var de=this.getOrInitializeService({instanceIdentifier:X});he.resolve(de)}catch(fe){}}}catch(fe){V={error:fe}}finally{try{ce&&!ce.done&&(j=ie.return)&&j.call(ie)}finally{if(V)throw V.error}}}},K.prototype.clearInstance=function(O){void 0===O&&(O=ue),this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)},K.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var O;return(0,d.Jh)(this,function(V){switch(V.label){case 0:return O=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(O.filter(function(j){return"INTERNAL"in j}).map(function(j){return j.INTERNAL.delete()}))),(0,d.CR)(O.filter(function(j){return"_delete"in j}).map(function(j){return j._delete()}))))];case 1:return V.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(O){return void 0===O&&(O=ue),this.instances.has(O)},K.prototype.getOptions=function(O){return void 0===O&&(O=ue),this.instancesOptions.get(O)||{}},K.prototype.initialize=function(O){var V,j;void 0===O&&(O={});var ie=O.options,ce=void 0===ie?{}:ie,Ee=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(Ee))throw Error(this.name+"("+Ee+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var _e=this.getOrInitializeService({instanceIdentifier:Ee,options:ce});try{for(var he=(0,d.XA)(this.instancesDeferred.entries()),X=he.next();!X.done;X=he.next()){var de=(0,d.CR)(X.value,2),Se=de[1];Ee===this.normalizeInstanceIdentifier(de[0])&&Se.resolve(_e)}}catch(tt){V={error:tt}}finally{try{X&&!X.done&&(j=he.return)&&j.call(he)}finally{if(V)throw V.error}}return _e},K.prototype.onInit=function(O,V){var j,ie=this.normalizeInstanceIdentifier(V),ce=null!==(j=this.onInitCallbacks.get(ie))&&void 0!==j?j:new Set;ce.add(O),this.onInitCallbacks.set(ie,ce);var Ee=this.instances.get(ie);return Ee&&O(Ee,ie),function(){ce.delete(O)}},K.prototype.invokeOnInitCallbacks=function(O,V){var j,ie,ce=this.onInitCallbacks.get(V);if(ce)try{for(var Ee=(0,d.XA)(ce),_e=Ee.next();!_e.done;_e=Ee.next()){var he=_e.value;try{he(O,V)}catch(X){}}}catch(X){j={error:X}}finally{try{_e&&!_e.done&&(ie=Ee.return)&&ie.call(Ee)}finally{if(j)throw j.error}}},K.prototype.getOrInitializeService=function(O){var V=O.instanceIdentifier,j=O.options,ie=void 0===j?{}:j,ce=this.instances.get(V);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:J(V),options:ie}),this.instances.set(V,ce),this.instancesOptions.set(V,ie),this.invokeOnInitCallbacks(ce,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ce)}catch(Ee){}return ce||null},K.prototype.normalizeInstanceIdentifier=function(O){return void 0===O&&(O=ue),this.component?this.component.multipleInstances?O:ue:O},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function J(K){return K===ue?void 0:K}var Q=function(){function K(O){this.name=O,this.providers=new Map}return K.prototype.addComponent=function(O){var V=this.getProvider(O.name);if(V.isComponentSet())throw new Error("Component "+O.name+" has already been registered with "+this.name);V.setComponent(O)},K.prototype.addOrOverwriteComponent=function(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)},K.prototype.getProvider=function(O){if(this.providers.has(O))return this.providers.get(O);var V=new se(O,this);return this.providers.set(O,V),V},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},5601:(ze,Ae,P)=>{"use strict";P.d(Ae,{in:()=>B,Yd:()=>be,Ub:()=>Q,Am:()=>K});const d=[];var B=(()=>{return(O=B||(B={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",B;var O})();const N={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ue=B.INFO,se={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},J=(O,V,...j)=>{if(V<O.logLevel)return;const ie=(new Date).toISOString(),ce=se[V];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ce](`[${ie}]  ${O.name}:`,...j)};class be{constructor(V){this.name=V,this._logLevel=ue,this._logHandler=J,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in B))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?N[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...V),this._logHandler(this,B.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...V),this._logHandler(this,B.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,B.INFO,...V),this._logHandler(this,B.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,B.WARN,...V),this._logHandler(this,B.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...V),this._logHandler(this,B.ERROR,...V)}}function Q(O){d.forEach(V=>{V.setLogLevel(O)})}function K(O,V){for(const j of d){let ie=null;V&&V.level&&(ie=N[V.level]),j.userLogHandler=null===O?null:(ce,Ee,..._e)=>{const he=_e.map(X=>{if(null==X)return null;if("string"==typeof X)return X;if("number"==typeof X||"boolean"==typeof X)return X.toString();if(X instanceof Error)return X.message;try{return JSON.stringify(X)}catch(de){return null}}).filter(X=>X).join(" ");Ee>=(null!=ie?ie:ce.logLevel)&&O({level:B[Ee].toLowerCase(),message:he,args:_e,type:ce.name})}}}},3854:(ze,Ae,P)=>{"use strict";P.d(Ae,{BH:()=>ie,LL:()=>ge,ZR:()=>Oe,gQ:()=>mn,zI:()=>pe,hu:()=>B,g5:()=>N,US:()=>J,tV:()=>K,h$:()=>be,$s:()=>Ir,r3:()=>Je,Sg:()=>ce,ne:()=>qr,p$:()=>O,vZ:()=>Cn,ZB:()=>V,gK:()=>Ze,pd:()=>Lr,m9:()=>ji,z$:()=>Ee,GJ:()=>er,jU:()=>X,ru:()=>de,xb:()=>tn,w1:()=>je,hl:()=>Nt,uI:()=>_e,UG:()=>he,Yr:()=>_t,b$:()=>fe,w9:()=>Wn,cI:()=>pn,UI:()=>Fn,xO:()=>bi,zd:()=>ai,DV:()=>en,ug:()=>Vt,dS:()=>Sn,Pz:()=>ut,Dv:()=>An,Wj:()=>yt,lb:()=>gt,eu:()=>oe});const B=function(G,H){if(!G)throw N(H)},N=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ue=function(G){const H=[];let Z=0;for(let De=0;De<G.length;De++){let le=G.charCodeAt(De);le<128?H[Z++]=le:le<2048?(H[Z++]=le>>6|192,H[Z++]=63&le|128):55296==(64512&le)&&De+1<G.length&&56320==(64512&G.charCodeAt(De+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++De)),H[Z++]=le>>18|240,H[Z++]=le>>12&63|128,H[Z++]=le>>6&63|128,H[Z++]=63&le|128):(H[Z++]=le>>12|224,H[Z++]=le>>6&63|128,H[Z++]=63&le|128)}return H},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let le=0;le<G.length;le+=3){const Be=G[le],Qe=le+1<G.length,vt=Qe?G[le+1]:0,Kt=le+2<G.length,Rn=Kt?G[le+2]:0;let z=(15&vt)<<2|Rn>>6,q=63&Rn;Kt||(q=64,Qe||(z=64)),De.push(Z[Be>>2],Z[(3&Be)<<4|vt>>4],Z[z],Z[q])}return De.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(ue(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let Z=0,De=0;for(;Z<G.length;){const le=G[Z++];if(le<128)H[De++]=String.fromCharCode(le);else if(le>191&&le<224){const Be=G[Z++];H[De++]=String.fromCharCode((31&le)<<6|63&Be)}else if(le>239&&le<365){const Kt=((7&le)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;H[De++]=String.fromCharCode(55296+(Kt>>10)),H[De++]=String.fromCharCode(56320+(1023&Kt))}else{const Be=G[Z++],Qe=G[Z++];H[De++]=String.fromCharCode((15&le)<<12|(63&Be)<<6|63&Qe)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const Z=H?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let le=0;le<G.length;){const Be=Z[G.charAt(le++)],vt=le<G.length?Z[G.charAt(le)]:0;++le;const Rn=le<G.length?Z[G.charAt(le)]:64;++le;const te=le<G.length?Z[G.charAt(le)]:64;if(++le,null==Be||null==vt||null==Rn||null==te)throw Error();De.push(Be<<2|vt>>4),64!==Rn&&(De.push(vt<<4&240|Rn>>2),64!==te&&De.push(Rn<<6&192|te))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},be=function(G){const H=ue(G);return J.encodeByteArray(H,!0)},Q=function(G){return be(G).replace(/\./g,"")},K=function(G){try{return J.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function O(G){return V(void 0,G)}function V(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const Z in H)!H.hasOwnProperty(Z)||!j(Z)||(G[Z]=V(G[Z],H[Z]));return G}function j(G){return"__proto__"!==G}class ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Z)=>{this.resolve=H,this.reject=Z})}wrapCallback(H){return(Z,De)=>{Z?this.reject(Z):this.resolve(De),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Z):H(Z,De))}}}function ce(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=H||"demo-project",le=G.iat||0,Be=G.sub||G.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:le,exp:le+3600,auth_time:le,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Qe)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function X(){return"object"==typeof self&&self.self===self}function de(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){const G=Ee();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function _t(){return!1}function Nt(){return"object"==typeof indexedDB}function oe(){return new Promise((G,H)=>{try{let Z=!0;const De="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(De);le.onsuccess=()=>{le.result.close(),Z||self.indexedDB.deleteDatabase(De),G(!0)},le.onupgradeneeded=()=>{Z=!1},le.onerror=()=>{var Be;H((null===(Be=le.error)||void 0===Be?void 0:Be.message)||"")}}catch(Z){H(Z)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(H,Z,De){super(Z),this.code=H,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(H,Z,De){this.service=H,this.serviceName=Z,this.errors=De}create(H,...Z){const De=Z[0]||{},le=`${this.service}/${H}`,Be=this.errors[H],Qe=Be?function(G,H){return G.replace(Wt,(Z,De)=>{const le=H[De];return null!=le?String(le):`<${De}?>`})}(Be,De):"Error";return new Oe(le,`${this.serviceName}: ${Qe} (${le}).`,De)}}const Wt=/\{\$([^}]+)}/g;function pn(G){return JSON.parse(G)}function ut(G){return JSON.stringify(G)}const nt=function(G){let H={},Z={},De={},le="";try{const Be=G.split(".");H=pn(K(Be[0])||""),Z=pn(K(Be[1])||""),le=Be[2],De=Z.d||{},delete Z.d}catch(Be){}return{header:H,claims:Z,data:De,signature:le}},Wn=function(G){const Z=nt(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},er=function(G){const H=nt(G).claims;return"object"==typeof H&&!0===H.admin};function Je(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function en(G,H){if(Object.prototype.hasOwnProperty.call(G,H))return G[H]}function tn(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Fn(G,H,Z){const De={};for(const le in G)Object.prototype.hasOwnProperty.call(G,le)&&(De[le]=H.call(Z,G[le],le,G));return De}function Cn(G,H){if(G===H)return!0;const Z=Object.keys(G),De=Object.keys(H);for(const le of Z){if(!De.includes(le))return!1;const Be=G[le],Qe=H[le];if(tr(Be)&&tr(Qe)){if(!Cn(Be,Qe))return!1}else if(Be!==Qe)return!1}for(const le of De)if(!Z.includes(le))return!1;return!0}function tr(G){return null!==G&&"object"==typeof G}function bi(G){const H=[];for(const[Z,De]of Object.entries(G))Array.isArray(De)?De.forEach(le=>{H.push(encodeURIComponent(Z)+"="+encodeURIComponent(le))}):H.push(encodeURIComponent(Z)+"="+encodeURIComponent(De));return H.length?"&"+H.join("&"):""}function ai(G){const H={};return G.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[le,Be]=De.split("=");H[decodeURIComponent(le)]=decodeURIComponent(Be)}}),H}function Lr(G){const H=G.indexOf("?");if(!H)return"";const Z=G.indexOf("#",H);return G.substring(H,Z>0?Z:void 0)}class mn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,Z){Z||(Z=0);const De=this.W_;if("string"==typeof H)for(let te=0;te<16;te++)De[te]=H.charCodeAt(Z)<<24|H.charCodeAt(Z+1)<<16|H.charCodeAt(Z+2)<<8|H.charCodeAt(Z+3),Z+=4;else for(let te=0;te<16;te++)De[te]=H[Z]<<24|H[Z+1]<<16|H[Z+2]<<8|H[Z+3],Z+=4;for(let te=16;te<80;te++){const z=De[te-3]^De[te-8]^De[te-14]^De[te-16];De[te]=4294967295&(z<<1|z>>>31)}let Rn,Mn,le=this.chain_[0],Be=this.chain_[1],Qe=this.chain_[2],vt=this.chain_[3],Kt=this.chain_[4];for(let te=0;te<80;te++){te<40?te<20?(Rn=vt^Be&(Qe^vt),Mn=1518500249):(Rn=Be^Qe^vt,Mn=1859775393):te<60?(Rn=Be&Qe|vt&(Be|Qe),Mn=2400959708):(Rn=Be^Qe^vt,Mn=3395469782);const z=(le<<5|le>>>27)+Rn+Kt+Mn+De[te]&4294967295;Kt=vt,vt=Qe,Qe=4294967295&(Be<<30|Be>>>2),Be=le,le=z}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+Be&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+vt&4294967295,this.chain_[4]=this.chain_[4]+Kt&4294967295}update(H,Z){if(null==H)return;void 0===Z&&(Z=H.length);const De=Z-this.blockSize;let le=0;const Be=this.buf_;let Qe=this.inbuf_;for(;le<Z;){if(0===Qe)for(;le<=De;)this.compress_(H,le),le+=this.blockSize;if("string"==typeof H){for(;le<Z;)if(Be[Qe]=H.charCodeAt(le),++Qe,++le,Qe===this.blockSize){this.compress_(Be),Qe=0;break}}else for(;le<Z;)if(Be[Qe]=H[le],++Qe,++le,Qe===this.blockSize){this.compress_(Be),Qe=0;break}}this.inbuf_=Qe,this.total_+=Z}digest(){const H=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&Z,Z/=256;this.compress_(this.buf_);let De=0;for(let le=0;le<5;le++)for(let Be=24;Be>=0;Be-=8)H[De]=this.chain_[le]>>Be&255,++De;return H}}function qr(G,H){const Z=new wr(G,H);return Z.subscribe.bind(Z)}class wr{constructor(H,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{H(this)}).catch(De=>{this.error(De)})}next(H){this.forEachObserver(Z=>{Z.next(H)})}error(H){this.forEachObserver(Z=>{Z.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Z,De){let le;if(void 0===H&&void 0===Z&&void 0===De)throw new Error("Missing Observer.");le=function(G,H){if("object"!=typeof G||null===G)return!1;for(const Z of["next","error","complete"])if(Z in G&&"function"==typeof G[Z])return!0;return!1}(H)?H:{next:H,error:Z,complete:De},void 0===le.next&&(le.next=Gn),void 0===le.error&&(le.error=Gn),void 0===le.complete&&(le.complete=Gn);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(Qe){}}),this.observers.push(le),Be}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,H)}sendOne(H,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Z(this.observers[H])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}const An=function(G,H,Z,De){let le;if(De<H?le="at least "+H:De>Z&&(le=0===Z?"none":"no more than "+Z),le)throw new Error(G+" failed: Was called with "+De+(1===De?" argument.":" arguments.")+" Expects "+le+".")};function Ze(G,H){return`${G} failed: ${H} argument `}function yt(G,H,Z,De){if((!De||Z)&&"function"!=typeof Z)throw new Error(Ze(G,H)+"must be a valid function.")}function gt(G,H,Z,De){if((!De||Z)&&("object"!=typeof Z||null===Z))throw new Error(Ze(G,H)+"must be a valid context object.")}const Sn=function(G){const H=[];let Z=0;for(let De=0;De<G.length;De++){let le=G.charCodeAt(De);if(le>=55296&&le<=56319){const Be=le-55296;De++,B(De<G.length,"Surrogate pair missing trail surrogate."),le=65536+(Be<<10)+(G.charCodeAt(De)-56320)}le<128?H[Z++]=le:le<2048?(H[Z++]=le>>6|192,H[Z++]=63&le|128):le<65536?(H[Z++]=le>>12|224,H[Z++]=le>>6&63|128,H[Z++]=63&le|128):(H[Z++]=le>>18|240,H[Z++]=le>>12&63|128,H[Z++]=le>>6&63|128,H[Z++]=63&le|128)}return H},Vt=function(G){let H=0;for(let Z=0;Z<G.length;Z++){const De=G.charCodeAt(Z);De<128?H++:De<2048?H+=2:De>=55296&&De<=56319?(H+=4,Z++):H+=3}return H};function Ir(G,H=1e3,Z=2){const De=H*Math.pow(Z,G),le=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+le)}function ji(G){return G&&G._delegate?G._delegate:G}},2329:(ze,Ae,P)=>{"use strict";P.d(Ae,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=P(5452);(0,d.registerVersion)("firebase","9.1.3","app")},7841:(ze,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>d.Z});var d=P(4486);d.Z.registerVersion("firebase","9.1.3","app-compat")},4828:(ze,Ae,P)=>{"use strict";P.r(Ae);var d=P(8239),B=P(4486),N=P(1243),ue=P(3854),be=(P(5452),P(5601),P(6034));function Q(){return window}function V(){return(V=(0,d.Z)(function*(te,z,q){var Re;const{BuildInfo:Fe}=Q();(0,N.ap)(z.sessionId,"AuthEvent did not contain a session ID");const lt=yield X(z.sessionId),wt={};return(0,N.aq)()?wt.ibi=Fe.packageName:(0,N.ar)()?wt.apn=Fe.packageName:(0,N.as)(te,"operation-not-supported-in-this-environment"),Fe.displayName&&(wt.appDisplayName=Fe.displayName),wt.sessionId=lt,(0,N.at)(te,q,z.type,void 0,null!==(Re=z.eventId)&&void 0!==Re?Re:void 0,wt)})).apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(te){const{BuildInfo:z}=Q(),q={};(0,N.aq)()?q.iosBundleId=z.packageName:(0,N.ar)()?q.androidPackageName=z.packageName:(0,N.as)(te,"operation-not-supported-in-this-environment"),yield(0,N.au)(te,q)})).apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(te,z,q){const{cordova:Re}=Q();let Fe=()=>{};try{yield new Promise((lt,wt)=>{let Ot=null;function gn(){var ft;lt();const En=null===(ft=Re.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof En&&En(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Zt(){Ot||(Ot=window.setTimeout(()=>{wt((0,N.av)(te,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===(null==document?void 0:document.visibilityState)&&Zt()}z.addPassiveListener(gn),document.addEventListener("resume",Zt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",Yt,!1),Fe=()=>{z.removePassiveListener(gn),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Yt,!1),Ot&&window.clearTimeout(Ot)}})}finally{Fe()}})).apply(this,arguments)}function X(te){return de.apply(this,arguments)}function de(){return(de=(0,d.Z)(function*(te){const z=fe(te),q=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(q)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fe(te){if((0,N.ap)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const z=new ArrayBuffer(te.length),q=new Uint8Array(z);for(let Re=0;Re<te.length;Re++)q[Re]=te.charCodeAt(Re);return q}class je extends N.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(z)),super.onEvent(z)}initialized(){var z=this;return(0,d.Z)(function*(){yield z.initPromise})()}}function we(te){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(te){const z=yield ve()._get(Ce(te));return z&&(yield ve()._remove(Ce(te))),z})).apply(this,arguments)}function pe(){const te=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Re=Math.floor(Math.random()*z.length);te.push(z.charAt(Re))}return te.join("")}function ve(){return(0,N.ax)(N.b)}function Ce(te){return(0,N.ay)("authEvent",te.config.apiKey,te.name)}function et(te){if(!(null==te?void 0:te.includes("?")))return{};const[z,...q]=te.split("?");return(0,ue.zd)(q.join("?"))}function nt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.av)("no-auth-event")}}function Je(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function tn(te=(0,ue.z$)()){return!("file:"!==Je()&&"ionic:"!==Je()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){try{const te=self.localStorage,z=N.aG();if(te)return te.setItem(z,"1"),te.removeItem(z),!function(te=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(te=(0,ue.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,ue.hl)()}catch(te){return Lr()&&(0,ue.hl)()}return!1}function Lr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function mn(){return("http:"===Je()||"https:"===Je()||(0,ue.ru)()||tn())&&!((0,ue.b$)()||(0,ue.UG)())&&ai()&&!Lr()}function qr(){return tn()&&"undefined"!=typeof document}function We(){return(We=(0,d.Z)(function*(){return!!qr()&&new Promise(te=>{const z=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),te(!0)})})})).apply(this,arguments)}const xt={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=N.aw,An="persistence";function Ye(te){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(te){yield te._initializationPromise;const z=Sn(),q=N.ay(An,te.config.apiKey,te.name);(null==z?void 0:z.sessionStorage)&&z.sessionStorage.setItem(q,te._getPersistence())})).apply(this,arguments)}function Sn(){return"undefined"!=typeof window?window:null}const Vt=N.aw;class ke{constructor(){this.browserResolver=N.ax(N.k),this.cordovaResolver=N.ax(class{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aA}_initialize(z){var q=this;return(0,d.Z)(function*(){const Re=z._key();let Fe=q.eventManagers.get(Re);return Fe||(Fe=new je(z),q.eventManagers.set(Re,Fe),q.attachCallbackListeners(z,Fe)),Fe})()}_openPopup(z){(0,N.as)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,q,Re,Fe){var lt=this;return(0,d.Z)(function*(){!function(te){var z,q,Re,Fe,lt,wt,Ot,gn,Zt,Yt;const ft=Q();(0,N.aw)("function"==typeof(null===(z=null==ft?void 0:ft.universalLinks)||void 0===z?void 0:z.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aw)(void 0!==(null===(q=null==ft?void 0:ft.BuildInfo)||void 0===q?void 0:q.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aw)("function"==typeof(null===(lt=null===(Fe=null===(Re=null==ft?void 0:ft.cordova)||void 0===Re?void 0:Re.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===lt?void 0:lt.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aw)("function"==typeof(null===(gn=null===(Ot=null===(wt=null==ft?void 0:ft.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===gn?void 0:gn.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aw)("function"==typeof(null===(Yt=null===(Zt=null==ft?void 0:ft.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Yt?void 0:Yt.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const wt=yield lt._initialize(z);yield wt.initialized(),wt.resetRedirect(),(0,N.aB)(),yield lt._originValidation(z);const Ot=function(te,z,q=null){return{type:z,eventId:q,urlResponse:null,sessionId:pe(),postBody:null,tenantId:te.tenantId,error:(0,N.av)(te,"no-auth-event")}}(z,Re,Fe);yield function(te,z){return ve()._set(Ce(te),z)}(z,Ot);const gn=yield function(te,z,q){return V.apply(this,arguments)}(z,Ot,q),Zt=yield function(te){const{cordova:z}=Q();return new Promise(q=>{z.plugins.browsertab.isAvailable(Re=>{let Fe=null;Re?z.plugins.browsertab.openUrl(te):Fe=z.InAppBrowser.open(te,(0,N.ao)()?"_blank":"_system","location=yes"),q(Fe)})})}(gn);return function(te,z,q){return _e.apply(this,arguments)}(z,wt,Zt)})()}_isIframeWebStorageSupported(z,q){throw new Error("Method not implemented.")}_originValidation(z){const q=z._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function(te){return ie.apply(this,arguments)}(z)),this.originValidationPromises[q]}attachCallbackListeners(z,q){const{universalLinks:Re,handleOpenURL:Fe,BuildInfo:lt}=Q(),wt=setTimeout((0,d.Z)(function*(){yield we(z),q.onEvent(nt())}),500),Ot=function(){var Yt=(0,d.Z)(function*(ft){clearTimeout(wt);const En=yield we(z);let Ks=null;En&&(null==ft?void 0:ft.url)&&(Ks=function(te,z){var q,Re;const Fe=function(te){const z=et(te),q=z.link?decodeURIComponent(z.link):void 0,Re=et(q).link,Fe=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return et(Fe).link||Fe||Re||q||te}(z);if(Fe.includes("/__/auth/callback")){const lt=et(Fe),wt=lt.firebaseError?function(te){try{return JSON.parse(te)}catch(z){return null}}(decodeURIComponent(lt.firebaseError)):null,Ot=null===(Re=null===(q=null==wt?void 0:wt.code)||void 0===q?void 0:q.split("auth/"))||void 0===Re?void 0:Re[1],gn=Ot?(0,N.av)(Ot):null;return gn?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:gn,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Fe,postBody:null}}return null}(En,ft.url)),q.onEvent(Ks||nt())});return function(En){return Yt.apply(this,arguments)}}();void 0!==Re&&"function"==typeof Re.subscribe&&Re.subscribe(null,Ot);const gn=Fe,Zt=`${lt.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var Yt=(0,d.Z)(function*(ft){if(ft.toLowerCase().startsWith(Zt)&&Ot({url:ft}),"function"==typeof gn)try{gn(ft)}catch(En){console.error(En)}});return function(ft){return Yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aA}_initialize(z){var q=this;return(0,d.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,q,Re,Fe){var lt=this;return(0,d.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(z,q,Re,Fe)})()}_openRedirect(z,q,Re,Fe){var lt=this;return(0,d.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(z,q,Re,Fe)})()}_isIframeWebStorageSupported(z,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,q)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return qr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,d.Z)(function*(){if(z.underlyingResolver)return;const q=yield function(){return We.apply(this,arguments)}();z.underlyingResolver=q?z.cordovaResolver:z.browserResolver})()}}function $e(te){return te.unwrap()}function li(te){return jt(te)}function jt(te){const{_tokenResponse:z}=te instanceof ue.ZR?te.customData:te;if(!z)return null;if(!(te instanceof ue.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return N.P.credentialFromResult(te);const q=z.providerId;if(!q||q===N.o.PASSWORD)return null;let Re;switch(q){case N.o.GOOGLE:Re=N.N;break;case N.o.FACEBOOK:Re=N.M;break;case N.o.GITHUB:Re=N.Q;break;case N.o.TWITTER:Re=N.V;break;default:const{oauthIdToken:Fe,oauthAccessToken:lt,oauthTokenSecret:wt,pendingToken:Ot,nonce:gn}=z;return lt||wt||Fe||Ot?Ot?q.startsWith("saml.")?N.aJ._create(q,Ot):N.I._fromParams({providerId:q,signInMethod:q,pendingToken:Ot,idToken:Fe,accessToken:lt}):new N.T(q).credential({idToken:Fe,accessToken:lt,rawNonce:gn}):null}return te instanceof ue.ZR?Re.credentialFromError(te):Re.credentialFromResult(te)}function Ht(te,z){return z.catch(q=>{throw q instanceof ue.ZR&&function(te,z){var q;const Re=null===(q=z.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===z.code)z.resolver=new H(te,N.am(te,z));else if(Re){const Fe=jt(z),lt=z;Fe&&(lt.credential=Fe,lt.tenantId=Re.tenantId||void 0,lt.email=Re.email||void 0,lt.phoneNumber=Re.phoneNumber||void 0)}}(te,q),q}).then(q=>{const Fe=q.user;return{operationType:q.operationType,credential:li(q),additionalUserInfo:N.ak(q),user:Z.getOrCreate(Fe)}})}function ji(te,z){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(te,z){const q=yield z;return{verificationId:q.verificationId,confirm:Re=>Ht(te,q.confirm(Re))}})).apply(this,arguments)}class H{constructor(z,q){this.resolver=q,this.auth=z.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Ht($e(this.auth),this.resolver.resolveSignIn(z))}}class Z{constructor(z){this._delegate=z,this.multiFactor=N.an(z)}static getOrCreate(z){return Z.USER_MAP.has(z)||Z.USER_MAP.set(z,new Z(z)),Z.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var q=this;return(0,d.Z)(function*(){return Ht(q.auth,N.Y(q._delegate,z))})()}linkWithPhoneNumber(z,q){var Re=this;return(0,d.Z)(function*(){return ji(Re.auth,N.l(Re._delegate,z,q))})()}linkWithPopup(z){var q=this;return(0,d.Z)(function*(){return Ht(q.auth,N.d(q._delegate,z,ke))})()}linkWithRedirect(z){var q=this;return(0,d.Z)(function*(){return yield Ye(N.aC(q.auth)),N.g(q._delegate,z,ke)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var q=this;return(0,d.Z)(function*(){return Ht(q.auth,N.Z(q._delegate,z))})()}reauthenticateWithPhoneNumber(z,q){return ji(this.auth,N.r(this._delegate,z,q))}reauthenticateWithPopup(z){return Ht(this.auth,N.e(this._delegate,z,ke))}reauthenticateWithRedirect(z){var q=this;return(0,d.Z)(function*(){return yield Ye(N.aC(q.auth)),N.h(q._delegate,z,ke)})()}sendEmailVerification(z){return N.aa(this._delegate,z)}unlink(z){var q=this;return(0,d.Z)(function*(){return yield N.aj(q._delegate,z),q})()}updateEmail(z){return N.af(this._delegate,z)}updatePassword(z){return N.ag(this._delegate,z)}updatePhoneNumber(z){return N.u(this._delegate,z)}updateProfile(z){return N.ae(this._delegate,z)}verifyBeforeUpdateEmail(z,q){return N.ab(this._delegate,z,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Z.USER_MAP=new WeakMap;const De=N.aw;let le=(()=>{class te{constructor(q,Re){if(this.app=q,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=q.options;De(Fe,"invalid-api-key",{appName:q.name});let lt=[N.K];if("undefined"!=typeof window){lt=function(te,z){const q=Sn();if(!(null==q?void 0:q.sessionStorage))return[];const Re=N.ay(An,te,z);switch(q.sessionStorage.getItem(Re)){case xt.NONE:return[N.K];case xt.LOCAL:return[N.i,N.a];case xt.SESSION:return[N.a];default:return[]}}(Fe,q.name);for(const Ot of[N.i,N.b,N.a])lt.includes(Ot)||lt.push(Ot)}De(Fe,"invalid-api-key",{appName:q.name});const wt="undefined"!=typeof window?ke:void 0;this._delegate=Re.initialize({options:{persistence:lt,popupRedirectResolver:wt}}),this._delegate._updateErrorMap(N.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Re){N.E(this._delegate,q,Re)}applyActionCode(q){return N.a1(this._delegate,q)}checkActionCode(q){return N.a2(this._delegate,q)}confirmPasswordReset(q,Re){return N.a0(this._delegate,q,Re)}createUserWithEmailAndPassword(q,Re){var Fe=this;return(0,d.Z)(function*(){return Ht(Fe._delegate,N.a4(Fe._delegate,q,Re))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return N.a9(this._delegate,q)}isSignInWithEmailLink(q){return N.a7(this._delegate,q)}getRedirectResult(){var q=this;return(0,d.Z)(function*(){De(mn(),q._delegate,"operation-not-supported-in-this-environment");const Re=yield N.j(q._delegate,ke);return Re?Ht(q._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function(te,z){(0,N.aC)(te)._logFramework(z)}(this._delegate,q)}onAuthStateChanged(q,Re,Fe){const{next:lt,error:wt,complete:Ot}=Be(q,Re,Fe);return this._delegate.onAuthStateChanged(lt,wt,Ot)}onIdTokenChanged(q,Re,Fe){const{next:lt,error:wt,complete:Ot}=Be(q,Re,Fe);return this._delegate.onIdTokenChanged(lt,wt,Ot)}sendSignInLinkToEmail(q,Re){return N.a6(this._delegate,q,Re)}sendPasswordResetEmail(q,Re){return N.$(this._delegate,q,Re||void 0)}setPersistence(q){var Re=this;return(0,d.Z)(function*(){let Fe;switch(function(te,z){Gn(Object.values(xt).includes(z),te,"invalid-persistence-type"),(0,ue.b$)()?Gn(z!==xt.SESSION,te,"unsupported-persistence-type"):(0,ue.UG)()?Gn(z===xt.NONE,te,"unsupported-persistence-type"):Lr()?Gn(z===xt.NONE||z===xt.LOCAL&&(0,ue.hl)(),te,"unsupported-persistence-type"):Gn(z===xt.NONE||ai(),te,"unsupported-persistence-type")}(Re._delegate,q),q){case xt.SESSION:Fe=N.a;break;case xt.LOCAL:Fe=(yield N.ax(N.i)._isAvailable())?N.i:N.b;break;case xt.NONE:Fe=N.K;break;default:return N.as("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Ht(this._delegate,N.W(this._delegate))}signInWithCredential(q){return Ht(this._delegate,N.X(this._delegate,q))}signInWithCustomToken(q){return Ht(this._delegate,N._(this._delegate,q))}signInWithEmailAndPassword(q,Re){return Ht(this._delegate,N.a5(this._delegate,q,Re))}signInWithEmailLink(q,Re){return Ht(this._delegate,N.a8(this._delegate,q,Re))}signInWithPhoneNumber(q,Re){return ji(this._delegate,N.s(this._delegate,q,Re))}signInWithPopup(q){var Re=this;return(0,d.Z)(function*(){return De(mn(),Re._delegate,"operation-not-supported-in-this-environment"),Ht(Re._delegate,N.c(Re._delegate,q,ke))})()}signInWithRedirect(q){var Re=this;return(0,d.Z)(function*(){return De(mn(),Re._delegate,"operation-not-supported-in-this-environment"),yield Ye(Re._delegate),N.f(Re._delegate,q,ke)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return N.a3(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=xt,te})();function Be(te,z,q){let Re=te;"function"!=typeof te&&({next:Re,error:z,complete:q}=te);const Fe=Re;return{next:wt=>Fe(wt&&Z.getOrCreate(wt)),error:z,complete:q}}class Qe{constructor(){this.providerId="phone",this._delegate=new N.P($e(B.Z.auth()))}static credential(z,q){return N.P.credential(z,q)}verifyPhoneNumber(z,q){return this._delegate.verifyPhoneNumber(z,q)}unwrap(){return this._delegate}}Qe.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Qe.PROVIDER_ID=N.P.PROVIDER_ID;const vt=N.aw;var te;(te=B.Z).INTERNAL.registerComponent(new be.wA("auth-compat",z=>{const q=z.getProvider("app-compat").getImmediate(),Re=z.getProvider("auth");return new le(q,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.L,FacebookAuthProvider:N.M,GithubAuthProvider:N.Q,GoogleAuthProvider:N.N,OAuthProvider:N.T,PhoneAuthProvider:Qe,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:class{constructor(z,q,Re=B.Z.app()){var Fe;vt(null===(Fe=Re.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new N.R(z,q,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:N.V,Auth:le,AuthCredential:N.G,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.1.6")},6676:function(ze,Ae){!function(P){"use strict";function d(he){return Array.prototype.slice.call(he)}function B(he){return new Promise(function(X,de){he.onsuccess=function(){X(he.result)},he.onerror=function(){de(he.error)}})}function N(he,X,de){var fe,Se=new Promise(function(je,tt){B(fe=he[X].apply(he,de)).then(je,tt)});return Se.request=fe,Se}function ue(he,X,de){var fe=N(he,X,de);return fe.then(function(Se){if(Se)return new O(Se,fe.request)})}function se(he,X,de){de.forEach(function(fe){Object.defineProperty(he.prototype,fe,{get:function(){return this[X][fe]},set:function(Se){this[X][fe]=Se}})})}function J(he,X,de,fe){fe.forEach(function(Se){Se in de.prototype&&(he.prototype[Se]=function(){return N(this[X],Se,arguments)})})}function be(he,X,de,fe){fe.forEach(function(Se){Se in de.prototype&&(he.prototype[Se]=function(){return this[X][Se].apply(this[X],arguments)})})}function Q(he,X,de,fe){fe.forEach(function(Se){Se in de.prototype&&(he.prototype[Se]=function(){return ue(this[X],Se,arguments)})})}function K(he){this._index=he}function O(he,X){this._cursor=he,this._request=X}function V(he){this._store=he}function j(he){this._tx=he,this.complete=new Promise(function(X,de){he.oncomplete=function(){X()},he.onerror=function(){de(he.error)},he.onabort=function(){de(he.error)}})}function ie(he,X,de){this._db=he,this.oldVersion=X,this.transaction=new j(de)}function ce(he){this._db=he}se(K,"_index",["name","keyPath","multiEntry","unique"]),J(K,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Q(K,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(O,"_cursor",["direction","key","primaryKey","value"]),J(O,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(O.prototype[he]=function(){var X=this,de=arguments;return Promise.resolve().then(function(){return X._cursor[he].apply(X._cursor,de),B(X._request).then(function(fe){if(fe)return new O(fe,X._request)})})})}),V.prototype.createIndex=function(){return new K(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new K(this._store.index.apply(this._store,arguments))},se(V,"_store",["name","keyPath","indexNames","autoIncrement"]),J(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Q(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),be(V,"_store",IDBObjectStore,["deleteIndex"]),j.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},se(j,"_tx",["objectStoreNames","mode"]),be(j,"_tx",IDBTransaction,["abort"]),ie.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},se(ie,"_db",["name","version","objectStoreNames"]),be(ie,"_db",IDBDatabase,["deleteObjectStore","close"]),ce.prototype.transaction=function(){return new j(this._db.transaction.apply(this._db,arguments))},se(ce,"_db",["name","version","objectStoreNames"]),be(ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[V,K].forEach(function(X){he in X.prototype&&(X.prototype[he.replace("open","iterate")]=function(){var de=d(arguments),fe=de[de.length-1],Se=this._store||this._index,je=Se[he].apply(Se,de.slice(0,-1));je.onsuccess=function(){fe(je.result)}})})}),[K,V].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(X,de){var fe=this,Se=[];return new Promise(function(je){fe.iterateCursor(X,function(tt){tt?(Se.push(tt.value),void 0===de||Se.length!=de?tt.continue():je(Se)):je(Se)})})})}),P.openDb=function(he,X,de){var fe=N(indexedDB,"open",[he,X]),Se=fe.request;return Se&&(Se.onupgradeneeded=function(je){de&&de(new ie(Se.result,je.oldVersion,Se.transaction))}),fe.then(function(je){return new ce(je)})},P.deleteDb=function(he){return N(indexedDB,"deleteDatabase",[he])},Object.defineProperty(P,"__esModule",{value:!0})}(Ae)},7574:(ze,Ae,P)=>{"use strict";P.d(Ae,{y:()=>V});var d=P(7393),N=P(9181),ue=P(6490),J=P(6554),be=P(4487);var O=P(2494);let V=(()=>{class ie{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const _e=new ie;return _e.source=this,_e.operator=Ee,_e}subscribe(Ee,_e,he){const{operator:X}=this,de=function(ie,ce,Ee){if(ie){if(ie instanceof d.L)return ie;if(ie[N.b])return ie[N.b]()}return ie||ce||Ee?new d.L(ie,ce,Ee):new d.L(ue.c)}(Ee,_e,he);if(de.add(X?X.call(de,this.source):this.source||O.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),O.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(_e){O.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=_e),function(ie){for(;ie;){const{closed:ce,destination:Ee,isStopped:_e}=ie;if(ce||_e)return!1;ie=Ee&&Ee instanceof d.L?Ee:null}return!0}(Ee)?Ee.error(_e):console.warn(_e)}}forEach(Ee,_e){return new(_e=j(_e))((he,X)=>{let de;de=this.subscribe(fe=>{try{Ee(fe)}catch(Se){X(Se),de&&de.unsubscribe()}},X,he)})}_subscribe(Ee){const{source:_e}=this;return _e&&_e.subscribe(Ee)}[J.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(ie){return 0===ie.length?be.y:1===ie.length?ie[0]:function(Ee){return ie.reduce((_e,he)=>he(_e),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=j(Ee))((_e,he)=>{let X;this.subscribe(de=>X=de,de=>he(de),()=>_e(X))})}}return ie.create=ce=>new ie(ce),ie})();function j(ie){if(ie||(ie=O.v.Promise||Promise),!ie)throw new Error("no Promise impl found");return ie}},6490:(ze,Ae,P)=>{"use strict";P.d(Ae,{c:()=>N});var d=P(2494),B=P(4449);const N={closed:!0,next(ue){},error(ue){if(d.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,B.z)(ue)},complete(){}}},9765:(ze,Ae,P)=>{"use strict";P.d(Ae,{Yc:()=>be,xQ:()=>Q});var d=P(7574),B=P(7393),N=P(5319),ue=P(7971),se=P(8858),J=P(9181);class be extends B.L{constructor(V){super(V),this.destination=V}}let Q=(()=>{class O extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new be(this)}lift(j){const ie=new K(this,this);return ie.operator=j,ie}next(j){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:ie}=this,ce=ie.length,Ee=ie.slice();for(let _e=0;_e<ce;_e++)Ee[_e].next(j)}}error(j){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:ie}=this,ce=ie.length,Ee=ie.slice();for(let _e=0;_e<ce;_e++)Ee[_e].error(j);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:j}=this,ie=j.length,ce=j.slice();for(let Ee=0;Ee<ie;Ee++)ce[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new ue.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new ue.N;return this.hasError?(j.error(this.thrownError),N.w.EMPTY):this.isStopped?(j.complete(),N.w.EMPTY):(this.observers.push(j),new se.W(this,j))}asObservable(){const j=new d.y;return j.source=this,j}}return O.create=(V,j)=>new K(V,j),O})();class K extends Q{constructor(V,j){super(),this.destination=V,this.source=j}next(V){const{destination:j}=this;j&&j.next&&j.next(V)}error(V){const{destination:j}=this;j&&j.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:j}=this;return j?this.source.subscribe(V):N.w.EMPTY}}},8858:(ze,Ae,P)=>{"use strict";P.d(Ae,{W:()=>B});var d=P(5319);class B extends d.w{constructor(ue,se){super(),this.subject=ue,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,se=ue.observers;if(this.subject=null,!se||0===se.length||ue.isStopped||ue.closed)return;const J=se.indexOf(this.subscriber);-1!==J&&se.splice(J,1)}}},7393:(ze,Ae,P)=>{"use strict";P.d(Ae,{L:()=>be});var d=P(9105),B=P(6490),N=P(5319),ue=P(9181),se=P(2494),J=P(4449);class be extends N.w{constructor(O,V,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!O){this.destination=B.c;break}if("object"==typeof O){O instanceof be?(this.syncErrorThrowable=O.syncErrorThrowable,this.destination=O,O.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,O));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,O,V,j)}}[ue.b](){return this}static create(O,V,j){const ie=new be(O,V,j);return ie.syncErrorThrowable=!1,ie}next(O){this.isStopped||this._next(O)}error(O){this.isStopped||(this.isStopped=!0,this._error(O))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(O){this.destination.next(O)}_error(O){this.destination.error(O),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:O}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this}}class Q extends be{constructor(O,V,j,ie){super(),this._parentSubscriber=O;let ce,Ee=this;(0,d.m)(V)?ce=V:V&&(ce=V.next,j=V.error,ie=V.complete,V!==B.c&&(Ee=Object.create(V),(0,d.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=ce,this._error=j,this._complete=ie}next(O){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;se.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}}error(O){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:j}=se.v;if(this._error)j&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(V.syncErrorThrowable)j?(V.syncErrorValue=O,V.syncErrorThrown=!0):(0,J.z)(O),this.unsubscribe();else{if(this.unsubscribe(),j)throw O;(0,J.z)(O)}}}complete(){if(!this.isStopped){const{_parentSubscriber:O}=this;if(this._complete){const V=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(O,V){try{O.call(this._context,V)}catch(j){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw j;(0,J.z)(j)}}__tryOrSetError(O,V,j){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,j)}catch(ie){return se.v.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=ie,O.syncErrorThrown=!0,!0):((0,J.z)(ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:O}=this;this._context=null,this._parentSubscriber=null,O.unsubscribe()}}},5319:(ze,Ae,P)=>{"use strict";P.d(Ae,{w:()=>J});var d=P(9796),B=P(1555),N=P(9105);const se=(()=>{function Q(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((O,V)=>`${V+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return Q.prototype=Object.create(Error.prototype),Q})();class J{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:O,_ctorUnsubscribe:V,_unsubscribe:j,_subscriptions:ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof J)O.remove(this);else if(null!==O)for(let ce=0;ce<O.length;++ce)O[ce].remove(this);if((0,N.m)(j)){V&&(this._unsubscribe=void 0);try{j.call(this)}catch(ce){K=ce instanceof se?be(ce.errors):[ce]}}if((0,d.k)(ie)){let ce=-1,Ee=ie.length;for(;++ce<Ee;){const _e=ie[ce];if((0,B.K)(_e))try{_e.unsubscribe()}catch(he){K=K||[],he instanceof se?K=K.concat(be(he.errors)):K.push(he)}}}if(K)throw new se(K)}add(K){let O=K;if(!K)return J.EMPTY;switch(typeof K){case"function":O=new J(K);case"object":if(O===this||O.closed||"function"!=typeof O.unsubscribe)return O;if(this.closed)return O.unsubscribe(),O;if(!(O instanceof J)){const ie=O;O=new J,O._subscriptions=[ie]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:V}=O;if(null===V)O._parentOrParents=this;else if(V instanceof J){if(V===this)return O;O._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return O;V.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[O]:j.push(O),O}remove(K){const O=this._subscriptions;if(O){const V=O.indexOf(K);-1!==V&&O.splice(V,1)}}}var Q;function be(Q){return Q.reduce((K,O)=>K.concat(O instanceof se?O.errors:O),[])}J.EMPTY=((Q=new J).closed=!0,Q)},2494:(ze,Ae,P)=>{"use strict";P.d(Ae,{v:()=>B});let d=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(N){if(N){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=N},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(ze,Ae,P)=>{"use strict";P.d(Ae,{IY:()=>ue,Ds:()=>J,ft:()=>Q});var d=P(7393),B=P(7574),N=P(7444);class ue extends d.L{constructor(O){super(),this.parent=O}_next(O){this.parent.notifyNext(O)}_error(O){this.parent.notifyError(O),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends d.L{notifyNext(O){this.destination.next(O)}notifyError(O){this.destination.error(O)}notifyComplete(){this.destination.complete()}}function Q(K,O){if(O.closed)return;if(K instanceof B.y)return K.subscribe(O);let V;try{V=(0,N.s)(K)(O)}catch(j){O.error(j)}return V}},2441:(ze,Ae,P)=>{"use strict";P.d(Ae,{c:()=>se,N:()=>J});var d=P(9765),B=P(7574),N=P(5319),ue=P(1307);class se extends B.y{constructor(V,j){super(),this.source=V,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new N.w,V.add(this.source.subscribe(new be(this.getSubject(),this))),V.closed&&(this._connection=null,V=N.w.EMPTY)),V}refCount(){return(0,ue.x)()(this)}}const J=(()=>{const O=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class be extends d.Yc{constructor(V,j){super(V),this.connectable=j}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const j=V._connection;V._refCount=0,V._subject=null,V._connection=null,j&&j.unsubscribe()}}}},9193:(ze,Ae,P)=>{"use strict";P.d(Ae,{E:()=>B,c:()=>N});var d=P(7574);const B=new d.y(se=>se.complete());function N(se){return se?function(se){return new d.y(J=>se.schedule(()=>J.complete()))}(se):B}},4402:(ze,Ae,P)=>{"use strict";P.d(Ae,{D:()=>Ee});var d=P(7574),B=P(7444),N=P(5319),ue=P(6554),be=P(4087),Q=P(377),V=P(4072),j=P(9489);function Ee(_e,he){return he?function(_e,he){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[ue.L]}(_e))return function(_e,he){return new d.y(X=>{const de=new N.w;return de.add(he.schedule(()=>{const fe=_e[ue.L]();de.add(fe.subscribe({next(Se){de.add(he.schedule(()=>X.next(Se)))},error(Se){de.add(he.schedule(()=>X.error(Se)))},complete(){de.add(he.schedule(()=>X.complete()))}}))})),de})}(_e,he);if((0,V.t)(_e))return function(_e,he){return new d.y(X=>{const de=new N.w;return de.add(he.schedule(()=>_e.then(fe=>{de.add(he.schedule(()=>{X.next(fe),de.add(he.schedule(()=>X.complete()))}))},fe=>{de.add(he.schedule(()=>X.error(fe)))}))),de})}(_e,he);if((0,j.z)(_e))return(0,be.r)(_e,he);if(function(_e){return _e&&"function"==typeof _e[Q.hZ]}(_e)||"string"==typeof _e)return function(_e,he){if(!_e)throw new Error("Iterable cannot be null");return new d.y(X=>{const de=new N.w;let fe;return de.add(()=>{fe&&"function"==typeof fe.return&&fe.return()}),de.add(he.schedule(()=>{fe=_e[Q.hZ](),de.add(he.schedule(function(){if(X.closed)return;let Se,je;try{const tt=fe.next();Se=tt.value,je=tt.done}catch(tt){return void X.error(tt)}je?X.complete():(X.next(Se),this.schedule())}))})),de})}(_e,he)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,he):_e instanceof d.y?_e:new d.y((0,B.s)(_e))}},6693:(ze,Ae,P)=>{"use strict";P.d(Ae,{n:()=>ue});var d=P(7574),B=P(5015),N=P(4087);function ue(se,J){return J?(0,N.r)(se,J):new d.y((0,B.V)(se))}},6682:(ze,Ae,P)=>{"use strict";P.d(Ae,{T:()=>se});var d=P(7574),B=P(4869),N=P(3282),ue=P(6693);function se(...J){let be=Number.POSITIVE_INFINITY,Q=null,K=J[J.length-1];return(0,B.K)(K)?(Q=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(be=J.pop())):"number"==typeof K&&(be=J.pop()),null===Q&&1===J.length&&J[0]instanceof d.y?J[0]:(0,N.J)(be)((0,ue.n)(J,Q))}},5917:(ze,Ae,P)=>{"use strict";P.d(Ae,{of:()=>ue});var d=P(4869),B=P(6693),N=P(4087);function ue(...se){let J=se[se.length-1];return(0,d.K)(J)?(se.pop(),(0,N.r)(se,J)):(0,B.n)(se)}},8002:(ze,Ae,P)=>{"use strict";P.d(Ae,{U:()=>B});var d=P(7393);function B(se,J){return function(Q){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new N(se,J))}}class N{constructor(J,be){this.project=J,this.thisArg=be}call(J,be){return be.subscribe(new ue(J,this.project,this.thisArg))}}class ue extends d.L{constructor(J,be,Q){super(J),this.project=be,this.count=0,this.thisArg=Q||this}_next(J){let be;try{be=this.project.call(this.thisArg,J,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(be)}}},3282:(ze,Ae,P)=>{"use strict";P.d(Ae,{J:()=>N});var d=P(9773),B=P(4487);function N(ue=Number.POSITIVE_INFINITY){return(0,d.zg)(B.y,ue)}},9773:(ze,Ae,P)=>{"use strict";P.d(Ae,{zg:()=>ue});var d=P(8002),B=P(4402),N=P(5345);function ue(Q,K,O=Number.POSITIVE_INFINITY){return"function"==typeof K?V=>V.pipe(ue((j,ie)=>(0,B.D)(Q(j,ie)).pipe((0,d.U)((ce,Ee)=>K(j,ce,ie,Ee))),O)):("number"==typeof K&&(O=K),V=>V.lift(new se(Q,O)))}class se{constructor(K,O=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=O}call(K,O){return O.subscribe(new J(K,this.project,this.concurrent))}}class J extends N.Ds{constructor(K,O,V=Number.POSITIVE_INFINITY){super(K),this.project=O,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let O;const V=this.index++;try{O=this.project(K,V)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(O)}_innerSub(K){const O=new N.IY(this),V=this.destination;V.add(O);const j=(0,N.ft)(K,O);j!==O&&V.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ze,Ae,P)=>{"use strict";P.d(Ae,{ht:()=>V,QV:()=>K});var d=P(7393),B=P(9193),N=P(5917),ue=P(7574);class Q{constructor(ce,Ee,_e){this.kind=ce,this.value=Ee,this.error=_e,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,Ee,_e){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return Ee&&Ee(this.error);case"C":return _e&&_e()}}accept(ce,Ee,_e){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,Ee,_e)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return ie=this.error,new ue.y(Ee=>Ee.error(ie));case"C":return(0,B.c)()}var ie;throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new Q("N",ce):Q.undefinedValueNotification}static createError(ce){return new Q("E",void 0,ce)}static createComplete(){return Q.completeNotification}}function K(ie,ce=0){return function(_e){return _e.lift(new O(ie,ce))}}Q.completeNotification=new Q("C"),Q.undefinedValueNotification=new Q("N",void 0);class O{constructor(ce,Ee=0){this.scheduler=ce,this.delay=Ee}call(ce,Ee){return Ee.subscribe(new V(ce,this.scheduler,this.delay))}}class V extends d.L{constructor(ce,Ee,_e=0){super(ce),this.scheduler=Ee,this.delay=_e}static dispatch(ce){const{notification:Ee,destination:_e}=ce;Ee.observe(_e),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new j(ce,this.destination)))}_next(ce){this.scheduleMessage(Q.createNext(ce))}_error(ce){this.scheduleMessage(Q.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()}}class j{constructor(ce,Ee){this.notification=ce,this.destination=Ee}}},1307:(ze,Ae,P)=>{"use strict";P.d(Ae,{x:()=>B});var d=P(7393);function B(){return function(J){return J.lift(new N(J))}}class N{constructor(J){this.connectable=J}call(J,be){const{connectable:Q}=this;Q._refCount++;const K=new ue(J,Q),O=be.subscribe(K);return K.closed||(K.connection=Q.connect()),O}}class ue extends d.L{constructor(J,be){super(J),this.connectable=be}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const be=J._refCount;if(be<=0)return void(this.connection=null);if(J._refCount=be-1,be>1)return void(this.connection=null);const{connection:Q}=this,K=J._connection;this.connection=null,K&&(!Q||K===Q)&&K.unsubscribe()}}},8819:(ze,Ae,P)=>{"use strict";P.d(Ae,{B:()=>be});var d=P(2441);var ue=P(1307),se=P(9765);function J(){return new se.xQ}function be(){return Q=>(0,ue.x)()(function(Q,K){return function(V){let j;j="function"==typeof Q?Q:function(){return Q};const ie=Object.create(V,d.N);return ie.source=V,ie.subjectFactory=j,ie}}(J)(Q))}},3101:(ze,Ae,P)=>{"use strict";P.d(Ae,{R:()=>he});var d=P(7574);let B=1;const N=Promise.resolve(),ue={};function se(de){return de in ue&&(delete ue[de],!0)}const J={setImmediate(de){const fe=B++;return ue[fe]=!0,N.then(()=>se(fe)&&de()),fe},clearImmediate(de){se(de)}};var Q=P(6465),O=P(6102);const ie=new class extends O.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let je,tt=-1,_t=Se.length;fe=fe||Se.shift();do{if(je=fe.execute(fe.state,fe.delay))break}while(++tt<_t&&(fe=Se.shift()));if(this.active=!1,je){for(;++tt<_t&&(fe=Se.shift());)fe.unsubscribe();throw je}}}(class extends Q.o{constructor(fe,Se){super(fe,Se),this.scheduler=fe,this.work=Se}requestAsyncId(fe,Se,je=0){return null!==je&&je>0?super.requestAsyncId(fe,Se,je):(fe.actions.push(this),fe.scheduled||(fe.scheduled=J.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,Se,je=0){if(null!==je&&je>0||null===je&&this.delay>0)return super.recycleAsyncId(fe,Se,je);0===fe.actions.length&&(J.clearImmediate(Se),fe.scheduled=void 0)}});var ce=P(9796);class _e extends d.y{constructor(fe,Se=0,je=ie){var de;super(),this.source=fe,this.delayTime=Se,this.scheduler=je,(!(!(0,ce.k)(de=Se)&&de-parseFloat(de)+1>=0)||Se<0)&&(this.delayTime=0),(!je||"function"!=typeof je.schedule)&&(this.scheduler=ie)}static create(fe,Se=0,je=ie){return new _e(fe,Se,je)}static dispatch(fe){const{source:Se,subscriber:je}=fe;return this.add(Se.subscribe(je))}_subscribe(fe){return this.scheduler.schedule(_e.dispatch,this.delayTime,{source:this.source,subscriber:fe})}}function he(de,fe=0){return function(je){return je.lift(new X(de,fe))}}class X{constructor(fe,Se){this.scheduler=fe,this.delay=Se}call(fe,Se){return new _e(Se,this.delay,this.scheduler).subscribe(fe)}}},3342:(ze,Ae,P)=>{"use strict";P.d(Ae,{b:()=>ue});var d=P(7393);function B(){}var N=P(9105);function ue(be,Q,K){return function(V){return V.lift(new se(be,Q,K))}}class se{constructor(Q,K,O){this.nextOrObserver=Q,this.error=K,this.complete=O}call(Q,K){return K.subscribe(new J(Q,this.nextOrObserver,this.error,this.complete))}}class J extends d.L{constructor(Q,K,O,V){super(Q),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=O||B,this._tapComplete=V||B,(0,N.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||B,this._tapError=K.error||B,this._tapComplete=K.complete||B)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(K){return void this.destination.error(K)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(K){return void this.destination.error(K)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},4087:(ze,Ae,P)=>{"use strict";P.d(Ae,{r:()=>N});var d=P(7574),B=P(5319);function N(ue,se){return new d.y(J=>{const be=new B.w;let Q=0;return be.add(se.schedule(function(){Q!==ue.length?(J.next(ue[Q++]),J.closed||be.add(this.schedule())):J.complete()})),be})}},6465:(ze,Ae,P)=>{"use strict";P.d(Ae,{o:()=>N});var d=P(5319);class B extends d.w{constructor(se,J){super()}schedule(se,J=0){return this}}class N extends B{constructor(se,J){super(se,J),this.scheduler=se,this.work=J,this.pending=!1}schedule(se,J=0){if(this.closed)return this;this.state=se;const be=this.id,Q=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Q,be,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(Q,this.id,J),this}requestAsyncId(se,J,be=0){return setInterval(se.flush.bind(se,this),be)}recycleAsyncId(se,J,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return J;clearInterval(J)}execute(se,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(se,J);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,J){let Q,be=!1;try{this.work(se)}catch(K){be=!0,Q=!!K&&K||new Error(K)}if(be)return this.unsubscribe(),Q}_unsubscribe(){const se=this.id,J=this.scheduler,be=J.actions,Q=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&be.splice(Q,1),null!=se&&(this.id=this.recycleAsyncId(J,se,null)),this.delay=null}}},6102:(ze,Ae,P)=>{"use strict";P.d(Ae,{v:()=>B});let d=(()=>{class N{constructor(se,J=N.now){this.SchedulerAction=se,this.now=J}schedule(se,J=0,be){return new this.SchedulerAction(this,se).schedule(be,J)}}return N.now=()=>Date.now(),N})();class B extends d{constructor(ue,se=d.now){super(ue,()=>B.delegate&&B.delegate!==this?B.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,se=0,J){return B.delegate&&B.delegate!==this?B.delegate.schedule(ue,se,J):super.schedule(ue,se,J)}flush(ue){const{actions:se}=this;if(this.active)return void se.push(ue);let J;this.active=!0;do{if(J=ue.execute(ue.state,ue.delay))break}while(ue=se.shift());if(this.active=!1,J){for(;ue=se.shift();)ue.unsubscribe();throw J}}}},3637:(ze,Ae,P)=>{"use strict";P.d(Ae,{z:()=>N});var d=P(6465);const N=new(P(6102).v)(d.o)},7771:(ze,Ae,P)=>{"use strict";P.d(Ae,{c:()=>J,N:()=>se});var d=P(6465),N=P(6102);const se=new class extends N.v{}(class extends d.o{constructor(Q,K){super(Q,K),this.scheduler=Q,this.work=K}schedule(Q,K=0){return K>0?super.schedule(Q,K):(this.delay=K,this.state=Q,this.scheduler.flush(this),this)}execute(Q,K){return K>0||this.closed?super.execute(Q,K):this._execute(Q,K)}requestAsyncId(Q,K,O=0){return null!==O&&O>0||null===O&&this.delay>0?super.requestAsyncId(Q,K,O):Q.flush(this)}}),J=se},377:(ze,Ae,P)=>{"use strict";P.d(Ae,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ze,Ae,P)=>{"use strict";P.d(Ae,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ze,Ae,P)=>{"use strict";P.d(Ae,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ze,Ae,P)=>{"use strict";P.d(Ae,{N:()=>B});const B=(()=>{function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return N.prototype=Object.create(Error.prototype),N})()},4449:(ze,Ae,P)=>{"use strict";function d(B){setTimeout(()=>{throw B},0)}P.d(Ae,{z:()=>d})},4487:(ze,Ae,P)=>{"use strict";function d(B){return B}P.d(Ae,{y:()=>d})},9796:(ze,Ae,P)=>{"use strict";P.d(Ae,{k:()=>d});const d=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(ze,Ae,P)=>{"use strict";P.d(Ae,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(ze,Ae,P)=>{"use strict";function d(B){return"function"==typeof B}P.d(Ae,{m:()=>d})},1555:(ze,Ae,P)=>{"use strict";function d(B){return null!==B&&"object"==typeof B}P.d(Ae,{K:()=>d})},4072:(ze,Ae,P)=>{"use strict";function d(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}P.d(Ae,{t:()=>d})},4869:(ze,Ae,P)=>{"use strict";function d(B){return B&&"function"==typeof B.schedule}P.d(Ae,{K:()=>d})},7444:(ze,Ae,P)=>{"use strict";P.d(Ae,{s:()=>V});var d=P(5015),B=P(4449),ue=P(377),J=P(6554),Q=P(9489),K=P(4072),O=P(1555);const V=j=>{if(j&&"function"==typeof j[J.L])return(j=>ie=>{const ce=j[J.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(ie)})(j);if((0,Q.z)(j))return(0,d.V)(j);if((0,K.t)(j))return(j=>ie=>(j.then(ce=>{ie.closed||(ie.next(ce),ie.complete())},ce=>ie.error(ce)).then(null,B.z),ie))(j);if(j&&"function"==typeof j[ue.hZ])return(j=>ie=>{const ce=j[ue.hZ]();for(;;){let Ee;try{Ee=ce.next()}catch(_e){return ie.error(_e),ie}if(Ee.done){ie.complete();break}if(ie.next(Ee.value),ie.closed)break}return"function"==typeof ce.return&&ie.add(()=>{ce.return&&ce.return()}),ie})(j);{const ce=`You provided ${(0,O.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(ze,Ae,P)=>{"use strict";P.d(Ae,{V:()=>d});const d=B=>N=>{for(let ue=0,se=B.length;ue<se&&!N.closed;ue++)N.next(B[ue]);N.complete()}},4975:(ze,Ae,P)=>{"use strict";var d=P(7716);let B=null;function N(){return B}const be=new d.OlP("DocumentToken");let Q=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function K(){return(0,d.LFG)(V)}const O=new d.OlP("Location Initialized");let V=(()=>{class i extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){j()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){j()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(be))},i.\u0275prov=(0,d.Yz7)({factory:ie,token:i,providedIn:"platform"}),i})();function j(){return!!window.history.pushState}function ie(){return new V((0,d.LFG)(be))}function ce(i,r){if(0==i.length)return r;if(0==r.length)return i;let e=0;return i.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?i+r.substring(1):1==e?i+r:i+"/"+r}function Ee(i){const r=i.match(/#|\?|$/),e=r&&r.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function _e(i){return i&&"?"!==i[0]?"?"+i:i}let he=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:X,token:i,providedIn:"root"}),i})();function X(i){const r=(0,d.LFG)(be).location;return new fe((0,d.LFG)(Q),r&&r.origin||"")}const de=new d.OlP("appBaseHref");let fe=(()=>{class i extends he{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+_e(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,h){const g=this.prepareExternalUrl(u+_e(h));this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,h){const g=this.prepareExternalUrl(u+_e(h));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Q),d.LFG(de,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Se=(()=>{class i extends he{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ce(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,h){let g=this.prepareExternalUrl(u+_e(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,u,h){let g=this.prepareExternalUrl(u+_e(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Q),d.LFG(de,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),je=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ee(we(u)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+_e(o))}normalize(e){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,we(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_e(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_e(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(he),d.LFG(Q))},i.normalizeQueryParams=_e,i.joinWithSlash=ce,i.stripTrailingSlash=Ee,i.\u0275prov=(0,d.Yz7)({factory:tt,token:i,providedIn:"root"}),i})();function tt(){return new je((0,d.LFG)(he),(0,d.LFG)(Q))}function we(i){return i.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Lr=d.kL8;class wi{}let zn=(()=>{class i extends wi{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Lr(o||this.locale)(e)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Dr{constructor(r,e,o,u){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lt=(()=>{class i{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((u,h,g)=>{if(null==u.previousIndex){const C=this._viewContainer.createEmbeddedView(this._template,new Dr(null,this._ngForOf,-1,-1),null===g?void 0:g),D=new dl(u,C);o.push(D)}else if(null==g)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const C=this._viewContainer.get(h);this._viewContainer.move(C,g);const D=new dl(u,C);o.push(D)}});for(let u=0;u<o.length;u++)this._perViewChange(o[u].view,o[u].record);for(let u=0,h=this._viewContainer.length;u<h;u++){const g=this._viewContainer.get(u);g.context.index=u,g.context.count=h,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class dl{constructor(r,e){this.record=r,this.view=e}}let hr=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new hl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Wi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Wi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class hl{constructor(){this.$implicit=null,this.ngIf=null}}function Wi(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(r)}'.`)}let Qi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:wi,useClass:zn}]}),i})(),Ji=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new Cl((0,d.LFG)(be),window)}),i})();class Cl{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function(i,r){const e=i.getElementById(r)||i.getElementsByName(r)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const h=u.shadowRoot;if(h){const g=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(g)return g}u=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],u-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Vo(this.window.history)||Vo(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Vo(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Xs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Xs,B||(B=i)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=(fi=fi||document.querySelector("base"),fi?fi.getAttribute("href"):null);return null==e?null:function(i){Jt=Jt||document.createElement("a"),Jt.setAttribute("href",i);const r=Jt.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){fi=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const e of i.split(";")){const o=e.indexOf("="),[u,h]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let Jt,fi=null;const Uo=new d.OlP("TRANSITION_ID"),pr=[{provide:d.ip1,useFactory:function(i,r,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=N(),u=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[Uo,be,d.zs3],multi:!0}];class bn{static init(){(0,d.VLi)(new bn)}addToWindow(r){d.dqk.getAngularTestability=(o,u=!0)=>{const h=r.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const u=d.dqk.getAllAngularTestabilities();let h=u.length,g=!1;const C=function(D){g=g||D,h--,0==h&&o(g)};u.forEach(function(D){D.whenStable(C)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const u=r.getTestability(e);return null!=u?u:o?N().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let Bo=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Xi=new d.OlP("EventManagerPlugins");let Me=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const g=u[h];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Xi),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class It{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const u=N().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let Ho=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),ln=(()=>{class i extends Ho{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(h=>{const g=this._doc.createElement("style");g.textContent=h,u.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach($o),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($o))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(be))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function $o(i){N().remove(i)}const es={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vr=/%COMP%/g;function Un(i,r,e){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?Un(i,u,e):(u=u.replace(Vr,i),e.push(u))}return e}function gr(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let pi=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Sr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Al(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case d.ifc.ShadowDom:return new Go(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=Un(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Me),d.LFG(ln),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Sr{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,e){return e?document.createElementNS(es[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,u){if(u){e=u+":"+e;const h=es[u];h?r.setAttributeNS(h,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const u=es[o];u?r.removeAttributeNS(u,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,u){u&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(e,o,u&d.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&d.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,gr(o)):this.eventManager.addEventListener(r,e,gr(o))}}class Al extends Sr{constructor(r,e,o,u){super(r),this.component=o;const h=Un(u+"-"+o.id,o.styles,[]);e.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Vr,u+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(Vr,u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class Go extends Sr{constructor(r,e,o,u){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Un(u.id,u.styles,[]);for(let g=0;g<h.length;g++){const C=document.createElement("style");C.textContent=h[g],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let zo=(()=>{class i extends It{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(be))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Os=["alt","control","meta","shift"],Lu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hg={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let io=(()=>{class i extends It{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const h=i.parseEventName(o),g=i.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,h.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=i._normalizeKey(o.pop());let g="";if(Os.forEach(D=>{const R=o.indexOf(D);R>-1&&(o.splice(R,1),g+=D+".")}),g+=h,0!=o.length||0===h.length)return null;const C={};return C.domEventName=u,C.fullKey=g,C}static getEventFullKey(e){let o="",u=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&ir.hasOwnProperty(r)&&(r=ir[r]))}return Lu[r]||r}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Os.forEach(h=>{h!=u&&hg[h](e)&&(o+=h+".")}),o+=u,o}static eventCallback(e,o,u){return h=>{i.getEventFullKey(h)===e&&u.runGuarded(()=>o(h))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(be))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Fs=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Xs.makeCurrent(),bn.init()},multi:!0},{provide:be,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),xl=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Xi,useClass:zo,multi:!0,deps:[be,d.R0b,d.Lbi]},{provide:Xi,useClass:io,multi:!0,deps:[be]},[],{provide:pi,useClass:pi,deps:[Me,ln,d.AFp]},{provide:d.FYo,useExisting:pi},{provide:Ho,useExisting:ln},{provide:ln,useClass:ln,deps:[be]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Me,useClass:Me,deps:[Xi,d.R0b]},{provide:class{},useClass:Bo,deps:[]},[]];let ef=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:Uo,useExisting:d.AFp},pr]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:xl,imports:[Qi,d.hGG]}),i})();"undefined"!=typeof window&&window;var sr=P(8939),Mr=P(3637),qn=P(7574),it=P(5917),Si=P(6682),Ct=P(8002),kl=P(8819),cn=P(4402),Ls=P(5345);function Kn(i,r){return"function"==typeof r?e=>e.pipe(Kn((o,u)=>(0,cn.D)(i(o,u)).pipe((0,Ct.U)((h,g)=>r(o,h,u,g))))):e=>e.lift(new Oa(i))}class Oa{constructor(r){this.project=r}call(r,e){return e.subscribe(new Jo(r,this.project))}}class Jo extends Ls.Ds{constructor(r,e){super(r),this.project=e,this.index=0}_next(r){let e;const o=this.index++;try{e=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(e)}_innerSub(r){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Ls.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Ls.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var Xr=P(7393);function Ri(i,r){let e=!1;return arguments.length>=2&&(e=!0),function(u){return u.lift(new ju(i,r,e))}}class ju{constructor(r,e,o=!1){this.accumulator=r,this.seed=e,this.hasSeed=o}call(r,e){return e.subscribe(new Mi(r,this.accumulator,this.seed,this.hasSeed))}}class Mi extends Xr.L{constructor(r,e,o,u){super(r),this.accumulator=e,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const e=this.index++;let o;try{o=this.accumulator(this.seed,r,e)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}class Xo{constructor(r,e){this.compare=r,this.keySelector=e}call(r,e){return e.subscribe(new Ll(r,this.compare,this.keySelector))}}class Ll extends Xr.L{constructor(r,e,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(r,e){return r===e}_next(r){let e;try{const{keySelector:u}=this;e=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,e)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=e,this.destination.next(r))}}class Ur extends Xr.L{notifyNext(r,e,o,u,h){this.destination.next(e)}notifyError(r,e){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class lo extends Xr.L{constructor(r,e,o){super(),this.parent=r,this.outerValue=e,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var is=P(7444);function ea(i,r,e,o,u=new lo(i,e,o)){if(!u.closed)return r instanceof qn.y?r.subscribe(u):(0,is.s)(r)(u)}class Vs{constructor(r,e){this.observables=r,this.project=e}call(r,e){return e.subscribe(new Hu(r,this.observables,this.project))}}class Hu extends Ur{constructor(r,e,o){super(r),this.observables=e,this.project=o,this.toRespond=[];const u=e.length;this.values=new Array(u);for(let h=0;h<u;h++)this.toRespond.push(h);for(let h=0;h<u;h++)this.add(ea(this,e[h],void 0,h))}notifyNext(r,e,o){this.values[o]=e;const u=this.toRespond;if(u.length>0){const h=u.indexOf(o);-1!==h&&u.splice(h,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const e=[r,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(r){let e;try{e=this.project.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class rf{constructor(r){this.predicate=r}call(r,e){return e.subscribe(new gg(r,this.predicate))}}class gg extends Xr.L{constructor(r,e){super(r),this.predicate=e,this.skipping=!0,this.index=0}_next(r){const e=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||e.next(r)}tryCallPredicate(r){try{const e=this.predicate(r,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Br=P(6643),$u=(P(4828),P(4486)),Ni=P(6034),ss=P(8239),uo=P(5452),F=P(3854),Vl=P(5601);const Ul="@firebase/database";let Pa="";function na(i){Pa=i}class ka{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,F.Pz)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,F.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class co{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,F.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const ra=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new ka(r)}}catch(r){}return new co},rn=ra("localStorage"),_r=ra("sessionStorage"),Nr=new Vl.Yd("@firebase/database"),sf=function(){let i=1;return function(){return i++}}(),Cd=function(i){const r=(0,F.dS)(i),e=new F.gQ;e.update(r);const o=e.digest();return F.US.encodeByteArray(o)},or=function(...i){let r="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=or.apply(null,o):r+="object"==typeof o?(0,F.Pz)(o):o,r+=" "}return r};let Bn=null,ho=!0;const xr=function(i,r){(0,F.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Nr.logLevel=Vl.in.VERBOSE,Bn=Nr.log.bind(Nr),r&&_r.set("logging_enabled",!0)):"function"==typeof i?Bn=i:(Bn=null,_r.remove("logging_enabled"))},sn=function(...i){if(!0===ho&&(ho=!1,null===Bn&&!0===_r.get("logging_enabled")&&xr(!0)),Bn){const r=or.apply(null,i);Bn(r)}},os=function(i){return function(...r){sn(i,...r)}},Bl=function(...i){const r="FIREBASE INTERNAL ERROR: "+or(...i);Nr.error(r)},jn=function(...i){const r=`FIREBASE FATAL ERROR: ${or(...i)}`;throw Nr.error(r),new Error(r)},yr=function(...i){const r="FIREBASE WARNING: "+or(...i);Nr.warn(r)},fo=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},vr="[MIN_NAME]",ar="[MAX_NAME]",po=function(i,r){if(i===r)return 0;if(i===vr||r===ar)return-1;if(r===vr||i===ar)return 1;{const e=vn(i),o=vn(r);return null!==e?null!==o?e-o==0?i.length-r.length:e-o:-1:null!==o?1:i<r?-1:1}},jl=function(i,r){return i===r?0:i<r?-1:1},b=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,F.Pz)(r))},I=function(i){if("object"!=typeof i||null===i)return(0,F.Pz)(i);const r=[];for(const o in i)r.push(o);r.sort();let e="{";for(let o=0;o<r.length;o++)0!==o&&(e+=","),e+=(0,F.Pz)(r[o]),e+=":",e+=I(i[r[o]]);return e+="}",e},S=function(i,r){const e=i.length;if(e<=r)return[i];const o=[];for(let u=0;u<e;u+=r)o.push(i.substring(u,u+r>e?e:u+r));return o};function L(i,r){for(const e in i)i.hasOwnProperty(e)&&r(e,i[e])}const ee=function(i){(0,F.hu)(!fo(i),"Invalid JSON number");const o=1023;let u,h,g,C,D;0===i?(h=0,g=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(i)/Math.LN2),o),h=C+o,g=Math.round(i*Math.pow(2,52-C)-Math.pow(2,52))):(h=0,g=Math.round(i/Math.pow(2,-1074))));const R=[];for(D=52;D;D-=1)R.push(g%2?1:0),g=Math.floor(g/2);for(D=11;D;D-=1)R.push(h%2?1:0),h=Math.floor(h/2);R.push(u?1:0),R.reverse();const W=R.join("");let U="";for(D=0;D<64;D+=8){let ne=parseInt(W.substr(D,8),2).toString(16);1===ne.length&&(ne="0"+ne),U+=ne}return U.toLowerCase()},He=new RegExp("^-?(0*)\\d{1,10}$"),At=-2147483648,Ut=2147483647,vn=function(i){if(He.test(i)){const r=Number(i);if(r>=At&&r<=Ut)return r}return null},Yn=function(i){try{i()}catch(r){setTimeout(()=>{throw yr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ls=function(i,r){const e=setTimeout(i,r);return"object"==typeof e&&e.unref&&e.unref(),e};class Us{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){yr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class go{constructor(r,e,o){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,o):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yr(r)}}let lr=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const af=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ed="websocket",bd="long_polling";class lf{constructor(r,e,o,u,h=!1,g="",C=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=h,this.persistenceKey=g,this.includeNamespaceInQueryParams=C,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rn.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&rn.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function us(i,r,e){let o;if((0,F.hu)("string"==typeof r,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),r===Ed)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==bd)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const u=[];return L(e,(h,g)=>{u.push(h+"="+g)}),o+u.join("&")}class Gu{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,F.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,F.p$)(this.counters_)}}const xi={},wd={};function ia(i){const r=i.toString();return xi[r]||(xi[r]=new Gu),xi[r]}class zu{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Yn(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yo{constructor(r,e,o,u,h,g,C){this.connId=r,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.transportSessionId=g,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=os(r),this.stats_=ia(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),us(e,bd,D))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zu(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,F.Yr)()||"complete"===document.readyState)i();else{let r=!1;const e=function(){document.body?r||(r=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new df((...h)=>{const[g,C,D,R,W]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=C,this.password=D;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[g,C]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(g,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&af.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yo.forceAllow_=!0}static forceDisallow(){yo.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!yo.forceAllow_&&(yo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,F.Pz)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,F.h$)(e),u=S(o,1840);for(let h=0;h<u.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[h]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,F.Pz)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class df{constructor(r,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sf(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=df.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(C){sn("frame writing exception"),C.stack&&sn(C.stack),sn(C)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||sn("No IE domain setting required")}catch(e){const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+u+"="+g.seg+"&ts"+u+"="+g.ts+"&d"+u+"="+g.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,o){this.pendingSegs.push({seg:r,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(u),o()})}addTag(r,e){(0,F.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{sn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let sa=null;"undefined"!=typeof MozWebSocket?sa=MozWebSocket:"undefined"!=typeof WebSocket&&(sa=WebSocket);let ja=(()=>{class i{constructor(e,o,u,h,g,C,D){this.connId=e,this.applicationId=u,this.appCheckToken=h,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=os(this.connId),this.stats_=ia(o),this.connURL=i.connectionURL_(o,C,D,h),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,h){const g={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&af.test(location.hostname)&&(g.r="f"),o&&(g.s=o),u&&(g.ls=u),h&&(g.ac=h),us(e,Ed,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rn.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${Pa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,C=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;C&&(h.proxy={origin:C}),this.mySock=new sa(this.connURL,[],h)}else this.mySock=new sa(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const h=u.message||u.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const h=u.message||u.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==sa&&!i.forceDisallow_}static previouslyFailed(){return rn.isInMemoryStorage||!0===rn.get("previous_websocket_failure")}markConnectionHealthy(){rn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,F.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,F.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=S(o,16384);u.length>1&&this.sendString_(String(u.length));for(let h=0;h<u.length;h++)this.sendString_(u[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Ha{constructor(r){this.initTransports_(r)}static get ALL_TRANSPORTS(){return[yo,ja]}initTransports_(r){const e=ja&&ja.isAvailable();let o=e&&!ja.previouslyFailed();if(r.webSocketOnly&&(e||yr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ja];else{const u=this.transports_=[];for(const h of Ha.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xe{constructor(r,e,o,u,h,g,C,D,R,W){this.id=r,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=h,this.onMessage_=g,this.onReady_=C,this.onDisconnect_=D,this.onKill_=R,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=os("c:"+this.id+":"),this.transportManager_=new Ha(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=b("t",r),o=b("d",r);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=b("t",r),o=b("d",r);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=b("t",r);if("d"in r){const o=r.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Bl("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bl("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,o=r.v,u=r.h;this.sessionId=r.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&yr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ge{put(r,e,o,u){}merge(r,e,o,u){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,o){}onDisconnectMerge(r,e,o){}onDisconnectCancel(r,e){}reportStats(r){}}class st{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,F.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(r,e,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:o});const u=this.getInitialEvent(r);u&&e.apply(o,u)}off(r,e,o){this.validateEventType_(r);const u=this.listeners_[r]||[];for(let h=0;h<u.length;h++)if(u[h].callback===e&&(!o||o===u[h].context))return void u.splice(h,1)}validateEventType_(r){(0,F.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class Dt extends st{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dt}getInitialEvent(r){return(0,F.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Pt{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function St(){return new Pt("")}function bt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Qn(i){return i.pieces_.length-i.pieceNum_}function Gt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Pt(i.pieces_,r)}function Wl(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function aa(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function gf(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)r.push(i.pieces_[e]);return new Pt(r,0)}function dn(i,r){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(r instanceof Pt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);else{const o=r.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new Pt(e,0)}function Rt(i){return i.pieceNum_>=i.pieces_.length}function ur(i,r){const e=bt(i),o=bt(r);if(null===e)return r;if(e===o)return ur(Gt(i),Gt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function Gl(i,r){const e=aa(i,0),o=aa(r,0);for(let u=0;u<e.length&&u<o.length;u++){const h=po(e[u],o[u]);if(0!==h)return h}return e.length===o.length?0:e.length<o.length?-1:1}function zl(i,r){if(Qn(i)!==Qn(r))return!1;for(let e=i.pieceNum_,o=r.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==r.pieces_[o])return!1;return!0}function Bs(i,r){let e=i.pieceNum_,o=r.pieceNum_;if(Qn(i)>Qn(r))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==r.pieces_[o])return!1;++e,++o}return!0}class HD{constructor(r,e){this.errorPrefix_=e,this.parts_=aa(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,F.ug)(this.parts_[o]);by(this)}}function by(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zl(i))}function Zl(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class wg extends st{constructor(){let r,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",r="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new wg}getInitialEvent(r){return(0,F.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const qu=1e3;let vf,la=(()=>{class i extends Ge{constructor(e,o,u,h,g,C,D,R){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=h,this.onServerInfoUpdate_=g,this.authTokenProvider_=C,this.appCheckTokenProvider_=D,this.authOverride_=R,this.id=i.nextPersistentConnectionId_++,this.log_=os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Dt.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const h=++this.requestNumber_,g={r:h,a:e,b:o};this.log_((0,F.Pz)(g)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),u&&(this.requestCBHash_[h]=u)}get(e){this.initConnection_();const o=new F.BH,u={p:e._path.toString(),q:e._queryObject},h={action:"g",request:u,onComplete:C=>{const D=C.d;"ok"===C.s?(this.onDataUpdate_(u.p,D,!1,null),o.resolve(D)):o.reject(D)}};this.outstandingGets_.push(h),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const C=this.outstandingGets_[g];void 0===C||h!==C||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(e,o,u,h){this.initConnection_();const g=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+g),this.listens.has(C)||this.listens.set(C,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(C).has(g),"listen() called twice for same path/queryId.");const D={onComplete:h,hashFn:o,query:e,tag:u};this.listens.get(C).set(g,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),h=o._queryIdentifier;this.log_("Listen on "+u+" for "+h);const g={p:u};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,D=>{const R=D.d,W=D.s;i.warnOnListenWarnings_(R,o),(this.listens.get(u)&&this.listens.get(u).get(h))===e&&(this.log_("listen response",D),"ok"!==W&&this.removeListen_(u,h),e.onComplete&&e.onComplete(W,R))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const u=(0,F.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const h='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();yr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,F.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,h=>{const g=h.s,C=h.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),h=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+h),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,h)&&this.connected_&&this.sendUnlisten_(u,h,e._queryObject,o)}sendUnlisten_(e,o,u,h){this.log_("Unlisten on "+e+" for "+o);const g={p:e};h&&(g.q=u,g.t=h),this.sendRequest("n",g)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,h){const g={p:o,d:u};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,C=>{h&&setTimeout(()=>{h(C.s,C.d)},Math.floor(0))})}put(e,o,u,h){this.putInternal("p",e,o,u,h)}merge(e,o,u,h){this.putInternal("m",e,o,u,h)}putInternal(e,o,u,h,g){this.initConnection_();const C={p:o,d:u};void 0!==g&&(C.h=g),this.outstandingPuts_.push({action:e,request:C,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Bl("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ss.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),h=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+i.nextConnectionId_++,C=e.lastSessionId;let D=!1,R=null;const W=function(){R?R.close():(D=!0,h())};e.realtime_={close:W,sendRequest:function(Ie){(0,F.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(Ie)}};const ne=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ie,Le]=yield Promise.all([e.authTokenProvider_.getToken(ne),e.appCheckTokenProvider_.getToken(ne)]);D?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),e.authToken_=Ie&&Ie.accessToken,e.appCheckToken_=Le&&Le.token,R=new xe(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,h,at=>{yr(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(Ie){e.log_("Failed to get token: "+Ie),D||(e.repoInfo_.nodeAdmin&&yr(Ie),W())}}})()}interrupt(e){sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(g=>I(g)).join("$"):"default";const h=this.removeListen_(e,u);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(e,o){const u=new Pt(e).toString();let h;if(this.listens.has(u)){const g=this.listens.get(u);h=g.get(o),g.delete(o),0===g.size&&this.listens.delete(u)}else h=void 0;return h}onAuthRevoked_(e,o){sn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){sn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,F.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Pa.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Dt.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class kt{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new kt(r,e)}}class yf{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const o=new kt(vr,r),u=new kt(vr,e);return 0!==this.compare(o,u)}minPost(){return kt.MIN}}class Dy extends yf{static get __EMPTY_NODE(){return vf}static set __EMPTY_NODE(r){vf=r}compare(r,e){return po(r.name,e.name)}isDefinedOn(r){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(ar,vf)}makePost(r,e){return(0,F.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new kt(r,vf)}toString(){return".key"}}const Co=new Dy;class Cf{constructor(r,e,o,u,h=null){this.isReverse_=u,this.resultGenerator_=h,this.nodeStack_=[];let g=1;for(;!r.isEmpty();)if(r=r,g=e?o(r.key,e):1,u&&(g*=-1),g<0)r=this.isReverse_?r.left:r.right;else{if(0===g){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Ef,Eo=(()=>{class i{constructor(e,o,u,h,g){this.key=e,this.value=o,this.color=null!=u?u:i.RED,this.left=null!=h?h:Er.EMPTY_NODE,this.right=null!=g?g:Er.EMPTY_NODE}copy(e,o,u,h,g){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=h?h:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let h=this;const g=u(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,o,u),null):0===g?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(e,o,u)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return Er.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,h;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return Er.EMPTY_NODE;h=u.right.min_(),u=u.copy(h.key,h.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Er{constructor(r,e=Er.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new Er(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Eo.BLACK,null,null))}remove(r){return new Er(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Eo.BLACK,null,null))}get(r){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(r){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(r,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Cf(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Cf(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Cf(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Cf(this.root_,null,this.comparator_,!0,r)}}function ei(i,r){return po(i.name,r.name)}function Nd(i,r){return po(i,r)}Er.EMPTY_NODE=new class{copy(r,e,o,u,h){return this}insert(r,e,o){return new Eo(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Or=function(i){return"number"==typeof i?"number:"+ee(i):"string:"+i},Ku=function(i){if(i.isLeafNode()){const r=i.val();(0,F.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,F.r3)(r,".sv"),"Priority must be a string or number.")}else(0,F.hu)(i===Ef||i.isEmpty(),"priority of unexpected type.");(0,F.hu)(i===Ef||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bf,Ay,Ig,Yu=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ku(this.priorityNode_)}static set __childrenNodeConstructor(e){bf=e}static get __childrenNodeConstructor(){return bf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:".priority"===bt(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=bt(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,F.hu)(".priority"!==u||1===Qn(e),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Or(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?ee(this.value_):this.value_,this.lazyHash_=Cd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,h=i.VALUE_TYPE_ORDER.indexOf(o),g=i.VALUE_TYPE_ORDER.indexOf(u);return(0,F.hu)(h>=0,"Unknown leaf type: "+o),(0,F.hu)(g>=0,"Unknown leaf type: "+u),h===g?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-h}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const hn=new class extends yf{compare(r,e){const o=r.node.getPriority(),u=e.node.getPriority(),h=o.compareTo(u);return 0===h?po(r.name,e.name):h}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(ar,new Yu("[PRIORITY-POST]",Ig))}makePost(r,e){const o=Ay(r);return new kt(e,new Yu("[PRIORITY-POST]",o))}toString(){return".priority"}},Wb=Math.log(2);class Gb{constructor(r){this.count=parseInt(Math.log(r+1)/Wb,10),this.current_=this.count-1;const u=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&u}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const wf=function(i,r,e,o){i.sort(r);const u=function(D,R){const W=R-D;let U,ne;if(0===W)return null;if(1===W)return U=i[D],ne=e?e(U):U,new Eo(ne,U.node,Eo.BLACK,null,null);{const Ie=parseInt(W/2,10)+D,Le=u(D,Ie),at=u(Ie+1,R);return U=i[Ie],ne=e?e(U):U,new Eo(ne,U.node,Eo.BLACK,Le,at)}},C=function(D){let R=null,W=null,U=i.length;const ne=function(Le,at){const mt=U-Le,kn=U;U-=Le;const Mt=u(mt+1,kn),$n=i[mt],an=e?e($n):$n;Ie(new Eo(an,$n.node,at,null,Mt))},Ie=function(Le){R?(R.left=Le,R=Le):(W=Le,R=Le)};for(let Le=0;Le<D.count;++Le){const at=D.nextBitIsOne(),mt=Math.pow(2,D.count-(Le+1));at?ne(mt,Eo.BLACK):(ne(mt,Eo.BLACK),ne(mt,Eo.RED))}return W}(new Gb(i.length));return new Er(o||r,C)};let If;const $a={};class bo{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,F.hu)($a&&hn,"ChildrenNode.ts has not been loaded"),If=If||new bo({".priority":$a},{".priority":hn}),If}get(r){const e=(0,F.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof Er?e:null}hasIndex(r){return(0,F.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,F.hu)(r!==Co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const h=e.getIterator(kt.Wrap);let C,g=h.getNext();for(;g;)u=u||r.isDefinedOn(g.node),o.push(g),g=h.getNext();C=u?wf(o,r.getCompare()):$a;const D=r.toString(),R=Object.assign({},this.indexSet_);R[D]=r;const W=Object.assign({},this.indexes_);return W[D]=C,new bo(W,R)}addToIndexes(r,e){const o=(0,F.UI)(this.indexes_,(u,h)=>{const g=(0,F.DV)(this.indexSet_,h);if((0,F.hu)(g,"Missing index implementation for "+h),u===$a){if(g.isDefinedOn(r.node)){const C=[],D=e.getIterator(kt.Wrap);let R=D.getNext();for(;R;)R.name!==r.name&&C.push(R),R=D.getNext();return C.push(r),wf(C,g.getCompare())}return $a}{const C=e.get(r.name);let D=u;return C&&(D=D.remove(new kt(r.name,C))),D.insert(r,r.node)}});return new bo(o,this.indexSet_)}removeFromIndexes(r,e){const o=(0,F.UI)(this.indexes_,u=>{if(u===$a)return u;{const h=e.get(r.name);return h?u.remove(new kt(r.name,h)):u}});return new bo(o,this.indexSet_)}}let xd,Tt=(()=>{class i{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Ku(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xd||(xd=new i(new Er(Nd),null,bo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xd}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?xd:o}}getChild(e){const o=bt(e);return null===o?this:this.getImmediateChild(o).getChild(Gt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,F.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new kt(e,o);let h,g;o.isEmpty()?(h=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(u,this.children_)):(h=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(u,this.children_));const C=h.isEmpty()?xd:this.priorityNode_;return new i(h,C,g)}}updateChild(e,o){const u=bt(e);if(null===u)return o;{(0,F.hu)(".priority"!==bt(e)||1===Qn(e),".priority must be the last token in a path");const h=this.getImmediateChild(u).updateChild(Gt(e),o);return this.updateImmediateChild(u,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,h=0,g=!0;if(this.forEachChild(hn,(C,D)=>{o[C]=D.val(e),u++,g&&i.INTEGER_REGEXP_.test(C)?h=Math.max(h,Number(C)):g=!1}),!e&&g&&h<2*u){const C=[];for(const D in o)C[D]=o[D];return C}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Or(this.getPriority().val())+":"),this.forEachChild(hn,(o,u)=>{const h=u.hash();""!==h&&(e+=":"+o+":"+h)}),this.lazyHash_=""===e?"":Cd(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const h=this.resolveIndex_(u);if(h){const g=h.getPredecessorKey(new kt(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new kt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new kt(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(h=>o(h.name,h.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,h=>h);{const h=this.children_.getIteratorFrom(e.name,kt.Wrap);let g=h.peek();for(;null!=g&&o.compare(g,e)<0;)h.getNext(),g=h.peek();return h}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,h=>h);{const h=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let g=h.peek();for(;null!=g&&o.compare(g,e)>0;)h.getNext(),g=h.peek();return h}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wa?-1:0}withIndex(e){if(e===Co||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Co||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(hn),h=o.getIterator(hn);let g=u.getNext(),C=h.getNext();for(;g&&C;){if(g.name!==C.name||!g.node.equals(C.node))return!1;g=u.getNext(),C=h.getNext()}return null===g&&null===C}return!1}return!1}}resolveIndex_(e){return e===Co?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Wa=new class extends Tt{constructor(){super(new Er(Nd),Tt.EMPTY_NODE,bo.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Tt.EMPTY_NODE}isEmpty(){return!1}};function Pn(i,r=null){if(null===i)return Tt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,F.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Yu(i,Pn(r));if(i instanceof Array){let e=Tt.EMPTY_NODE;return L(i,(o,u)=>{if((0,F.r3)(i,o)&&"."!==o.substring(0,1)){const h=Pn(u);(h.isLeafNode()||!h.isEmpty())&&(e=e.updateImmediateChild(o,h))}}),e.updatePriority(Pn(r))}{const e=[];let o=!1;if(L(i,(g,C)=>{if("."!==g.substring(0,1)){const D=Pn(C);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),e.push(new kt(g,D)))}}),0===e.length)return Tt.EMPTY_NODE;const h=wf(e,ei,g=>g.name,Nd);if(o){const g=wf(e,hn.getCompare());return new Tt(h,Pn(r),new bo({".priority":g},{".priority":hn}))}return new Tt(h,Pn(r),bo.Default)}}Object.defineProperties(kt,{MIN:{value:new kt(vr,Tt.EMPTY_NODE)},MAX:{value:new kt(ar,Wa)}}),Dy.__EMPTY_NODE=Tt.EMPTY_NODE,Yu.__childrenNodeConstructor=Tt,Ef=Wa,Ig=Wa,function(i){Ay=i}(Pn);class Ga extends yf{constructor(r){super(),this.indexPath_=r,(0,F.hu)(!Rt(r)&&".priority"!==bt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const o=this.extractChild(r.node),u=this.extractChild(e.node),h=o.compareTo(u);return 0===h?po(r.name,e.name):h}makePost(r,e){const o=Pn(r),u=Tt.EMPTY_NODE.updateChild(this.indexPath_,o);return new kt(e,u)}maxPost(){const r=Tt.EMPTY_NODE.updateChild(this.indexPath_,Wa);return new kt(ar,r)}toString(){return aa(this.indexPath_,0).join("/")}}const Dg=new class extends yf{compare(r,e){const o=r.node.compareTo(e.node);return 0===o?po(r.name,e.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(r,e){const o=Pn(r);return new kt(e,o)}toString(){return".value"}},Qu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ds=function(){let i=0;const r=[];return function(e){const o=e===i;let u;i=e;const h=new Array(8);for(u=7;u>=0;u--)h[u]=Qu.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let g=h.join("");if(o){for(u=11;u>=0&&63===r[u];u--)r[u]=0;r[u]++}else for(u=0;u<12;u++)r[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)g+=Qu.charAt(r[u]);return(0,F.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Ag=function(i){if(i===""+Ut)return"-";const r=vn(i);if(null!=r)return""+(r+1);const e=new Array(i.length);for(let g=0;g<e.length;g++)e[g]=i.charAt(g);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return ar;const h=Qu.charAt(Qu.indexOf(e[o])+1);return e[o]=h,e.slice(0,o+1).join("")},Ny=function(i){if(i===""+At)return vr;const r=vn(i);if(null!=r)return""+(r-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+Ut:(delete e[e.length-1],e.join("")):(e[e.length-1]=Qu.charAt(Qu.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function xy(i){return{type:"value",snapshotNode:i}}function ql(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function Df(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Ju(i,r,e){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:e}}class Sg{constructor(r){this.index_=r}updateChild(r,e,o,u,h,g){(0,F.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=r.getImmediateChild(e);return C.getChild(u).equals(o.getChild(u))&&C.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?r.hasChild(e)?g.trackChildChange(Df(e,C)):(0,F.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?g.trackChildChange(ql(e,o)):g.trackChildChange(Ju(e,o,C))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(r,e,o){return null!=o&&(r.isLeafNode()||r.forEachChild(hn,(u,h)=>{e.hasChild(u)||o.trackChildChange(Df(u,h))}),e.isLeafNode()||e.forEachChild(hn,(u,h)=>{if(r.hasChild(u)){const g=r.getImmediateChild(u);g.equals(h)||o.trackChildChange(Ju(u,h,g))}else o.trackChildChange(ql(u,h))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?Tt.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pd{constructor(r){this.indexedFilter_=new Sg(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Pd.getStartPost_(r),this.endPost_=Pd.getEndPost_(r)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){return this.index_.compare(this.getStartPost(),r)<=0&&this.index_.compare(r,this.getEndPost())<=0}updateChild(r,e,o,u,h,g){return this.matches(new kt(e,o))||(o=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,o,u,h,g)}updateFullNode(r,e,o){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(Tt.EMPTY_NODE);const h=this;return e.forEachChild(hn,(g,C)=>{h.matches(new kt(g,C))||(u=u.updateImmediateChild(g,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class Xu{constructor(r){this.rangedFilter_=new Pd(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft()}updateChild(r,e,o,u,h,g){return this.rangedFilter_.matches(new kt(e,o))||(o=Tt.EMPTY_NODE),r.getImmediateChild(e).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,o,u,h,g):this.fullLimitUpdateChild_(r,e,o,h,g)}updateFullNode(r,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let h;u=Tt.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;h.hasNext()&&g<this.limit_;){const C=h.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),C)<=0:this.index_.compare(C,this.rangedFilter_.getEndPost())<=0,!D)break;u=u.updateImmediateChild(C.name,C.node),g++}}else{let h,g,C,D;if(u=e.withIndex(this.index_),u=u.updatePriority(Tt.EMPTY_NODE),this.reverse_){D=u.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();C=(ne,Ie)=>U(Ie,ne)}else D=u.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),C=this.index_.getCompare();let R=0,W=!1;for(;D.hasNext();){const U=D.getNext();!W&&C(h,U)<=0&&(W=!0),W&&R<this.limit_&&C(U,g)<=0?R++:u=u.updateImmediateChild(U.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,u,o)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,o,u,h){let g;if(this.reverse_){const U=this.index_.getCompare();g=(ne,Ie)=>U(Ie,ne)}else g=this.index_.getCompare();const C=r;(0,F.hu)(C.numChildren()===this.limit_,"");const D=new kt(e,o),R=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),W=this.rangedFilter_.matches(D);if(C.hasChild(e)){const U=C.getImmediateChild(e);let ne=u.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=ne&&(ne.name===e||C.hasChild(ne.name));)ne=u.getChildAfterChild(this.index_,ne,this.reverse_);const Ie=null==ne?1:g(ne,D);if(W&&!o.isEmpty()&&Ie>=0)return null!=h&&h.trackChildChange(Ju(e,o,U)),C.updateImmediateChild(e,o);{null!=h&&h.trackChildChange(Df(e,U));const at=C.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=ne&&this.rangedFilter_.matches(ne)?(null!=h&&h.trackChildChange(ql(ne.name,ne.node)),at.updateImmediateChild(ne.name,ne.node)):at}}return o.isEmpty()?r:W&&g(R,D)>=0?(null!=h&&(h.trackChildChange(Df(R.name,R.node)),h.trackChildChange(ql(e,o))),C.updateImmediateChild(e,o).updateImmediateChild(R.name,Tt.EMPTY_NODE)):r}}class Oi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const r=new Oi;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Py(i,r,e){const o=i.copy();return o.startSet_=!0,void 0===r&&(r=null),o.indexStartValue_=r,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function kd(i,r,e){const o=i.copy();return o.endSet_=!0,void 0===r&&(r=null),o.indexEndValue_=r,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Tf(i,r){const e=i.copy();return e.index_=r,e}function Mg(i){const r={};if(i.isDefault())return r;let e;return i.index_===hn?e="$priority":i.index_===Dg?e="$value":i.index_===Co?e="$key":((0,F.hu)(i.index_ instanceof Ga,"Unrecognized index type!"),e=i.index_.toString()),r.orderBy=(0,F.Pz)(e),i.startSet_&&(r.startAt=(0,F.Pz)(i.indexStartValue_),i.startNameSet_&&(r.startAt+=","+(0,F.Pz)(i.indexStartName_))),i.endSet_&&(r.endAt=(0,F.Pz)(i.indexEndValue_),i.endNameSet_&&(r.endAt+=","+(0,F.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function ec(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_)),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_)),i.limitSet_){r.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),r.vf=e}return i.index_!==hn&&(r.i=i.index_.toString()),r}class Fd extends Ge{constructor(r,e,o,u){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=os("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,F.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,o,u){const h=r._path.toString();this.log_("Listen called for "+h+" "+r._queryIdentifier);const g=Fd.getListenId_(r,o),C={};this.listens_[g]=C;const D=Mg(r._queryParams);this.restRequest_(h+".json",D,(R,W)=>{let U=W;if(404===R&&(U=null,R=null),null===R&&this.onDataUpdate_(h,U,!1,o),(0,F.DV)(this.listens_,g)===C){let ne;ne=R?401===R?"permission_denied":"rest_error:"+R:"ok",u(ne,null)}})}unlisten(r,e){const o=Fd.getListenId_(r,e);delete this.listens_[o]}get(r){const e=Mg(r._queryParams),o=r._path.toString(),u=new F.BH;return this.restRequest_(o+".json",e,(h,g)=>{let C=g;404===h&&(C=null,h=null),null===h?(this.onDataUpdate_(o,C,!1,null),u.resolve(C)):u.reject(new Error(C))}),u.promise}refreshAuthToken(r){}restRequest_(r,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,h])=>{u&&u.accessToken&&(e.auth=u.accessToken),h&&h.token&&(e.ac=h.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+g);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+g+" received. status:",C.status,"response:",C.responseText);let D=null;if(C.status>=200&&C.status<300){try{D=(0,F.cI)(C.responseText)}catch(R){yr("Failed to parse JSON response for "+g+": "+C.responseText)}o(null,D)}else 401!==C.status&&404!==C.status&&yr("Got unsuccessful REST response for "+g+" Status: "+C.status),o(C.status);o=null}},C.open("GET",g,!0),C.send()})}}class ky{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function tc(){return{value:null,children:new Map}}function za(i,r,e){if(Rt(r))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,e);else{const o=bt(r);i.children.has(o)||i.children.set(o,tc()),za(i.children.get(o),r=Gt(r),e)}}function Af(i,r){if(Rt(r))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(hn,(o,u)=>{za(i,new Pt(o),u)}),Af(i,r)}}if(i.children.size>0){const e=bt(r);return r=Gt(r),i.children.has(e)&&Af(i.children.get(e),r)&&i.children.delete(e),0===i.children.size}return!0}function Fy(i,r,e){null!==i.value?e(r,i.value):function(i,r){i.children.forEach((e,o)=>{r(o,e)})}(i,(o,u)=>{Fy(u,new Pt(r.toString()+"/"+o),e)})}class Ng{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&L(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=r,e}}class Yb{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ng(r);const o=1e4+2e4*Math.random();ls(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),e={};let o=!1;L(r,(u,h)=>{h>0&&(0,F.r3)(this.statsToReport_,u)&&(e[u]=h,o=!0)}),o&&this.server_.reportStats(e),ls(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var hs=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hs||(hs={})),hs))();function Fg(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Sf{constructor(r,e,o){this.path=r,this.affectedTree=e,this.revert=o,this.type=hs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Rt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Pt(r));return new Sf(St(),e,this.revert)}}return(0,F.hu)(bt(this.path)===r,"operationForChild called for unrelated child."),new Sf(Gt(this.path),this.affectedTree,this.revert)}}class rc{constructor(r,e){this.source=r,this.path=e,this.type=hs.LISTEN_COMPLETE}operationForChild(r){return Rt(this.path)?new rc(this.source,St()):new rc(this.source,Gt(this.path))}}class ua{constructor(r,e,o){this.source=r,this.path=e,this.snap=o,this.type=hs.OVERWRITE}operationForChild(r){return Rt(this.path)?new ua(this.source,St(),this.snap.getImmediateChild(r)):new ua(this.source,Gt(this.path),this.snap)}}class Kl{constructor(r,e,o){this.source=r,this.path=e,this.children=o,this.type=hs.MERGE}operationForChild(r){if(Rt(this.path)){const e=this.children.subtree(new Pt(r));return e.isEmpty()?null:e.value?new ua(this.source,St(),e.value):new Kl(this.source,St(),e)}return(0,F.hu)(bt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Kl(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Io{constructor(r,e,o){this.node_=r,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Rt(r))return this.isFullyInitialized()&&!this.filtered_;const e=bt(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Qb{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function ic(i,r,e,o,u,h){const g=o.filter(C=>C.type===e);g.sort((C,D)=>function(i,r,e){if(null==r.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const o=new kt(r.childName,r.snapshotNode),u=new kt(e.childName,e.snapshotNode);return i.index_.compare(o,u)}(i,C,D)),g.forEach(C=>{const D=function(i,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,C,h);u.forEach(R=>{R.respondsTo(C.type)&&r.push(R.createEvent(D,i.query_))})})}function Ld(i,r){return{eventCache:i,serverCache:r}}function sc(i,r,e,o){return Ld(new Io(r,e,o),i.serverCache)}function Vy(i,r,e,o){return Ld(i.eventCache,new Io(r,e,o))}function Ql(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jl(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Rf;class fn{constructor(r,e=(()=>(Rf||(Rf=new Er(jl)),Rf))()){this.value=r,this.children=e}static fromObject(r){let e=new fn(null);return L(r,(o,u)=>{e=e.set(new Pt(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:St(),value:this.value};if(Rt(r))return null;{const o=bt(r),u=this.children.get(o);if(null!==u){const h=u.findRootMostMatchingPathAndValue(Gt(r),e);return null!=h?{path:dn(new Pt(o),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Rt(r))return this;{const e=bt(r),o=this.children.get(e);return null!==o?o.subtree(Gt(r)):new fn(null)}}set(r,e){if(Rt(r))return new fn(e,this.children);{const o=bt(r),h=(this.children.get(o)||new fn(null)).set(Gt(r),e),g=this.children.insert(o,h);return new fn(this.value,g)}}remove(r){if(Rt(r))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const e=bt(r),o=this.children.get(e);if(o){const u=o.remove(Gt(r));let h;return h=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&h.isEmpty()?new fn(null):new fn(this.value,h)}return this}}get(r){if(Rt(r))return this.value;{const e=bt(r),o=this.children.get(e);return o?o.get(Gt(r)):null}}setTree(r,e){if(Rt(r))return e;{const o=bt(r),h=(this.children.get(o)||new fn(null)).setTree(Gt(r),e);let g;return g=h.isEmpty()?this.children.remove(o):this.children.insert(o,h),new fn(this.value,g)}}fold(r){return this.fold_(St(),r)}fold_(r,e){const o={};return this.children.inorderTraversal((u,h)=>{o[u]=h.fold_(dn(r,u),e)}),e(r,this.value,o)}findOnPath(r,e){return this.findOnPath_(r,St(),e)}findOnPath_(r,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(Rt(r))return null;{const h=bt(r),g=this.children.get(h);return g?g.findOnPath_(Gt(r),dn(e,h),o):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,St(),e)}foreachOnPath_(r,e,o){if(Rt(r))return this;{this.value&&o(e,this.value);const u=bt(r),h=this.children.get(u);return h?h.foreachOnPath_(Gt(r),dn(e,u),o):new fn(null)}}foreach(r){this.foreach_(St(),r)}foreach_(r,e){this.children.inorderTraversal((o,u)=>{u.foreach_(dn(r,o),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,o)=>{o.value&&r(e,o.value)})}}class Pi{constructor(r){this.writeTree_=r}static empty(){return new Pi(new fn(null))}}function oc(i,r,e){if(Rt(r))return new Pi(new fn(e));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const u=o.path;let h=o.value;const g=ur(u,r);return h=h.updateChild(g,e),new Pi(i.writeTree_.set(u,h))}{const u=new fn(e),h=i.writeTree_.setTree(r,u);return new Pi(h)}}}function ac(i,r,e){let o=i;return L(e,(u,h)=>{o=oc(o,dn(r,u),h)}),o}function Vd(i,r){if(Rt(r))return Pi.empty();{const e=i.writeTree_.setTree(r,new fn(null));return new Pi(e)}}function Mf(i,r){return null!=ca(i,r)}function ca(i,r){const e=i.writeTree_.findRootMostValueAndPath(r);return null!=e?i.writeTree_.get(e.path).getChild(ur(e.path,r)):null}function Lg(i){const r=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hn,(o,u)=>{r.push(new kt(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&r.push(new kt(o,u.value))}),r}function Do(i,r){if(Rt(r))return i;{const e=ca(i,r);return new Pi(null!=e?new fn(e):i.writeTree_.subtree(r))}}function Xl(i){return i.writeTree_.isEmpty()}function lc(i,r){return Vg(St(),i.writeTree_,r)}function Vg(i,r,e){if(null!=r.value)return e.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((u,h)=>{".priority"===u?((0,F.hu)(null!==h.value,"Priority writes must always be leaf nodes"),o=h.value):e=Vg(dn(i,u),h,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(dn(i,".priority"),o)),e}}function Nf(i,r){return Wg(r,i)}function zD(i,r){if(i.snap)return Bs(i.path,r);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Bs(dn(i.path,e),r))return!0;return!1}function e0(i){return i.visible}function Bg(i,r,e){let o=Pi.empty();for(let u=0;u<i.length;++u){const h=i[u];if(r(h)){const g=h.path;let C;if(h.snap)Bs(e,g)?(C=ur(e,g),o=oc(o,C,h.snap)):Bs(g,e)&&(C=ur(g,e),o=oc(o,St(),h.snap.getChild(C)));else{if(!h.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Bs(e,g))C=ur(e,g),o=ac(o,C,h.children);else if(Bs(g,e))if(C=ur(g,e),Rt(C))o=ac(o,St(),h.children);else{const D=(0,F.DV)(h.children,bt(C));if(D){const R=D.getChild(Gt(C));o=oc(o,St(),R)}}}}}return o}function $y(i,r,e,o,u){if(o||u){const h=Do(i.visibleWrites,r);return!u&&Xl(h)?e:u||null!=e||Mf(h,St())?lc(Bg(i.allWrites,function(R){return(R.visible||u)&&(!o||!~o.indexOf(R.writeId))&&(Bs(R.path,r)||Bs(r,R.path))},r),e||Tt.EMPTY_NODE):null}{const h=ca(i.visibleWrites,r);if(null!=h)return h;{const g=Do(i.visibleWrites,r);return Xl(g)?e:null!=e||Mf(g,St())?lc(g,e||Tt.EMPTY_NODE):null}}}function xf(i,r,e,o){return $y(i.writeTree,i.treePath,r,e,o)}function jg(i,r){return function(i,r,e){let o=Tt.EMPTY_NODE;const u=ca(i.visibleWrites,r);if(u)return u.isLeafNode()||u.forEachChild(hn,(h,g)=>{o=o.updateImmediateChild(h,g)}),o;if(e){const h=Do(i.visibleWrites,r);return e.forEachChild(hn,(g,C)=>{const D=lc(Do(h,new Pt(g)),C);o=o.updateImmediateChild(g,D)}),Lg(h).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return Lg(Do(i.visibleWrites,r)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(i.writeTree,i.treePath,r)}function Hg(i,r,e,o){return function(i,r,e,o,u){(0,F.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const h=dn(r,e);if(Mf(i.visibleWrites,h))return null;{const g=Do(i.visibleWrites,h);return Xl(g)?u.getChild(e):lc(g,u.getChild(e))}}(i.writeTree,i.treePath,r,e,o)}function Of(i,r){return function(i,r){return ca(i.visibleWrites,r)}(i.writeTree,dn(i.treePath,r))}function $g(i,r,e){return function(i,r,e,o){const u=dn(r,e),h=ca(i.visibleWrites,u);return null!=h?h:o.isCompleteForChild(e)?lc(Do(i.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,r,e)}function pt(i,r){return Wg(dn(i.treePath,r),i.writeTree)}function Wg(i,r){return{treePath:i,writeTree:r}}class Gy{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,o=r.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const h=u.type;if("child_added"===e&&"child_removed"===h)this.changeMap.set(o,Ju(o,r.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===h)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===h)this.changeMap.set(o,Df(o,u.oldSnap));else if("child_changed"===e&&"child_added"===h)this.changeMap.set(o,ql(o,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==h)throw(0,F.g5)("Illegal combination of changes: "+r+" occurred after "+u);this.changeMap.set(o,Ju(o,r.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const fs=new class{getCompleteChild(r){return null}getChildAfterChild(r,e,o){return null}};class kf{constructor(r,e,o=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new Io(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $g(this.writes_,r,o)}}getChildAfterChild(r,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jl(this.viewCache_),h=function(i,r,e,o,u,h){return function(i,r,e,o,u,h,g){let C;const D=Do(i.visibleWrites,r),R=ca(D,St());if(null!=R)C=R;else{if(null==e)return[];C=lc(D,e)}if(C=C.withIndex(g),C.isEmpty()||C.isLeafNode())return[];{const W=[],U=g.getCompare(),ne=h?C.getReverseIteratorFrom(o,g):C.getIteratorFrom(o,g);let Ie=ne.getNext();for(;Ie&&W.length<u;)0!==U(Ie,o)&&W.push(Ie),Ie=ne.getNext();return W}}(i.writeTree,i.treePath,r,e,o,u,h)}(this.writes_,u,e,1,o,r);return 0===h.length?null:h[0]}}function Zg(i,r,e,o,u,h){const g=r.eventCache;if(null!=Of(o,e))return r;{let C,D;if(Rt(e))if((0,F.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const R=Jl(r),U=jg(o,R instanceof Tt?R:Tt.EMPTY_NODE);C=i.filter.updateFullNode(r.eventCache.getNode(),U,h)}else{const R=xf(o,Jl(r));C=i.filter.updateFullNode(r.eventCache.getNode(),R,h)}else{const R=bt(e);if(".priority"===R){(0,F.hu)(1===Qn(e),"Can't have a priority with additional path components");const W=g.getNode();D=r.serverCache.getNode();const U=Hg(o,e,W,D);C=null!=U?i.filter.updatePriority(W,U):g.getNode()}else{const W=Gt(e);let U;if(g.isCompleteForChild(R)){D=r.serverCache.getNode();const ne=Hg(o,e,g.getNode(),D);U=null!=ne?g.getNode().getImmediateChild(R).updateChild(W,ne):g.getNode().getImmediateChild(R)}else U=$g(o,R,r.serverCache);C=null!=U?i.filter.updateChild(g.getNode(),R,U,W,u,h):g.getNode()}}return sc(r,C,g.isFullyInitialized()||Rt(e),i.filter.filtersNodes())}}function uc(i,r,e,o,u,h,g,C){const D=r.serverCache;let R;const W=g?i.filter:i.filter.getIndexedFilter();if(Rt(e))R=W.updateFullNode(D.getNode(),o,null);else if(W.filtersNodes()&&!D.isFiltered()){const Ie=D.getNode().updateChild(e,o);R=W.updateFullNode(D.getNode(),Ie,null)}else{const Ie=bt(e);if(!D.isCompleteForPath(e)&&Qn(e)>1)return r;const Le=Gt(e),mt=D.getNode().getImmediateChild(Ie).updateChild(Le,o);R=".priority"===Ie?W.updatePriority(D.getNode(),mt):W.updateChild(D.getNode(),Ie,mt,Le,fs,null)}const U=Vy(r,R,D.isFullyInitialized()||Rt(e),W.filtersNodes());return Zg(i,U,e,u,new kf(u,U,h),C)}function zy(i,r,e,o,u,h,g){const C=r.eventCache;let D,R;const W=new kf(u,r,h);if(Rt(e))R=i.filter.updateFullNode(r.eventCache.getNode(),o,g),D=sc(r,R,!0,i.filter.filtersNodes());else{const U=bt(e);if(".priority"===U)R=i.filter.updatePriority(r.eventCache.getNode(),o),D=sc(r,R,C.isFullyInitialized(),C.isFiltered());else{const ne=Gt(e),Ie=C.getNode().getImmediateChild(U);let Le;if(Rt(ne))Le=o;else{const at=W.getCompleteChild(U);Le=null!=at?".priority"===Wl(ne)&&at.getChild(gf(ne)).isEmpty()?at:at.updateChild(ne,o):Tt.EMPTY_NODE}D=Ie.equals(Le)?r:sc(r,i.filter.updateChild(C.getNode(),U,Le,ne,W,g),C.isFullyInitialized(),i.filter.filtersNodes())}}return D}function qg(i,r){return i.eventCache.isCompleteForChild(r)}function To(i,r,e){return e.foreach((o,u)=>{r=r.updateChild(o,u)}),r}function cc(i,r,e,o,u,h,g,C){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let R,D=r;R=Rt(e)?o:new fn(null).setTree(e,o);const W=r.serverCache.getNode();return R.children.inorderTraversal((U,ne)=>{if(W.hasChild(U)){const Le=To(0,r.serverCache.getNode().getImmediateChild(U),ne);D=uc(i,D,new Pt(U),Le,u,h,g,C)}}),R.children.inorderTraversal((U,ne)=>{const Ie=!r.serverCache.isCompleteForChild(U)&&void 0===ne.value;if(!W.hasChild(U)&&!Ie){const at=To(0,r.serverCache.getNode().getImmediateChild(U),ne);D=uc(i,D,new Pt(U),at,u,h,g,C)}}),D}class l0{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Sg(o.getIndex()),h=function(i){return i.loadsAllData()?new Sg(i.getIndex()):i.hasLimit()?new Xu(i):new Pd(i)}(o);this.processor_=function(i){return{filter:i}}(h);const g=e.serverCache,C=e.eventCache,D=u.updateFullNode(Tt.EMPTY_NODE,g.getNode(),null),R=h.updateFullNode(Tt.EMPTY_NODE,C.getNode(),null),W=new Io(D,g.isFullyInitialized(),u.filtersNodes()),U=new Io(R,C.isFullyInitialized(),h.filtersNodes());this.viewCache_=Ld(U,W),this.eventGenerator_=new Qb(this.query_)}get query(){return this.query_}}function u0(i,r){const e=Jl(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Rt(r)&&!e.getImmediateChild(bt(r)).isEmpty())?e.getChild(r):null}function c0(i){return 0===i.eventRegistrations_.length}function Yg(i,r,e){const o=[];if(e){(0,F.hu)(null==r,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(h=>{const g=h.createCancelEvent(e,u);g&&o.push(g)})}if(r){let u=[];for(let h=0;h<i.eventRegistrations_.length;++h){const g=i.eventRegistrations_[h];if(g.matches(r)){if(r.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(h+1));break}}else u.push(g)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function Ky(i,r,e,o){r.type===hs.MERGE&&null!==r.source.queryId&&((0,F.hu)(Jl(i.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Ql(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,h=function(i,r,e,o,u){const h=new Gy;let g,C;if(e.type===hs.OVERWRITE){const R=e;R.source.fromUser?g=zy(i,r,R.path,R.snap,o,u,h):((0,F.hu)(R.source.fromServer,"Unknown source."),C=R.source.tagged||r.serverCache.isFiltered()&&!Rt(R.path),g=uc(i,r,R.path,R.snap,o,u,C,h))}else if(e.type===hs.MERGE){const R=e;R.source.fromUser?g=function(i,r,e,o,u,h,g){let C=r;return o.foreach((D,R)=>{const W=dn(e,D);qg(r,bt(W))&&(C=zy(i,C,W,R,u,h,g))}),o.foreach((D,R)=>{const W=dn(e,D);qg(r,bt(W))||(C=zy(i,C,W,R,u,h,g))}),C}(i,r,R.path,R.children,o,u,h):((0,F.hu)(R.source.fromServer,"Unknown source."),C=R.source.tagged||r.serverCache.isFiltered(),g=cc(i,r,R.path,R.children,o,u,C,h))}else if(e.type===hs.ACK_USER_WRITE){const R=e;g=R.revert?function(i,r,e,o,u,h){let g;if(null!=Of(o,e))return r;{const C=new kf(o,r,u),D=r.eventCache.getNode();let R;if(Rt(e)||".priority"===bt(e)){let W;if(r.serverCache.isFullyInitialized())W=xf(o,Jl(r));else{const U=r.serverCache.getNode();(0,F.hu)(U instanceof Tt,"serverChildren would be complete if leaf node"),W=jg(o,U)}W=W,R=i.filter.updateFullNode(D,W,h)}else{const W=bt(e);let U=$g(o,W,r.serverCache);null==U&&r.serverCache.isCompleteForChild(W)&&(U=D.getImmediateChild(W)),R=null!=U?i.filter.updateChild(D,W,U,Gt(e),C,h):r.eventCache.getNode().hasChild(W)?i.filter.updateChild(D,W,Tt.EMPTY_NODE,Gt(e),C,h):D,R.isEmpty()&&r.serverCache.isFullyInitialized()&&(g=xf(o,Jl(r)),g.isLeafNode()&&(R=i.filter.updateFullNode(R,g,h)))}return g=r.serverCache.isFullyInitialized()||null!=Of(o,St()),sc(r,R,g,i.filter.filtersNodes())}}(i,r,R.path,o,u,h):function(i,r,e,o,u,h,g){if(null!=Of(u,e))return r;const C=r.serverCache.isFiltered(),D=r.serverCache;if(null!=o.value){if(Rt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return uc(i,r,e,D.getNode().getChild(e),u,h,C,g);if(Rt(e)){let R=new fn(null);return D.getNode().forEachChild(Co,(W,U)=>{R=R.set(new Pt(W),U)}),cc(i,r,e,R,u,h,C,g)}return r}{let R=new fn(null);return o.foreach((W,U)=>{const ne=dn(e,W);D.isCompleteForPath(ne)&&(R=R.set(W,D.getNode().getChild(ne)))}),cc(i,r,e,R,u,h,C,g)}}(i,r,R.path,R.affectedTree,o,u,h)}else{if(e.type!==hs.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);g=function(i,r,e,o,u){const h=r.serverCache;return Zg(i,Vy(r,h.getNode(),h.isFullyInitialized()||Rt(e),h.isFiltered()),e,o,fs,u)}(i,r,e.path,o,h)}const D=h.getChanges();return function(i,r,e){const o=r.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Ql(i);(e.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&e.push(xy(Ql(r)))}}(r,g,D),{viewCache:g,changes:D}}(i.processor_,u,r,e,o);return function(i,r){(0,F.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,h.viewCache),(0,F.hu)(h.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=h.viewCache,d0(i,h.changes,h.viewCache.eventCache.getNode(),null)}function d0(i,r,e,o){return function(i,r,e,o){const u=[],h=[];return r.forEach(g=>{"child_changed"===g.type&&i.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&h.push(function(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(g.childName,g.snapshotNode))}),ic(i,u,"child_removed",r,o,e),ic(i,u,"child_added",r,o,e),ic(i,u,"child_moved",h,o,e),ic(i,u,"child_changed",r,o,e),ic(i,u,"value",r,o,e),u}(i.eventGenerator_,r,e,o?[o]:i.eventRegistrations_)}let Jg,Ud;class h0{constructor(){this.views=new Map}}function Yy(i,r,e,o){const u=r.source.queryId;if(null!==u){const h=i.views.get(u);return(0,F.hu)(null!=h,"SyncTree gave us an op for an invalid query."),Ky(h,r,e,o)}{let h=[];for(const g of i.views.values())h=h.concat(Ky(g,r,e,o));return h}}function f0(i,r,e,o,u){const g=i.views.get(r._queryIdentifier);if(!g){let C=xf(e,u?o:null),D=!1;C?D=!0:o instanceof Tt?(C=jg(e,o),D=!1):(C=Tt.EMPTY_NODE,D=!1);const R=Ld(new Io(C,D,!1),new Io(o,u,!1));return new l0(r,R)}return g}function p0(i){const r=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function ti(i,r){let e=null;for(const o of i.views.values())e=e||u0(o,r);return e}function Lf(i,r){return r._queryParams.loadsAllData()?dc(i):i.views.get(r._queryIdentifier)}function Qy(i,r){return null!=Lf(i,r)}function ha(i){return null!=dc(i)}function dc(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Za=1;class em{constructor(r){this.listenProvider_=r,this.syncPointTree_=new fn(null),this.pendingWriteTree_={visibleWrites:Pi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tm(i,r,e,o,u){return function(i,r,e,o,u){(0,F.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:r,snap:e,writeId:o,visible:u}),u&&(i.visibleWrites=oc(i.visibleWrites,r,e)),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o,u),u?pc(i,new ua({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function Ao(i,r,e=!1){const o=function(i,r){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function(i,r){const e=i.allWrites.findIndex(C=>C.writeId===r);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let u=o.visible,h=!1,g=i.allWrites.length-1;for(;u&&g>=0;){const C=i.allWrites[g];C.visible&&(g>=e&&zD(C,o.path)?u=!1:Bs(o.path,C.path)&&(h=!0)),g--}return!!u&&(h?(function(i){i.visibleWrites=Bg(i.allWrites,e0,St()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=Vd(i.visibleWrites,o.path):L(o.children,D=>{i.visibleWrites=Vd(i.visibleWrites,dn(o.path,D))}),!0))}(i.pendingWriteTree_,r)){let h=new fn(null);return null!=o.snap?h=h.set(St(),!0):L(o.children,g=>{h=h.set(new Pt(g),!0)}),pc(i,new Sf(o.path,h,e))}return[]}function Bd(i,r,e){return pc(i,new ua({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function eu(i,r,e,o){const u=r._path,h=i.syncPointTree_.get(u);let g=[];if(h&&("default"===r._queryIdentifier||Qy(h,r))){const C=function(i,r,e,o){const u=r._queryIdentifier,h=[];let g=[];const C=ha(i);if("default"===u)for(const[D,R]of i.views.entries())g=g.concat(Yg(R,e,o)),c0(R)&&(i.views.delete(D),R.query._queryParams.loadsAllData()||h.push(R.query));else{const D=i.views.get(u);D&&(g=g.concat(Yg(D,e,o)),c0(D)&&(i.views.delete(u),D.query._queryParams.loadsAllData()||h.push(D.query)))}return C&&!ha(i)&&h.push(new((0,F.hu)(Jg,"Reference.ts has not been loaded"),Jg)(r._repo,r._path)),{removed:h,events:g}}(h,r,e,o);(function(i){return 0===i.views.size})(h)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const D=C.removed;g=C.events;const R=-1!==D.findIndex(U=>U._queryParams.loadsAllData()),W=i.syncPointTree_.findOnPath(u,(U,ne)=>ha(ne));if(R&&!W){const U=i.syncPointTree_.subtree(u);if(!U.isEmpty()){const ne=function(i){return i.fold((r,e,o)=>{if(e&&ha(e))return[dc(e)];{let u=[];return e&&(u=p0(e)),L(o,(h,g)=>{u=u.concat(g)}),u}})}(U);for(let Ie=0;Ie<ne.length;++Ie){const Le=ne[Ie],at=Le.query,mt=Vf(i,Le);i.listenProvider_.startListening(_c(at),gc(i,at),mt.hashFn,mt.onComplete)}}}if(!W&&D.length>0&&!o)if(R){const U=null;i.listenProvider_.stopListening(_c(r),U)}else D.forEach(U=>{const ne=i.queryToTagMap.get(jd(U));i.listenProvider_.stopListening(_c(U),ne)});!function(i,r){for(let e=0;e<r.length;++e){const o=r[e];if(!o._queryParams.loadsAllData()){const u=jd(o),h=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(h)}}}(i,D)}return g}function tu(i,r,e){const o=r._path;let u=null,h=!1;i.syncPointTree_.foreachOnPath(o,(U,ne)=>{const Ie=ur(U,o);u=u||ti(ne,Ie),h=h||ha(ne)});let C,g=i.syncPointTree_.get(o);g?(h=h||ha(g),u=u||ti(g,St())):(g=new h0,i.syncPointTree_=i.syncPointTree_.set(o,g)),null!=u?C=!0:(C=!1,u=Tt.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((ne,Ie)=>{const Le=ti(Ie,St());Le&&(u=u.updateImmediateChild(ne,Le))}));const D=Qy(g,r);if(!D&&!r._queryParams.loadsAllData()){const U=jd(r);(0,F.hu)(!i.queryToTagMap.has(U),"View does not exist, but we have a tag");const ne=Za++;i.queryToTagMap.set(U,ne),i.tagToQueryMap.set(ne,U)}let W=function(i,r,e,o,u,h){const g=f0(i,r,o,u,h);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,g),function(i,r){i.eventRegistrations_.push(r)}(g,e),function(i,r){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hn,(h,g)=>{o.push(ql(h,g))}),e.isFullyInitialized()&&o.push(xy(e.getNode())),d0(i,o,e.getNode(),r)}(g,e)}(g,r,e,Nf(i.pendingWriteTree_,o),u,C);if(!D&&!h){const U=Lf(g,r);W=W.concat(function(i,r,e){const o=r._path,u=gc(i,r),h=Vf(i,e),g=i.listenProvider_.startListening(_c(r),u,h.hashFn,h.onComplete),C=i.syncPointTree_.subtree(o);if(u)(0,F.hu)(!ha(C.value),"If we're adding a query, it shouldn't be shadowed");else{const D=C.fold((R,W,U)=>{if(!Rt(R)&&W&&ha(W))return[dc(W).query];{let ne=[];return W&&(ne=ne.concat(p0(W).map(Ie=>Ie.query))),L(U,(Ie,Le)=>{ne=ne.concat(Le)}),ne}});for(let R=0;R<D.length;++R){const W=D[R];i.listenProvider_.stopListening(_c(W),gc(i,W))}}return g}(i,r,U))}return W}function qa(i,r,e){const u=i.pendingWriteTree_,h=i.syncPointTree_.findOnPath(r,(g,C)=>{const R=ti(C,ur(g,r));if(R)return R});return $y(u,r,h,e,!0)}function pc(i,r){return rm(r,i.syncPointTree_,null,Nf(i.pendingWriteTree_,St()))}function rm(i,r,e,o){if(Rt(i.path))return im(i,r,e,o);{const u=r.get(St());null==e&&null!=u&&(e=ti(u,St()));let h=[];const g=bt(i.path),C=i.operationForChild(g),D=r.children.get(g);if(D&&C){const R=e?e.getImmediateChild(g):null,W=pt(o,g);h=h.concat(rm(C,D,R,W))}return u&&(h=h.concat(Yy(u,i,o,e))),h}}function im(i,r,e,o){const u=r.get(St());null==e&&null!=u&&(e=ti(u,St()));let h=[];return r.children.inorderTraversal((g,C)=>{const D=e?e.getImmediateChild(g):null,R=pt(o,g),W=i.operationForChild(g);W&&(h=h.concat(im(W,C,D,R)))}),u&&(h=h.concat(Yy(u,i,o,e))),h}function Vf(i,r){const e=r.query,o=gc(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(r)||Tt.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function(i,r,e){const o=mc(i,e);if(o){const u=sm(o),h=u.path,g=u.queryId,C=ur(h,r);return Uf(i,h,new rc(Fg(g),C))}return[]}(i,e._path,o):function(i,r){return pc(i,new rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,e._path);{const h=function(i,r){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(u,e);return eu(i,e,null,h)}}}}function gc(i,r){const e=jd(r);return i.queryToTagMap.get(e)}function jd(i){return i._path.toString()+"$"+i._queryIdentifier}function mc(i,r){return i.tagToQueryMap.get(r)}function sm(i){const r=i.indexOf("$");return(0,F.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Pt(i.substr(0,r))}}function Uf(i,r,e){const o=i.syncPointTree_.get(r);return(0,F.hu)(o,"Missing sync point for query tag that we're tracking"),Yy(o,e,Nf(i.pendingWriteTree_,r),null)}function _c(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,F.hu)(Ud,"Reference.ts has not been loaded"),Ud)(i._repo,i._path):i}class om{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new om(e)}node(){return this.node_}}class am{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=dn(this.path_,r);return new am(this.syncTree_,e)}node(){return qa(this.syncTree_,this.path_)}}const tv=function(i,r,e){return i&&"object"==typeof i?((0,F.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?v0(i[".sv"],r,e):"object"==typeof i[".sv"]?rT(i[".sv"],r):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},v0=function(i,r,e){switch(i){case"timestamp":return e.timestamp;default:(0,F.hu)(!1,"Unexpected server value: "+i)}},rT=function(i,r,e){i.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,F.hu)(!1,"Unexpected increment value: "+o);const u=r.node();if((0,F.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const g=u.getValue();return"number"!=typeof g?o:g+o},C0=function(i,r,e,o){return nv(r,new am(e,i),o)},Bf=function(i,r,e){return nv(i,new om(r),e)};function nv(i,r,e){const o=i.getPriority().val(),u=tv(o,r.getImmediateChild(".priority"),e);let h;if(i.isLeafNode()){const g=i,C=tv(g.getValue(),r,e);return C!==g.getValue()||u!==g.getPriority().val()?new Yu(C,Pn(u)):i}{const g=i;return h=g,u!==g.getPriority().val()&&(h=h.updatePriority(new Yu(u))),g.forEachChild(hn,(C,D)=>{const R=nv(D,r.getImmediateChild(C),e);R!==D&&(h=h.updateImmediateChild(C,R))}),h}}class lm{constructor(r="",e=null,o={children:{},childCount:0}){this.name=r,this.parent=e,this.node=o}}function yc(i,r){let e=r instanceof Pt?r:new Pt(r),o=i,u=bt(e);for(;null!==u;){const h=(0,F.DV)(o.node.children,u)||{children:{},childCount:0};o=new lm(u,o,h),e=Gt(e),u=bt(e)}return o}function Ka(i){return i.node.value}function um(i,r){i.node.value=r,cm(i)}function rv(i){return i.node.childCount>0}function Hd(i,r){L(i.node.children,(e,o)=>{r(new lm(e,i,o))})}function iv(i,r,e,o){e&&!o&&r(i),Hd(i,u=>{iv(u,r,!0,o)}),e&&o&&r(i)}function $d(i){return new Pt(null===i.parent?i.name:$d(i.parent)+"/"+i.name)}function cm(i){null!==i.parent&&function(i,r,e){const o=function(i){return void 0===Ka(i)&&!rv(i)}(e),u=(0,F.r3)(i.node.children,r);o&&u?(delete i.node.children[r],i.node.childCount--,cm(i)):!o&&!u&&(i.node.children[r]=e.node,i.node.childCount++,cm(i))}(i.parent,i.name,i)}const av=/[\[\].#$\/\u0000-\u001F\u007F]/,b0=/[\[\].#$\u0000-\u001F\u007F]/,ps=10485760,vc=function(i){return"string"==typeof i&&0!==i.length&&!av.test(i)},lv=function(i){return"string"==typeof i&&0!==i.length&&!b0.test(i)},jf=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!fo(i)||i&&"object"==typeof i&&(0,F.r3)(i,".sv")},Hs=function(i,r,e,o){o&&void 0===r||Wd((0,F.gK)(i,"value"),r,e)},Wd=function(i,r,e){const o=e instanceof Pt?new HD(e,i):e;if(void 0===r)throw new Error(i+"contains undefined "+Zl(o));if("function"==typeof r)throw new Error(i+"contains a function "+Zl(o)+" with contents = "+r.toString());if(fo(r))throw new Error(i+"contains "+r.toString()+" "+Zl(o));if("string"==typeof r&&r.length>ps/3&&(0,F.ug)(r)>ps)throw new Error(i+"contains a string greater than "+ps+" utf8 bytes "+Zl(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let u=!1,h=!1;if(L(r,(g,C)=>{if(".value"===g)u=!0;else if(".priority"!==g&&".sv"!==g&&(h=!0,!vc(g)))throw new Error(i+" contains an invalid key ("+g+") "+Zl(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,F.ug)(r),by(i)})(o,g),Wd(i,C,o),function(i){const r=i.parts_.pop();i.byteLength_-=(0,F.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&h)throw new Error(i+' contains ".value" child '+Zl(o)+" in addition to actual children.")}},uv=function(i,r,e,o){if(o&&void 0===r)return;const u=(0,F.gK)(i,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(u+" must be an object containing the children to replace.");const h=[];L(r,(g,C)=>{const D=new Pt(g);if(Wd(u,C,dn(e,D)),".priority"===Wl(D)&&!jf(C))throw new Error(u+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(D)}),function(i,r){let e,o;for(e=0;e<r.length;e++){o=r[e];const h=aa(o);for(let g=0;g<h.length;g++)if((".priority"!==h[g]||g!==h.length-1)&&!vc(h[g]))throw new Error(i+"contains an invalid key ("+h[g]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Gl);let u=null;for(e=0;e<r.length;e++){if(o=r[e],null!==u&&Bs(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,h)},Gd=function(i,r,e){if(!e||void 0!==r){if(fo(r))throw new Error((0,F.gK)(i,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!jf(r))throw new Error((0,F.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zd=function(i,r,e,o){if(!(o&&void 0===e||vc(e)))throw new Error((0,F.gK)(i,r)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zd=function(i,r,e,o){if(!(o&&void 0===e||lv(e)))throw new Error((0,F.gK)(i,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_i=function(i,r){if(".info"===bt(r))throw new Error(i+" failed = Can't modify data under /.info/")},cv=function(i,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!vc(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),lv(i)}(e))throw new Error((0,F.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cc(i,r){let e=null;for(let o=0;o<r.length;o++){const u=r[o],h=u.getPath();null!==e&&!zl(h,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:h}),e.events.push(u)}e&&i.eventLists_.push(e)}function $f(i,r,e){Cc(i,e),dv(i,o=>zl(o,r))}function gs(i,r,e){Cc(i,e),dv(i,o=>Bs(o,r)||Bs(r,o))}function dv(i,r){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(r(u.path)?(hm(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function hm(i){for(let r=0;r<i.events.length;r++){const e=i.events[r];if(null!==e){i.events[r]=null;const o=e.getEventRunner();Bn&&sn("event: "+e.toString()),Yn(o)}}}const D0="repo_interrupt";class hv{constructor(r,e,o,u){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tc(),this.transactionQueueTree_=new lm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fm(i){const e=i.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ec(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:fm(i)})}function pm(i,r,e,o,u){i.dataUpdateCount++;const h=new Pt(r);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,e):e;let g=[];if(u)if(o){const D=(0,F.UI)(e,R=>Pn(R));g=function(i,r,e,o){const u=mc(i,o);if(u){const h=sm(u),g=h.path,C=h.queryId,D=ur(g,r),R=fn.fromObject(e);return Uf(i,g,new Kl(Fg(C),D,R))}return[]}(i.serverSyncTree_,h,D,u)}else{const D=Pn(e);g=function(i,r,e,o){const u=mc(i,o);if(null!=u){const h=sm(u),g=h.path,C=h.queryId,D=ur(g,r);return Uf(i,g,new ua(Fg(C),D,e))}return[]}(i.serverSyncTree_,h,D,u)}else if(o){const D=(0,F.UI)(e,R=>Pn(R));g=function(i,r,e){const o=fn.fromObject(e);return pc(i,new Kl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,h,D)}else{const D=Pn(e);g=Bd(i.serverSyncTree_,h,D)}let C=h;g.length>0&&(C=wc(i,h)),gs(i.eventQueue_,C,g)}function So(i,r){gm(i,"connected",r),!1===r&&function(i){bc(i,"onDisconnectEvents");const r=Ec(i),e=tc();Fy(i.onDisconnect_,St(),(u,h)=>{const g=C0(u,h,i.serverSyncTree_,r);za(e,u,g)});let o=[];Fy(e,St(),(u,h)=>{o=o.concat(Bd(i.serverSyncTree_,u,h));const g=bv(i,u);wc(i,g)}),i.onDisconnect_=tc(),gs(i.eventQueue_,St(),o)}(i)}function gm(i,r,e){const o=new Pt("/.info/"+r),u=Pn(e);i.infoData_.updateSnapshot(o,u);const h=Bd(i.infoSyncTree_,o,u);gs(i.eventQueue_,o,h)}function Gf(i){return i.nextWriteId_++}function Ya(i,r,e,o,u){bc(i,"set",{path:r.toString(),value:e,priority:o});const h=Ec(i),g=Pn(e,o),C=qa(i.serverSyncTree_,r),D=Bf(g,C,h),R=Gf(i),W=tm(i.serverSyncTree_,r,D,R,!0);Cc(i.eventQueue_,W),i.server_.put(r.toString(),g.val(!0),(ne,Ie)=>{const Le="ok"===ne;Le||yr("set at "+r+" failed: "+ne);const at=Ao(i.serverSyncTree_,R,!Le);gs(i.eventQueue_,r,at),Qa(0,u,ne,Ie)});const U=bv(i,r);wc(i,U),gs(i.eventQueue_,U,[])}function Kd(i,r,e){i.server_.onDisconnectCancel(r.toString(),(o,u)=>{"ok"===o&&Af(i.onDisconnect_,r),Qa(0,e,o,u)})}function gv(i,r,e,o){const u=Pn(e);i.server_.onDisconnectPut(r.toString(),u.val(!0),(h,g)=>{"ok"===h&&za(i.onDisconnect_,r,u),Qa(0,o,h,g)})}function zf(i,r,e){let o;o=".info"===bt(r._path)?eu(i.infoSyncTree_,r,e):eu(i.serverSyncTree_,r,e),$f(i.eventQueue_,r._path,o)}function _v(i){i.persistentConnection_&&i.persistentConnection_.interrupt(D0)}function bc(i,...r){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),sn(e,...r)}function Qa(i,r,e,o){r&&Yn(()=>{if("ok"===e)r(null);else{const u=(e||"error").toUpperCase();let h=u;o&&(h+=": "+o);const g=new Error(h);g.code=u,r(g)}})}function Ja(i,r,e){return qa(i.serverSyncTree_,r,e)||Tt.EMPTY_NODE}function Yd(i,r=i.transactionQueueTree_){if(r||Zf(i,r),Ka(r)){const e=Cv(i,r);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function(i,r,e){const o=e.map(R=>R.currentWriteId),u=Ja(i,r,o);let h=u;const g=u.hash();for(let R=0;R<e.length;R++){const W=e[R];(0,F.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const U=ur(r,W.path);h=h.updateChild(U,W.currentOutputSnapshotRaw)}const C=h.val(!0),D=r;i.server_.put(D.toString(),C,R=>{bc(i,"transaction put response",{path:D.toString(),status:R});let W=[];if("ok"===R){const U=[];for(let ne=0;ne<e.length;ne++)e[ne].status=2,W=W.concat(Ao(i.serverSyncTree_,e[ne].currentWriteId)),e[ne].onComplete&&U.push(()=>e[ne].onComplete(null,!0,e[ne].currentOutputSnapshotResolved)),e[ne].unwatcher();Zf(i,yc(i.transactionQueueTree_,r)),Yd(i,i.transactionQueueTree_),gs(i.eventQueue_,r,W);for(let ne=0;ne<U.length;ne++)Yn(U[ne])}else{if("datastale"===R)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{yr("transaction at "+D.toString()+" failed: "+R);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=R}wc(i,r)}},g)}(i,$d(r),e)}else rv(r)&&Hd(r,e=>{Yd(i,e)})}function wc(i,r){const e=vv(i,r),o=$d(e);return function(i,r,e){if(0===r.length)return;const o=[];let u=[];const g=r.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<r.length;C++){const D=r[C],R=ur(e,D.path);let U,W=!1;if((0,F.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)W=!0,U=D.abortReason,u=u.concat(Ao(i.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)W=!0,U="maxretry",u=u.concat(Ao(i.serverSyncTree_,D.currentWriteId,!0));else{const ne=Ja(i,D.path,g);D.currentInputSnapshot=ne;const Ie=r[C].update(ne.val());if(void 0!==Ie){Wd("transaction failed: Data returned ",Ie,D.path);let Le=Pn(Ie);"object"==typeof Ie&&null!=Ie&&(0,F.r3)(Ie,".priority")||(Le=Le.updatePriority(ne.getPriority()));const mt=D.currentWriteId,kn=Ec(i),Mt=Bf(Le,ne,kn);D.currentOutputSnapshotRaw=Le,D.currentOutputSnapshotResolved=Mt,D.currentWriteId=Gf(i),g.splice(g.indexOf(mt),1),u=u.concat(tm(i.serverSyncTree_,D.path,Mt,D.currentWriteId,D.applyLocally)),u=u.concat(Ao(i.serverSyncTree_,mt,!0))}else W=!0,U="nodata",u=u.concat(Ao(i.serverSyncTree_,D.currentWriteId,!0))}gs(i.eventQueue_,e,u),u=[],W&&(r[C].status=2,setTimeout(r[C].unwatcher,Math.floor(0)),r[C].onComplete&&o.push("nodata"===U?()=>r[C].onComplete(null,!1,r[C].currentInputSnapshot):()=>r[C].onComplete(new Error(U),!1,null)))}Zf(i,i.transactionQueueTree_);for(let C=0;C<o.length;C++)Yn(o[C]);Yd(i,i.transactionQueueTree_)}(i,Cv(i,e),o),o}function vv(i,r){let e,o=i.transactionQueueTree_;for(e=bt(r);null!==e&&void 0===Ka(o);)o=yc(o,e),e=bt(r=Gt(r));return o}function Cv(i,r){const e=[];return Ev(i,r,e),e.sort((o,u)=>o.order-u.order),e}function Ev(i,r,e){const o=Ka(r);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);Hd(r,u=>{Ev(i,u,e)})}function Zf(i,r){const e=Ka(r);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,um(r,e.length>0?e:void 0)}Hd(r,o=>{Zf(i,o)})}function bv(i,r){const e=$d(vv(i,r)),o=yc(i.transactionQueueTree_,r);return function(i,r,e){let o=i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,u=>{ym(i,u)}),ym(i,o),iv(o,u=>{ym(i,u)}),e}function ym(i,r){const e=Ka(r);if(e){const o=[];let u=[],h=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,F.hu)(h===g-1,"All SENT items should be at beginning of queue."),h=g,e[g].status=3,e[g].abortReason="set"):((0,F.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),u=u.concat(Ao(i.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===h?um(r,void 0):e.length=h+1,gs(i.eventQueue_,$d(r),u);for(let g=0;g<o.length;g++)Yn(o[g])}}const Qd=function(i,r){const e=sT(i),o=e.namespace;return"firebase.com"===e.domain&&jn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lf(e.host,e.secure,o,r,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new Pt(e.pathString)}},sT=function(i){let r="",e="",o="",u="",h="",g=!0,C="https",D=443;if("string"==typeof i){let R=i.indexOf("//");R>=0&&(C=i.substring(0,R-1),i=i.substring(R+2));let W=i.indexOf("/");-1===W&&(W=i.length);let U=i.indexOf("?");-1===U&&(U=i.length),r=i.substring(0,Math.min(W,U)),W<U&&(u=function(i){let r="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(h){}r+="/"+u}return r}(i.substring(W,U)));const ne=function(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):yr(`Invalid query segment '${e}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,U)));R=r.indexOf(":"),R>=0?(g="https"===C||"wss"===C,D=parseInt(r.substring(R+1),10)):R=r.length;const Ie=r.slice(0,R);if("localhost"===Ie.toLowerCase())e="localhost";else if(Ie.split(".").length<=2)e=Ie;else{const Le=r.indexOf(".");o=r.substring(0,Le).toLowerCase(),e=r.substring(Le+1),h=o}"ns"in ne&&(h=ne.ns)}return{host:r,port:D,domain:e,subdomain:o,secure:g,scheme:C,pathString:u,namespace:h}};class Ro{constructor(r,e,o,u){this.eventType=r,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class qf{constructor(r,e,o){this.eventRegistration=r,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Kf{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class R0{constructor(r,e){this._repo=r,this._path=e}cancel(){const r=new F.BH;return Kd(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){_i("OnDisconnect.remove",this._path);const r=new F.BH;return gv(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){_i("OnDisconnect.set",this._path),Hs("OnDisconnect.set",r,this._path,!1);const e=new F.BH;return gv(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}setWithPriority(r,e){_i("OnDisconnect.setWithPriority",this._path),Hs("OnDisconnect.setWithPriority",r,this._path,!1),Gd("OnDisconnect.setWithPriority",e,!1);const o=new F.BH;return function(i,r,e,o,u){const h=Pn(e,o);i.server_.onDisconnectPut(r.toString(),h.val(!0),(g,C)=>{"ok"===g&&za(i.onDisconnect_,r,h),Qa(0,u,g,C)})}(this._repo,this._path,r,e,o.wrapCallback(()=>{})),o.promise}update(r){_i("OnDisconnect.update",this._path),uv("OnDisconnect.update",r,this._path,!1);const e=new F.BH;return function(i,r,e,o){if((0,F.xb)(e))return sn("onDisconnect().update() called with empty data.  Don't do anything."),void Qa(0,o,"ok",void 0);i.server_.onDisconnectMerge(r.toString(),e,(u,h)=>{"ok"===u&&L(e,(g,C)=>{const D=Pn(C);za(i.onDisconnect_,dn(r,g),D)}),Qa(0,o,u,h)})}(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}}class yi{constructor(r,e,o,u){this._repo=r,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return Rt(this._path)?null:Wl(this._path)}get ref(){return new Fi(this._repo,this._path)}get _queryIdentifier(){const r=ec(this._queryParams),e=I(r);return"{}"===e?"default":e}get _queryObject(){return ec(this._queryParams)}isEqual(r){if(!((r=(0,F.m9)(r))instanceof yi))return!1;const e=this._repo===r._repo,o=zl(this._path,r._path);return e&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let r="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(r+="/"+encodeURIComponent(String(i.pieces_[e])));return r||"/"}(this._path)}}function Yf(i,r){if(!0===i._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function fa(i){let r=null,e=null;if(i.hasStart()&&(r=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Co){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==vr)throw new Error(o);if("string"!=typeof r)throw new Error(u)}if(i.hasEnd()){if(i.getIndexEndName()!==ar)throw new Error(o);if("string"!=typeof e)throw new Error(u)}}else if(i.getIndex()===hn){if(null!=r&&!jf(r)||null!=e&&!jf(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(i.getIndex()instanceof Ga||i.getIndex()===Dg,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jd(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fi extends yi{constructor(r,e){super(r,e,new Oi,!1)}get parent(){const r=gf(this._path);return null===r?null:new Fi(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Xa{constructor(r,e,o){this._node=r,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new Pt(r),o=$s(this.ref,r);return new Xa(this._node.getChild(e),o,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>r(new Xa(u,$s(this.ref,o),hn)))}hasChild(r){const e=new Pt(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Iv(i,r){return(i=(0,F.m9)(i))._checkNotDeleted("ref"),void 0!==r?$s(i._root,r):i._root}function Dv(i,r){(i=(0,F.m9)(i))._checkNotDeleted("refFromURL");const e=Qd(r,i._repo.repoInfo_.nodeAdmin);cv("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&jn("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),Iv(i,e.path.toString())}function $s(i,r){return null===bt((i=(0,F.m9)(i))._path)?((e=r)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zd("child","path",e,!1)):Zd("child","path",r,!1),new Fi(i._repo,dn(i._path,r));var e}function Qf(i,r){i=(0,F.m9)(i),_i("set",i._path),Hs("set",r,i._path,!1);const e=new F.BH;return Ya(i._repo,i._path,r,null,e.wrapCallback(()=>{})),e.promise}function N0(i,r){uv("update",r,i._path,!1);const e=new F.BH;return function(i,r,e,o){bc(i,"update",{path:r.toString(),value:e});let u=!0;const h=Ec(i),g={};if(L(e,(C,D)=>{u=!1,g[C]=C0(dn(r,C),Pn(D),i.serverSyncTree_,h)}),u)sn("update() called with empty data.  Don't do anything."),Qa(0,o,"ok",void 0);else{const C=Gf(i),D=function(i,r,e,o){!function(i,r,e,o){(0,F.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:r,children:e,writeId:o,visible:!0}),i.visibleWrites=ac(i.visibleWrites,r,e),i.lastWriteId=o}(i.pendingWriteTree_,r,e,o);const u=fn.fromObject(e);return pc(i,new Kl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,u))}(i.serverSyncTree_,r,g,C);Cc(i.eventQueue_,D),i.server_.merge(r.toString(),e,(R,W)=>{const U="ok"===R;U||yr("update at "+r+" failed: "+R);const ne=Ao(i.serverSyncTree_,C,!U),Ie=ne.length>0?wc(i,r):r;gs(i.eventQueue_,Ie,ne),Qa(0,o,R,W)}),L(e,R=>{const W=bv(i,dn(r,R));wc(i,W)}),gs(i.eventQueue_,r,[])}}(i._repo,i._path,r,e.wrapCallback(()=>{})),e.promise}function x0(i){return function(i,r){const e=function(i,r){const e=r._path;let o=null;i.syncPointTree_.foreachOnPath(e,(R,W)=>{const U=ur(R,e);o=o||ti(W,U)});let u=i.syncPointTree_.get(e);u?o=o||ti(u,St()):(u=new h0,i.syncPointTree_=i.syncPointTree_.set(e,u));const h=null!=o,g=h?new Io(o,!0,!1):null;return function(i){return Ql(i.viewCache_)}(f0(u,r,Nf(i.pendingWriteTree_,r._path),h?g.getNode():Tt.EMPTY_NODE,h))}(i.serverSyncTree_,r);return null!=e?Promise.resolve(e):i.server_.get(r).then(o=>{const u=Pn(o).withIndex(r._queryParams.getIndex()),h=Bd(i.serverSyncTree_,r._path,u);return $f(i.eventQueue_,r._path,h),Promise.resolve(u)},o=>(bc(i,"get for query "+(0,F.Pz)(r)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,F.m9)(i))._repo,i).then(r=>new Xa(r,new Fi(i._repo,i._path),i._queryParams.getIndex()))}class Jf{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const o=e._queryParams.getIndex();return new Ro("value",this,new Xa(r.snapshotNode,new Fi(e._repo,e._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new qf(this,r,e):null}matches(r){return r instanceof Jf&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Xd{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new qf(this,r,e):null}createEvent(r,e){(0,F.hu)(null!=r.childName,"Child events should have a childName.");const o=$s(new Fi(e._repo,e._path),r.childName),u=e._queryParams.getIndex();return new Ro(r.type,this,new Xa(r.snapshotNode,o,u),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Xd&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xf(i,r,e,o,u){let h;if("object"==typeof o&&(h=void 0,u=o),"function"==typeof o&&(h=o),u&&u.onlyOnce){const D=e,R=(W,U)=>{zf(i._repo,i,C),D(W,U)};R.userCallback=e.userCallback,R.context=e.context,e=R}const g=new Kf(e,h||void 0),C="value"===r?new Jf(g):new Xd(r,g);return function(i,r,e){let o;o=".info"===bt(r._path)?tu(i.infoSyncTree_,r,e):tu(i.serverSyncTree_,r,e),$f(i.eventQueue_,r._path,o)}(i._repo,i,C),()=>zf(i._repo,i,C)}function ep(i,r,e,o){return Xf(i,"value",r,e,o)}function Mv(i,r,e,o){return Xf(i,"child_added",r,e,o)}function Nv(i,r,e,o){return Xf(i,"child_changed",r,e,o)}function O0(i,r,e,o){return Xf(i,"child_moved",r,e,o)}function P0(i,r,e,o){return Xf(i,"child_removed",r,e,o)}function tp(i,r,e){let o=null;const u=e?new Kf(e):null;"value"===r?o=new Jf(u):r&&(o=new Xd(r,u)),zf(i._repo,i,o)}class Ws{}class vm extends Ws{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Hs("endAt",this._value,r._path,!0);const e=kd(r._queryParams,this._value,this._key);if(Jd(e),fa(e),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yi(r._repo,r._path,e,r._orderByCalled)}}class oT extends Ws{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Hs("endBefore",this._value,r._path,!1);const e=function(i,r,e){let o,u;return i.index_===Co?("string"==typeof r&&(r=Ny(r)),u=kd(i,r,e)):(o=null==e?vr:Ny(e),u=kd(i,r,o)),u.endBeforeSet_=!0,u}(r._queryParams,this._value,this._key);if(Jd(e),fa(e),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yi(r._repo,r._path,e,r._orderByCalled)}}class k0 extends Ws{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Hs("startAt",this._value,r._path,!0);const e=Py(r._queryParams,this._value,this._key);if(Jd(e),fa(e),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yi(r._repo,r._path,e,r._orderByCalled)}}class lT extends Ws{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){Hs("startAfter",this._value,r._path,!1);const e=function(i,r,e){let o;if(i.index_===Co)"string"==typeof r&&(r=Ag(r)),o=Py(i,r,e);else{let u;u=null==e?ar:Ag(e),o=Py(i,r,u)}return o.startAfterSet_=!0,o}(r._queryParams,this._value,this._key);if(Jd(e),fa(e),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yi(r._repo,r._path,e,r._orderByCalled)}}class Pv extends Ws{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yi(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(r._queryParams,this._limit),r._orderByCalled)}}class F0 extends Ws{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yi(r._repo,r._path,function(i,r){const e=i.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(r._queryParams,this._limit),r._orderByCalled)}}class Fv extends Ws{constructor(r){super(),this._path=r}_apply(r){Yf(r,"orderByChild");const e=new Pt(this._path);if(Rt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Ga(e),u=Tf(r._queryParams,o);return fa(u),new yi(r._repo,r._path,u,!0)}}class L0 extends Ws{_apply(r){Yf(r,"orderByKey");const e=Tf(r._queryParams,Co);return fa(e),new yi(r._repo,r._path,e,!0)}}class V0 extends Ws{_apply(r){Yf(r,"orderByPriority");const e=Tf(r._queryParams,hn);return fa(e),new yi(r._repo,r._path,e,!0)}}class B0 extends Ws{_apply(r){Yf(r,"orderByValue");const e=Tf(r._queryParams,Dg);return fa(e),new yi(r._repo,r._path,e,!0)}}class H0 extends Ws{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){if(Hs("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new vm(this._value,this._key)._apply(new k0(this._value,this._key)._apply(r))}}function vi(i,...r){let e=(0,F.m9)(i);for(const o of r)e=o._apply(e);return e}(function(i){(0,F.hu)(!Jg,"__referenceConstructor has already been defined"),Jg=i})(Fi),function(i){(0,F.hu)(!Ud,"__referenceConstructor has already been defined"),Ud=i}(Fi);const np={};function Lv(i,r,e,o,u){let h=o||i.options.databaseURL;void 0===h&&(i.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",i.options.projectId),h=`${i.options.projectId}-default-rtdb.firebaseio.com`);let D,R,g=Qd(h,u),C=g.repoInfo;"undefined"!=typeof process&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(D=!0,h=`http://${R}?ns=${C.namespace}`,g=Qd(h,u),C=g.repoInfo):D=!g.repoInfo.secure;const W=u&&D?new lr(lr.OWNER):new go(i.name,i.options,r);cv("Invalid Firebase Database URL",g),Rt(g.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function(i,r,e,o){let u=np[r.name];u||(u={},np[r.name]=u);let h=u[i.toURLString()];return h&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new hv(i,false,e,o),u[i.toURLString()]=h,h}(C,i,W,new Us(i.name,e));return new th(U,i)}class th{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,r,e){if(i.stats_=ia(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new Fd(i.repoInfo_,(o,u,h,g)=>{pm(i,o,u,h,g)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>So(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new la(i.repoInfo_,r,(o,u,h,g)=>{pm(i,o,u,h,g)},o=>{So(i,o)},o=>{!function(i,r){L(r,(e,o)=>{gm(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,r){const e=i.toString();return wd[e]||(wd[e]=r()),wd[e]}(i.repoInfo_,()=>new Yb(i.stats_,i.server_)),i.infoData_=new ky,i.infoSyncTree_=new em({startListening:(o,u,h,g)=>{let C=[];const D=i.infoData_.getNode(o._path);return D.isEmpty()||(C=Bd(i.infoSyncTree_,o._path,D),setTimeout(()=>{g("ok")},0)),C},stopListening:()=>{}}),gm(i,"connected",!1),i.serverSyncTree_=new em({startListening:(o,u,h,g)=>(i.server_.listen(o,h,u,(C,D)=>{const R=g(C,D);gs(i.eventQueue_,o._path,R)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,St())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,r){const e=np[r];(!e||e[i.key]!==i)&&jn(`Database ${r}(${i.repoInfo_}) has already been deleted.`),_v(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&jn("Cannot call "+r+" on a deleted database.")}}function wm(i,r){xr(i,r)}class Mc{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}la.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},la.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},na(uo.SDK_VERSION),(0,uo._registerComponent)(new Ni.wA("database",(r,{instanceIdentifier:e})=>Lv(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,uo.registerVersion)(Ul,"0.12.2",void 0),(0,uo.registerVersion)(Ul,"0.12.2","esm2017");const Uv=new Vl.Yd("@firebase/database-compat"),Im=function(i){Uv.warn("FIREBASE WARNING: "+i)};class Hv{constructor(r){this._delegate=r}cancel(r){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",r,!0);const e=this._delegate.cancel();return r&&e.then(()=>r(null),o=>r(o)),e}remove(r){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",r,!0);const e=this._delegate.remove();return r&&e.then(()=>r(null),o=>r(o)),e}set(r,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(r,e);return o&&u.then(()=>o(null),h=>o(h)),u}update(r,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let h=0;h<r.length;++h)u[""+h]=r[h];r=u,Im("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(r);return e&&o.then(()=>e(null),u=>e(u)),o}}class $v{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pa{constructor(r,e){this._database=r,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Zd("DataSnapshot.child","path",r,!1),new pa(this._database,this._delegate.child(r))}hasChild(r){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Zd("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(e=>r(new pa(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class br{constructor(r,e){this.database=r,this._delegate=e}on(r,e,o,u){var h;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const g=br.getCancelAndContextArgs_("Query.on",o,u),C=(R,W)=>{e.call(g.context,new pa(this.database,R),W)};C.userCallback=e,C.context=g.context;const D=null===(h=g.cancel)||void 0===h?void 0:h.bind(g.context);switch(r){case"value":return ep(this._delegate,C,D),e;case"child_added":return Mv(this._delegate,C,D),e;case"child_removed":return P0(this._delegate,C,D),e;case"child_changed":return Nv(this._delegate,C,D),e;case"child_moved":return O0(this._delegate,C,D),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,e,o){if((0,F.Dv)("Query.off",0,3,arguments.length),function(i,r,e){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",o,!0),e){const u=()=>{};u.userCallback=e,u.context=o,tp(this._delegate,r,u)}else tp(this._delegate,r)}get(){return x0(this._delegate).then(r=>new pa(this.database,r))}once(r,e,o,u){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const h=br.getCancelAndContextArgs_("Query.once",o,u),g=new F.BH,C=(R,W)=>{const U=new pa(this.database,R);e&&e.call(h.context,U,W),g.resolve(U)};C.userCallback=e,C.context=h.context;const D=R=>{h.cancel&&h.cancel.call(h.context,R),g.reject(R)};switch(r){case"value":ep(this._delegate,C,D,{onlyOnce:!0});break;case"child_added":Mv(this._delegate,C,D,{onlyOnce:!0});break;case"child_removed":P0(this._delegate,C,D,{onlyOnce:!0});break;case"child_changed":Nv(this._delegate,C,D,{onlyOnce:!0});break;case"child_moved":O0(this._delegate,C,D,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(r){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new br(this.database,vi(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pv(i)}(r)))}limitToLast(r){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new br(this.database,vi(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new F0(i)}(r)))}orderByChild(r){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new br(this.database,vi(this._delegate,function(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zd("orderByChild","path",i,!1),new Fv(i)}(r)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new br(this.database,vi(this._delegate,new L0))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new br(this.database,vi(this._delegate,new V0))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new br(this.database,vi(this._delegate,new B0))}startAt(r=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new br(this.database,vi(this._delegate,function(i=null,r){return zd("startAt","key",r,!0),new k0(i,r)}(r,e)))}startAfter(r=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new br(this.database,vi(this._delegate,function(i,r){return zd("startAfter","key",r,!0),new lT(i,r)}(r,e)))}endAt(r=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new br(this.database,vi(this._delegate,function(i,r){return zd("endAt","key",r,!0),new vm(i,r)}(r,e)))}endBefore(r=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new br(this.database,vi(this._delegate,function(i,r){return zd("endBefore","key",r,!0),new oT(i,r)}(r,e)))}equalTo(r,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new br(this.database,vi(this._delegate,function(i,r){return zd("equalTo","key",r,!0),new H0(i,r)}(r,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof br))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,e,o){const u={cancel:void 0,context:void 0};if(e&&o)u.cancel=e,(0,F.Wj)(r,"cancel",u.cancel,!0),u.context=o,(0,F.lb)(r,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new Li(this.database,new Fi(this._delegate._repo,this._delegate._path))}}class Li extends br{constructor(r,e){super(r,new yi(e._repo,e._path,new Oi,!1)),this.database=r,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Li(this.database,$s(this._delegate,r))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Li(this.database,r):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Li(this.database,this._delegate.root)}set(r,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const o=Qf(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}update(r,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let h=0;h<r.length;++h)u[""+h]=r[h];r=u,Im("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_i("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const o=N0(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(r,e,o){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function(i,r,e){if(_i("setWithPriority",i._path),Hs("setWithPriority",r,i._path,!1),Gd("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new F.BH;return Ya(i._repo,i._path,r,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,r,e);return o&&u.then(()=>o(null),h=>o(h)),u}remove(r){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",r,!0);const e=function(i){return _i("remove",i._path),Qf(i,null)}(this._delegate);return r&&e.then(()=>r(null),o=>r(o)),e}transaction(r,e,o){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(i,r,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function(i,r,e){var o;if(i=(0,F.m9)(i),_i("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const u=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,h=new F.BH,C=ep(i,()=>{});return function(i,r,e,o,u,h){bc(i,"transaction on "+r);const g={path:r,update:e,onComplete:o,status:null,order:sf(),applyLocally:h,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=Ja(i,r,void 0);g.currentInputSnapshot=C;const D=g.update(C.val());if(void 0===D)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{Wd("transaction failed: Data returned ",D,g.path),g.status=0;const R=yc(i.transactionQueueTree_,r),W=Ka(R)||[];let U;W.push(g),um(R,W),"object"==typeof D&&null!==D&&(0,F.r3)(D,".priority")?(U=(0,F.DV)(D,".priority"),(0,F.hu)(jf(U),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):U=(qa(i.serverSyncTree_,r)||Tt.EMPTY_NODE).getPriority().val();const ne=Ec(i),Ie=Pn(D,U),Le=Bf(Ie,C,ne);g.currentOutputSnapshotRaw=Ie,g.currentOutputSnapshotResolved=Le,g.currentWriteId=Gf(i);const at=tm(i.serverSyncTree_,r,Le,g.currentWriteId,g.applyLocally);gs(i.eventQueue_,r,at),Yd(i,i.transactionQueueTree_)}}(i._repo,i._path,r,(D,R,W)=>{let U=null;D?h.reject(D):(U=new Xa(W,new Fi(i._repo,i._path),hn),h.resolve(new Mc(R,U)))},C,u),h.promise}(this._delegate,r,{applyLocally:o}).then(h=>new $v(h.committed,new pa(this.database,h.snapshot)));return e&&u.then(h=>e(null,h.committed,h.snapshot),h=>e(h,!1,null)),u}setPriority(r,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const o=function(i,r){i=(0,F.m9)(i),_i("setPriority",i._path),Gd("setPriority",r,!1);const e=new F.BH;return Ya(i._repo,dn(i._path,".priority"),r,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,r);return e&&o.then(()=>e(null),u=>e(u)),o}push(r,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const o=function(i,r){i=(0,F.m9)(i),_i("push",i._path),Hs("push",r,i._path,!0);const e=fm(i._repo),o=ds(e),u=$s(i,o),h=$s(i,o);let g;return g=null!=r?Qf(h,r).then(()=>h):Promise.resolve(h),u.then=g.then.bind(g),u.catch=g.then.bind(g,void 0),u}(this._delegate,r),u=o.then(g=>new Li(this.database,g));e&&u.then(()=>e(null),g=>e(g));const h=new Li(this.database,o);return h.then=u.then.bind(u),h.catch=u.catch.bind(u,void 0),h}onDisconnect(){return _i("Reference.onDisconnect",this._delegate._path),new Hv(new R0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Oc{constructor(r,e){this._delegate=r,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(r,e,o={}){!function(i,r,e,o={}){(i=(0,F.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let h;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new lr(lr.OWNER);else if(o.mockUserToken){const g="string"==typeof o.mockUserToken?o.mockUserToken:(0,F.Sg)(o.mockUserToken,i.app.options.projectId);h=new lr(g)}!function(i,r,e,o){i.repoInfo_=new lf(`${r}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(u,r,e,h)}(this._delegate,r,e,o)}ref(r){if((0,F.Dv)("database.ref",0,1,arguments.length),r instanceof Li){const e=Dv(this._delegate,r.toString());return new Li(this,e)}{const e=Iv(this._delegate,r);return new Li(this,e)}}refFromURL(r){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const o=Dv(this._delegate,r);return new Li(this,o)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(i){(i=(0,F.m9)(i))._checkNotDeleted("goOffline"),_v(i._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(i){(i=(0,F.m9)(i))._checkNotDeleted("goOnline"),function(i){i.persistentConnection_&&i.persistentConnection_.resume(D0)}(i._repo)}(this._delegate)}}Oc.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:i=>function(i){return{".sv":{increment:i}}}(i)};var Wv=Object.freeze({__proto__:null,initStandalone:function({app:i,url:r,version:e,customAuthImpl:o,namespace:u,nodeAdmin:h=!1}){na(e);const g=new Ni.zt("auth-internal",new Ni.H0("database-standalone"));return g.setComponent(new Ni.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Oc(Lv(i,g,void 0,r,h),i),namespace:u}}});const Gv=Oc.ServerValue;!function(i){i.INTERNAL.registerComponent(new Ni.wA("database-compat",(r,{instanceIdentifier:e})=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("database").getImmediate({identifier:e});return new Oc(u,o)},"PUBLIC").setServiceProps({Reference:Li,Query:br,Database:Oc,DataSnapshot:pa,enableLogging:wm,INTERNAL:Wv,ServerValue:Gv}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.2")}($u.Z);var ru=P(9765),ih=P(309),zv=P(7771),Zv=P(5319),Dm=P(7971),Z0=P(8858);class q0 extends ru.xQ{constructor(r=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const e=this._events;e.push(r),e.length>this._bufferSize&&e.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new cT(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,h=o.length;let g;if(this.closed)throw new Dm.N;if(this.isStopped||this.hasError?g=Zv.w.EMPTY:(this.observers.push(r),g=new Z0.W(this,r)),u&&r.add(r=new ih.ht(r,u)),e)for(let C=0;C<h&&!r.closed;C++)r.next(o[C]);else for(let C=0;C<h&&!r.closed;C++)r.next(o[C].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),g}_getNow(){return(this.scheduler||zv.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),e=this._bufferSize,o=this._windowTime,u=this._events,h=u.length;let g=0;for(;g<h&&!(r-u[g].time<o);)g++;return h>e&&(g=Math.max(g,h-e)),g>0&&u.splice(0,g),u}}class cT{constructor(r,e){this.time=r,this.value=e}}function qv(i,r,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:e},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let u,g,h=0,C=!1,D=!1;return function(W){let U;h++,!u||C?(C=!1,u=new q0(i,r,o),U=u.subscribe(this),g=W.subscribe({next(ne){u.next(ne)},error(ne){C=!0,u.error(ne)},complete(){D=!0,g=void 0,u.complete()}}),D&&(g=void 0)):U=u.subscribe(this),this.add(()=>{h--,U.unsubscribe(),U=void 0,g&&!D&&e&&0===h&&(g.unsubscribe(),g=void 0,u=void 0)})}}(o))}const Tm=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Pc(i,r){return function(o){return o.lift(new K0(i,r))}}class K0{constructor(r,e){this.predicate=r,this.thisArg=e}call(r,e){return e.subscribe(new dT(r,this.predicate,this.thisArg))}}class dT extends Xr.L{constructor(r,e,o){super(r),this.predicate=e,this.thisArg=o,this.count=0}_next(r){let e;try{e=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(r)}}const Yv=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var No=P(9193);function sh(i){return r=>0===i?(0,No.c)():r.lift(new Y0(i))}class Y0{constructor(r){if(this.total=r,this.total<0)throw new Yv}call(r,e){return e.subscribe(new fT(r,this.total))}}class fT extends Xr.L{constructor(r,e){super(r),this.total=e,this.count=0}_next(r){const e=this.total,o=++this.count;o<=e&&(this.destination.next(r),o===e&&(this.destination.complete(),this.unsubscribe()))}}function Q0(i=null){return r=>r.lift(new pT(i))}class pT{constructor(r){this.defaultValue=r}call(r,e){return e.subscribe(new J0(r,this.defaultValue))}}class J0 extends Xr.L{constructor(r,e){super(r),this.defaultValue=e,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Am(i=kc){return r=>r.lift(new gT(i))}class gT{constructor(r){this.errorFactory=r}call(r,e){return e.subscribe(new X0(r,this.errorFactory))}}class X0 extends Xr.L{constructor(r,e){super(r),this.errorFactory=e,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(e){r=e}this.destination.error(r)}}}function kc(){return new Tm}var Qv=P(4487);function el(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Pc((u,h)=>i(u,h,o)):Qv.y,sh(1),e?Q0(r):Am(()=>new Tm))}function Jv(i,r){return r?Kn(()=>i,r):Kn(()=>i)}var ip=P(3101);P(2329);const rC=new Map,Rm={activated:!1,tokenObservers:[]},Mm={initialized:!1,enabled:!1};function ri(i){return rC.get(i)||Rm}function ys(i,r){rC.set(i,r)}function Fc(){return Mm}class iC{constructor(r,e,o,u,h){if(this.operation=r,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=u,u>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var e=this;return(0,ss.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(i){return new Promise(r=>{setTimeout(r,i)})}(e.getNextRun(r)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ii=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function ap(i){if(!ri(i).activated)throw ii.create("use-before-activation",{appName:i.name})}function km(i,r){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,ss.Z)(function*({url:i,body:r},e){const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});u&&(o["X-Firebase-Client"]=u.getPlatformInfoString());const h={method:"POST",body:JSON.stringify(r),headers:o};let g,C;try{g=yield fetch(i,h)}catch(U){throw ii.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==g.status)throw ii.create("fetch-status-error",{httpStatus:g.status});try{C=yield g.json()}catch(U){throw ii.create("fetch-parse-error",{originalErrorMessage:U.message})}const D=C.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(D[1]),W=Date.now();return{token:C.attestationToken,expireTimeMillis:W+R,issuedAtTimeMillis:W}})).apply(this,arguments)}function aC(i,r){const{projectId:e,appId:o,apiKey:u}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:r}}}const ah="firebase-app-check-store";let lp=null;function Vm(){return lp||(lp=new Promise((i,r)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{i(o.target.result)},e.onerror=o=>{var u;r(ii.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},e.onupgradeneeded=o=>{const u=o.target.result;switch(o.oldVersion){case 0:u.createObjectStore(ah,{keyPath:"compositeKey"})}}}catch(e){r(ii.create("storage-open",{originalErrorMessage:e.message}))}}),lp)}function up(){return(up=(0,ss.Z)(function*(i,r){const o=(yield Vm()).transaction(ah,"readwrite"),h=o.objectStore(ah).put({compositeKey:i,value:r});return new Promise((g,C)=>{h.onsuccess=D=>{g()},o.onerror=D=>{var R;C(ii.create("storage-set",{originalErrorMessage:null===(R=D.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const $m=new Vl.Yd("@firebase/app-check");function Gm(i,r){return(0,F.hl)()?function(i,r){return function(i,r){return up.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),r)}(i,r).catch(e=>{$m.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zm(){return Fc().enabled}function fC(){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,ss.Z)(function*(){const i=Fc();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const lw={error:"UNKNOWN_ERROR"};function gC(i){return F.US.encodeString(JSON.stringify(i),!1)}function lh(i){return tl.apply(this,arguments)}function tl(){return(tl=(0,ss.Z)(function*(i,r=!1){const e=i.app;ap(e);const o=ri(e);let h,g,u=o.token;if(!u){const C=yield o.cachedTokenPromise;C&&Lc(C)&&(u=C,ys(e,Object.assign(Object.assign({},o),{token:u})),yC(e,{token:u.token}))}if(!r&&u&&Lc(u))return{token:u.token};if(zm()){const C=yield km(aC(e,yield fC()),i.platformLoggerProvider);return yield Gm(e,C),ys(e,Object.assign(Object.assign({},o),{token:C})),{token:C.token}}try{u=yield o.provider.getToken()}catch(C){$m.error(C),h=C}return u?(g={token:u.token},ys(e,Object.assign(Object.assign({},o),{token:u})),yield Gm(e,u)):g=ET(h),yC(e,g),g})).apply(this,arguments)}function qm(i,r){const e=ri(i),o=e.tokenObservers.filter(u=>u.next!==r);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ys(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function yC(i,r){const e=ri(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=r.error?o.error(r.error):o.next(r)}catch(u){}}function Lc(i){return i.expireTimeMillis-Date.now()>0}function ET(i){return{token:gC(lw),error:i}}class vC{constructor(r,e){this.app=r,this.platformLoggerProvider=e}_delete(){const{tokenObservers:r}=ri(this.app);for(const e of r)qm(this.app,e.next);return Promise.resolve()}}const Jm="app-check-internal";(0,uo._registerComponent)(new Ni.wA("app-check",i=>function(i,r){return new vC(i,r)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,r,e)=>{i.getProvider(Jm).initialize()})),(0,uo._registerComponent)(new Ni.wA(Jm,i=>function(i){return{getToken:r=>lh(i,r),addTokenListener:r=>function(i,r,e,o){const{app:u}=i,h=ri(u),g={next:e,error:o,type:r},C=Object.assign(Object.assign({},h),{tokenObservers:[...h.tokenObservers,g]});if(!C.tokenRefresher){const D=function(i){const{app:r}=i;return new iC((0,ss.Z)(function*(){let o;if(o=ri(r).token?yield lh(i,!0):yield lh(i),o.error)throw o.error}),()=>!0,()=>{const e=ri(r);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i);C.tokenRefresher=D}if(!C.tokenRefresher.isRunning()&&h.isTokenAutoRefreshEnabled&&C.tokenRefresher.start(),h.token&&Lc(h.token)){const D=h.token;Promise.resolve().then(()=>e({token:D.token})).catch(()=>{})}else null==h.token&&h.cachedTokenPromise.then(D=>{D&&Lc(D)&&e({token:D.token})}).catch(()=>{});ys(u,C)}(i,"INTERNAL",r),removeTokenListener:r=>qm(i.app,r)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,uo.registerVersion)("@firebase/app-check","0.4.2");class mp{constructor(){return(0,Br.vb)("app-check")}}"undefined"!=typeof window&&window;var mw=P(7841);const RC=new d.OlP("angularfire2.auth.use-emulator"),MC=new d.OlP("angularfire2.auth.settings"),NC=new d.OlP("angularfire2.auth.tenant-id"),xC=new d.OlP("angularfire2.auth.langugage-code"),OC=new d.OlP("angularfire2.auth.use-device-language"),PC=new d.OlP("angularfire.auth.persistence"),kC=(i,r,e,o,u,h,g,C)=>(0,sr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=r.runOutsideAngular(()=>i.auth());if(e&&D.useEmulator(...e),o&&(D.tenantId=o),D.languageCode=u,h&&D.useDeviceLanguage(),g)for(const[R,W]of Object.entries(g))D.settings[R]=W;return C&&D.setPersistence(C),D},[e,o,u,h,g,C]);let Vc=(()=>{class i{constructor(e,o,u,h,g,C,D,R,W,U,ne,Ie){const Le=new ru.xQ,at=(0,it.of)(void 0).pipe((0,ih.QV)(g.outsideAngular),Kn(()=>h.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4828)))),(0,Ct.U)(()=>(0,sr.on)(e,h,o)),(0,Ct.U)(mt=>kC(mt,h,C,R,W,U,D,ne)),qv({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{at.pipe(el()).subscribe();const kn=at.pipe(Kn(an=>an.getRedirectResult().then(Ds=>Ds,()=>null)),Br.iC,qv({bufferSize:1,refCount:!1})),Mt=at.pipe(Kn(an=>new qn.y(Ds=>({unsubscribe:h.runOutsideAngular(()=>an.onAuthStateChanged(wu=>Ds.next(wu),wu=>Ds.error(wu),()=>Ds.complete()))})))),$n=at.pipe(Kn(an=>new qn.y(Ds=>({unsubscribe:h.runOutsideAngular(()=>an.onIdTokenChanged(wu=>Ds.next(wu),wu=>Ds.error(wu),()=>Ds.complete()))}))));this.authState=kn.pipe(Jv(Mt),(0,ip.R)(g.outsideAngular),(0,ih.QV)(g.insideAngular)),this.user=kn.pipe(Jv($n),(0,ip.R)(g.outsideAngular),(0,ih.QV)(g.insideAngular)),this.idToken=this.user.pipe(Kn(an=>an?(0,cn.D)(an.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(Kn(an=>an?(0,cn.D)(an.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,Si.T)(kn,Le,this.authState.pipe(Pc(an=>!an))).pipe((0,Ct.U)(an=>(null==an?void 0:an.user)?an:null),(0,ip.R)(g.outsideAngular),(0,ih.QV)(g.insideAngular))}return(0,sr.pX)(this,at,h,{spy:{apply:(mt,kn,Mt)=>{(mt.startsWith("signIn")||mt.startsWith("createUser"))&&Mt.then($n=>Le.next($n))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(sr.Dh),d.LFG(sr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Br.HU),d.LFG(RC,8),d.LFG(MC,8),d.LFG(NC,8),d.LFG(xC,8),d.LFG(OC,8),d.LFG(PC,8),d.LFG(mp,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Xm(i){return null==i}function e_(i){return"function"==typeof i.set}function t_(i,r){return e_(r)?r:i.ref(r)}function n_(i,r){if(function(i){return"string"==typeof i}(i))return r.stringCase();if(e_(i))return r.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Uc(i,r,e="on",o=Mr.z){return new qn.y(u=>{let h=null;return h=i[e](r,(g,C)=>{o.schedule(()=>{u.next({snapshot:g,prevKey:C})}),"once"===e&&o.schedule(()=>u.complete())},g=>{o.schedule(()=>u.error(g))}),"on"===e?{unsubscribe(){null!=h&&i.off(r,h)}}:{unsubscribe(){}}}).pipe((0,Ct.U)(u=>{const{snapshot:h,prevKey:g}=u;let C=null;return h.exists()&&(C=h.key),{type:r,payload:h,prevKey:g,key:C}}),(0,kl.B)())}function r_(i,r){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===r)return o;return-1}function VC(i,r){const{payload:e,prevKey:o,key:u}=r,h=r_(i,u),g=function(i,r){if(Xm(r))return 0;{const e=r_(i,r);return-1===e?i.length:e+1}}(i,o);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let C=null;r.payload.forEach(D=>{const R={payload:D,type:"value",prevKey:C,key:D.key};return C=D.key,i=[...i,R],!1})}return i;case"child_added":if(h>-1){const C=i[h-1];(C&&C.key||null)!==o&&(i=i.filter(D=>D.payload.key!==e.key)).splice(g,0,r)}else{if(null==o)return[r,...i];(i=i.slice()).splice(g,0,r)}return i;case"child_removed":return i.filter(C=>C.payload.key!==e.key);case"child_changed":return i.map(C=>C.payload.key===u?r:C);case"child_moved":if(h>-1){const C=i.splice(h,1)[0];return(i=i.slice()).splice(g,0,C),i}return i;default:return i}}function _p(i){return(Xm(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function i_(i,r,e){return function(i,r,e){return Uc(i,"value","once",e).pipe(Kn(o=>{const u=[(0,it.of)(o)];return r.forEach(h=>u.push(Uc(i,h,"on",e))),(0,Si.T)(...u).pipe(Ri(VC,[]))}),e=>e.lift(new Xo(void 0,void 0)))}(i,r=_p(r),e)}function nl(i,r,e){const o=(r=_p(r)).map(u=>Uc(i,u,"on",e));return(0,Si.T)(...o)}function bw(i,r){return function(o,u){return n_(o,{stringCase:()=>i.child(o)[r](u),firebaseCase:()=>o[r](u),snapshotCase:()=>o.ref[r](u)})}}function s_(i){return function(e){return e?n_(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function o_(i,r){return function(){return Uc(i,"value","on",r)}}const xT=new d.OlP("angularfire2.realtimeDatabaseURL"),ot=new d.OlP("angularfire2.database.use-emulator");let ga=(()=>{class i{constructor(e,o,u,h,g,C,D,R,W,U,ne,Ie,Le,at,mt){this.schedulers=C;const kn=D,Mt=(0,sr.on)(e,g,o);R&&kC(Mt,g,W,ne,Ie,Le,U,at),this.database=(0,sr.cc)(`${Mt.name}.database.${u}`,"AngularFireDatabase",Mt.name,()=>{const $n=g.runOutsideAngular(()=>Mt.database(u||void 0));return kn&&$n.useEmulator(...kn),$n},[kn])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>t_(this.database,e));let h=u;return o&&(h=o(u)),function(i,r){const e=r.schedulers.outsideAngular,o=r.schedulers.ngZone.run(()=>i.ref);return{query:i,update:bw(o,"update"),set:bw(o,"set"),push:u=>o.push(u),remove:s_(o),snapshotChanges:u=>i_(i,u,e).pipe(Br.iC),stateChanges:u=>nl(i,u,e).pipe(Br.iC),auditTrail:u=>function(i,r,e){return function(i,r,e){return function(i,r){return Uc(i,"value","on",r).pipe((0,Ct.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return r=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),r.lift(new Vs(i,e))}}(r),(0,Ct.U)(([u,h])=>{const g=u.lastKeyToLoad,C=h.map(D=>D.key);return{actions:h,lastKeyToLoad:g,loadedKeys:C}}),function(i){return r=>r.lift(new rf(i))}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,Ct.U)(u=>u.actions))}(i,nl(i,r).pipe(Ri((u,h)=>[...u,h],[])),e)}(i,u,e).pipe(Br.iC),valueChanges:(u,h)=>i_(i,u,e).pipe((0,Ct.U)(C=>C.map(D=>h&&h.idField?Object.assign(Object.assign({},D.payload.val()),{[h.idField]:D.key}):D.payload.val())),Br.iC)}}(h,this)}object(e){return function(i,r){return{query:i,snapshotChanges:()=>o_(i,r.schedulers.outsideAngular)().pipe(Br.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>o_(i,r.schedulers.outsideAngular)().pipe(Br.iC,(0,Ct.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>t_(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(sr.Dh),d.LFG(sr.xv,8),d.LFG(xT,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Br.HU),d.LFG(ot,8),d.LFG(Vc,8),d.LFG(RC,8),d.LFG(MC,8),d.LFG(NC,8),d.LFG(xC,8),d.LFG(OC,8),d.LFG(PC,8),d.LFG(mp,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),ww=(()=>{class i{constructor(){mw.Z.registerVersion("angularfire",Br.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[ga]}),i})();var a_=P(9796),yp=P(1555);function iu(i,r){return new qn.y(e=>{const o=i.length;if(0===o)return void e.complete();const u=new Array(o);let h=0,g=0;for(let C=0;C<o;C++){const D=(0,cn.D)(i[C]);let R=!1;e.add(D.subscribe({next:W=>{R||(R=!0,g++),u[C]=W},error:W=>e.error(W),complete:()=>{h++,(h===o||!R)&&(g===o&&e.next(r?r.reduce((W,U,ne)=>(W[U]=u[ne],W),{}):u),e.complete())}}))}})}let ch=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),un=(()=>{class i extends ch{}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const ma=new d.OlP("NgValueAccessor"),Dw={provide:ma,useExisting:(0,d.Gpc)(()=>Po),multi:!0},HC=new d.OlP("CompositionEventMode");let Po=(()=>{class i extends ch{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=N()?N().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(HC,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[d._Bn([Dw]),d.qOj]}),i})();const Hr=new d.OlP("NgValidators"),rl=new d.OlP("NgAsyncValidators");function ZC(i){return null!=i}function qC(i){const r=(0,d.QGY)(i)?(0,cn.D)(i):i;return(0,d.CqO)(r),r}function KC(i){let r={};return i.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function d_(i,r){return r.map(e=>e(i))}function h_(i){return i.map(r=>function(i){return!i.validate}(r)?r:e=>r.validate(e))}function Cp(i){return null!=i?function(i){if(!i)return null;const r=i.filter(ZC);return 0==r.length?null:function(e){return KC(d_(e,r))}}(h_(i)):null}function f_(i){return null!=i?function(i){if(!i)return null;const r=i.filter(ZC);return 0==r.length?null:function(e){return function(...i){if(1===i.length){const r=i[0];if((0,a_.k)(r))return iu(r,null);if((0,yp.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const e=Object.keys(r);return iu(e.map(o=>r[o]),e)}}if("function"==typeof i[i.length-1]){const r=i.pop();return iu(i=1===i.length&&(0,a_.k)(i[0])?i[0]:i,null).pipe((0,Ct.U)(e=>r(...e)))}return iu(i,null)}(d_(e,r).map(qC)).pipe((0,Ct.U)(KC))}}(h_(i)):null}function Tw(i,r){return null===i?[r]:Array.isArray(i)?[...i,r]:[i,r]}function XC(i){return i?Array.isArray(i)?i:[i]:[]}function fh(i,r){return Array.isArray(i)?i.includes(r):i===r}function ph(i,r){const e=XC(r);return XC(i).forEach(u=>{fh(e,u)||e.push(u)}),e}function eE(i,r){return XC(r).filter(e=>!fh(i,e))}let tE=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})(),$r=(()=>{class i extends tE{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class Cs extends tE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nE{constructor(r){this._cd=r}is(r){var e,o,u;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let su=(()=>{class i extends nE{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Cs,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),ou=(()=>{class i extends nE{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36($r,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function Hc(i,r){g_(i,r),r.valueAccessor.writeValue(i.value),function(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&iE(i,r)})}(i,r),function(i,r){const e=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,r),function(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&iE(i,r),"submit"!==i.updateOn&&i.markAsTouched()})}(i,r),function(i,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,r)}function Ip(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function g_(i,r){const e=function(i){return i._rawValidators}(i);null!==r.validator?i.setValidators(Tw(e,r.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==r.asyncValidator?i.setAsyncValidators(Tw(o,r.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();Ip(r._rawValidators,u),Ip(r._rawAsyncValidators,u)}function iE(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Tp(i,r){const e=i.indexOf(r);e>-1&&i.splice(e,1)}const Wc="VALID",Ap="INVALID",Gc="PENDING",mh="DISABLED";function _h(i){return(C_(i)?i.validators:i)||null}function v_(i){return Array.isArray(i)?Cp(i):i||null}function yh(i,r){return(C_(r)?r.asyncValidators:i)||null}function oE(i){return Array.isArray(i)?f_(i):i||null}function C_(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class vh{constructor(r,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=v_(this._rawValidators),this._composedAsyncValidatorFn=oE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Wc}get invalid(){return this.status===Ap}get pending(){return this.status==Gc}get disabled(){return this.status===mh}get enabled(){return this.status!==mh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=v_(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=oE(r)}addValidators(r){this.setValidators(ph(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(ph(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(eE(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(eE(r,this._rawAsyncValidators))}hasValidator(r){return fh(this._rawValidators,r)}hasAsyncValidator(r){return fh(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Gc,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=mh,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=Wc,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wc||this.status===Gc)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mh:Wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Gc,this._hasOwnPendingAsyncValidator=!0;const e=qC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function(i,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=i;return r.forEach(u=>{o=o instanceof Rp?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof Bw&&o.at(u)||null}),o}(this,r)}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?mh:this.errors?Ap:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gc)?Gc:this._anyControlsHaveStatus(Ap)?Ap:Wc}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){C_(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Sp extends vh{constructor(r=null,e,o){super(_h(e),yh(o,e)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=null,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Tp(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Tp(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Rp extends vh{constructor(r,e,o){super(_h(e),yh(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=e instanceof Sp?e.value:e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((u,h)=>{o=e(o,u,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Bw extends vh{constructor(r,e,o){super(_h(e),yh(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r instanceof Sp?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((e,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const aE={provide:$r,useExisting:(0,d.Gpc)(()=>sl)},zc=(()=>Promise.resolve(null))();let sl=(()=>{class i extends $r{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new Rp({},Cp(e),f_(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zc.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Hc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zc.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Tp(this._directives,e)})}addFormGroup(e){zc.then(()=>{const o=this._findContainer(e.path),u=new Rp({});(function(i,r){g_(i,r)})(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zc.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){zc.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(i,r){i._syncPendingControls(),r.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Hr,10),d.Y36(rl,10))},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([aE]),d.qOj]}),i})();const $w={provide:Cs,useExisting:(0,d.Gpc)(()=>Pr)},cE=(()=>Promise.resolve(null))();let Pr=(()=>{class i extends Cs{constructor(e,o,u,h){super(),this.control=new Sp,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(i,r){if(!r)return null;let e,o,u;return Array.isArray(r),r.forEach(h=>{h.constructor===Po?e=h:function(i){return Object.getPrototypeOf(i.constructor)===un}(h)?o=h:u=h}),u||o||e||null}(0,h)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,r){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,r){return[...r.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;cE.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36($r,9),d.Y36(Hr,10),d.Y36(rl,10),d.Y36(ma,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([$w]),d.qOj,d.TTD]}),i})(),ol=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const jT={provide:ma,useExisting:(0,d.Gpc)(()=>lu),multi:!0};let lu=(()=>{class i extends un{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},features:[d._Bn([jT]),d.qOj]}),i})(),Gw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const Qw={provide:ma,useExisting:(0,d.Gpc)(()=>Pp),multi:!0};function T_(i,r){return null==i?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${i}: ${r}`.slice(0,50))}let Pp=(()=>{class i extends un{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=this._getOptionId(e);null==o&&this.setProperty("selectedIndex",-1);const u=T_(o,e);this.setProperty("value",u)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&d.NdJ("change",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Qw]),d.qOj]}),i})(),A_=(()=>{class i{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(T_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Pp,9))},i.\u0275dir=d.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const kp={provide:ma,useExisting:(0,d.Gpc)(()=>S_),multi:!0};function Eh(i,r){return null==i?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${i}: ${r}`.slice(0,50))}let S_=(()=>{class i extends un{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const u=e.map(h=>this._getOptionId(h));o=(h,g)=>{h._setSelected(u.indexOf(g.toString())>-1)}}else o=(u,h)=>{u._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const u=[];if(void 0!==o.selectedOptions){const h=o.selectedOptions;for(let g=0;g<h.length;g++){const C=h.item(g),D=this._getOptionValue(C.value);u.push(D)}}else{const h=o.options;for(let g=0;g<h.length;g++){const C=h.item(g);if(C.selected){const D=this._getOptionValue(C.value);u.push(D)}}}this.value=u,e(u)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let r;return function(o){return(r||(r=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&d.NdJ("change",function(h){return o.onChange(h.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([kp]),d.qOj]}),i})(),Jw=(()=>{class i{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Eh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Eh(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(S_,9))},i.\u0275dir=d.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const tI={provide:Hr,useExisting:(0,d.Gpc)(()=>uu),multi:!0};let uu=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[d._Bn([tI])]}),i})(),Ih=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Gw]]}),i})(),aI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[Ih]}),i})();class Es extends ru.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return e&&!e.closed&&r.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dm.N;return this._value}next(r){super.next(this._value=r)}}var M_=P(4869),cI=P(6693);const EE={};class dI{constructor(r){this.resultSelector=r}call(r,e){return e.subscribe(new wE(r,this.resultSelector))}}class wE extends Ur{constructor(r,e){super(r),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(EE),this.observables.push(r)}_complete(){const r=this.observables,e=r.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(ea(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,e,o){const u=this.values,g=this.toRespond?u[o]===EE?--this.toRespond:this.toRespond:0;u[o]=e,0===g&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let e;try{e=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}var du=P(3282);function IE(...i){return(0,du.J)(1)((0,it.of)(...i))}function qc(i){return new qn.y(r=>{let e;try{e=i()}catch(u){return void r.error(u)}return(e?(0,cn.D)(e):(0,No.c)()).subscribe(r)})}var on=P(2441);function bs(i){return function(e){const o=new Dh(i),u=e.lift(o);return o.caught=u}}class Dh{constructor(r){this.selector=r}call(r,e){return e.subscribe(new ZT(r,this.selector,this.caught))}}class ZT extends Ls.Ds{constructor(r,e,o){super(r),this.selector=e,this.caught=o}error(r){if(!this.isStopped){let e;try{e=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new Ls.IY(this);this.add(o);const u=(0,Ls.ft)(e,o);u!==o&&this.add(u)}}}var qe=P(9773);function Wr(i,r){return(0,qe.zg)(i,r,1)}function Th(i){return function(e){return 0===i?(0,No.c)():e.lift(new hu(i))}}class hu{constructor(r){if(this.total=r,this.total<0)throw new Yv}call(r,e){return e.subscribe(new qT(r,this.total))}}class qT extends Xr.L{constructor(r,e){super(r),this.total=e,this.ring=new Array,this.count=0}_next(r){const e=this.ring,o=this.total,u=this.count++;e.length<o?e.push(r):e[u%o]=r}_complete(){const r=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let h=0;h<o;h++){const g=e++%o;r.next(u[g])}}r.complete()}}var Ci=P(3342),KT=P(1307);class fI{constructor(r){this.callback=r}call(r,e){return e.subscribe(new ws(r,this.callback))}}class ws extends Xr.L{constructor(r,e){super(r),this.add(new Zv.w(e))}}class Xt{constructor(r,e){this.id=r,this.url=e}}class Vi extends Xt{constructor(r,e,o="imperative",u=null){super(r,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kc extends Xt{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TE extends Xt{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class AE extends Xt{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class N_ extends Xt{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yc extends Xt{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends Xt{constructor(r,e,o,u,h){super(r,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pI extends Xt{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu extends Xt{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SE{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x_{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class O_{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sh{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P_{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RE{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Lp{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gu(i){return new Lp(i)}const k_="ngNavigationCancelingError";function Vp(i){const r=Error("NavigationCancelingError: "+i);return r[k_]=!0,r}function gI(i,r,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<i.length))return null;const u={};for(let h=0;h<o.length;h++){const g=o[h],C=i[h];if(g.startsWith(":"))u[g.substring(1)]=C;else if(g!==C.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function Is(i,r){const e=i?Object.keys(i):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let h=0;h<e.length;h++)if(u=e[h],!mI(i[u],r[u]))return!1;return!0}function mI(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const e=[...i].sort(),o=[...r].sort();return e.every((u,h)=>o[h]===u)}return i===r}function _I(i){return Array.prototype.concat.apply([],i)}function dt(i){return i.length>0?i[i.length-1]:null}function Xn(i,r){for(const e in i)i.hasOwnProperty(e)&&r(i[e],e)}function ko(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,cn.D)(Promise.resolve(i)):(0,it.of)(i)}const vI={exact:function kr(i,r,e){if(!_u(i.segments,r.segments)||!jp(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!i.children[o]||!kr(i.children[o],r.children[o],e))return!1;return!0},subset:ME},CI={exact:function(i,r){return Is(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>mI(i[e],r[e]))},ignored:()=>!0};function EI(i,r,e){return vI[e.paths](i.root,r.root,e.matrixParams)&&CI[e.queryParams](i.queryParams,r.queryParams)&&!("exact"===e.fragment&&i.fragment!==r.fragment)}function ME(i,r,e){return Bp(i,r,r.segments,e)}function Bp(i,r,e,o){if(i.segments.length>e.length){const u=i.segments.slice(0,e.length);return!(!_u(u,e)||r.hasChildren()||!jp(u,e,o))}if(i.segments.length===e.length){if(!_u(i.segments,e)||!jp(i.segments,e,o))return!1;for(const u in r.children)if(!i.children[u]||!ME(i.children[u],r.children[u],o))return!1;return!0}{const u=e.slice(0,i.segments.length),h=e.slice(i.segments.length);return!!(_u(i.segments,u)&&jp(i.segments,u,o)&&i.children[Ft])&&Bp(i.children[Ft],r,h,o)}}function jp(i,r,e){return r.every((o,u)=>CI[e](i[u].parameters,o.parameters))}class mu{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return xE.serialize(this)}}class Bt{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Xn(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}}class Rh{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return PE(this)}}function _u(i,r){return i.length===r.length&&i.every((e,o)=>e.path===r[o].path)}class V_{}class NE{parse(r){const e=new MI(r);return new mu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){return`${`/${Mh(r.root,!0)}`}${function(i){const r=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(u=>`${Hp(e)}=${Hp(u)}`).join("&"):`${Hp(e)}=${Hp(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${function(i){return encodeURI(i)}(r.fragment)}`:""}`}}const xE=new NE;function Qc(i){return i.segments.map(r=>PE(r)).join("/")}function Mh(i,r){if(!i.hasChildren())return Qc(i);if(r){const e=i.children[Ft]?Mh(i.children[Ft],!1):"",o=[];return Xn(i.children,(u,h)=>{h!==Ft&&o.push(`${h}:${Mh(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,r){let e=[];return Xn(i.children,(o,u)=>{u===Ft&&(e=e.concat(r(o,u)))}),Xn(i.children,(o,u)=>{u!==Ft&&(e=e.concat(r(o,u)))}),e}(i,(o,u)=>u===Ft?[Mh(i.children[Ft],!1)]:[`${u}:${Mh(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ft]?`${Qc(i)}/${e[0]}`:`${Qc(i)}/(${e.join("//")})`}}function DI(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hp(i){return DI(i).replace(/%3B/gi,";")}function U_(i){return DI(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $p(i){return decodeURIComponent(i)}function OE(i){return $p(i.replace(/\+/g,"%20"))}function PE(i){return`${U_(i.path)}${function(i){return Object.keys(i).map(r=>`;${U_(r)}=${U_(i[r])}`).join("")}(i.parameters)}`}const SI=/^[^\/()?;=#]+/;function xh(i){const r=i.match(SI);return r?r[0]:""}const Oh=/^[^=?&#]+/,kE=/^[^?&#]+/;class MI{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[Ft]=new Bt(r,e)),o}parseSegment(){const r=xh(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Rh($p(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=xh(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=xh(this.remaining);u&&(o=u,this.capture(o))}r[$p(e)]=$p(o)}parseQueryParam(r){const e=function(i){const r=i.match(Oh);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function(i){const r=i.match(kE);return r?r[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const u=OE(e),h=OE(o);if(r.hasOwnProperty(u)){let g=r[u];Array.isArray(g)||(g=[g],r[u]=g),g.push(h)}else r[u]=h}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=xh(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=Ft);const g=this.parseChildren();e[h]=1===Object.keys(g).length?g[Ft]:new Bt([],g),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class FE{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=B_(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=B_(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=j_(r,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return j_(r,this._root).map(e=>e.value)}}function B_(i,r){if(i===r.value)return r;for(const e of r.children){const o=B_(i,e);if(o)return o}return null}function j_(i,r){if(i===r.value)return[r];for(const e of r.children){const o=j_(i,e);if(o.length)return o.unshift(r),o}return[]}class Fo{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ph(i){const r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}class LE extends FE{constructor(r,e){super(r),this.snapshot=e,H_(this,r)}toString(){return this.snapshot.toString()}}function NI(i,r){const e=function(i,r){const g=new Gp([],{},{},"",{},Ft,r,null,i.root,-1,{});return new VE("",new Fo(g,[]))}(i,r),o=new Es([new Rh("",{})]),u=new Es({}),h=new Es({}),g=new Es({}),C=new Es(""),D=new kh(o,u,g,C,h,Ft,r,e.root);return D.snapshot=e.root,new LE(new Fo(D,[]),e)}class kh{constructor(r,e,o,u,h,g,C,D){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=g,this.component=C,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(r=>gu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(r=>gu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wp(i,r="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const u=e[o],h=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(h.component)break;o--}}return function(i){return i.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Gp{constructor(r,e,o,u,h,g,C,D,R,W,U){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=g,this.component=C,this.routeConfig=D,this._urlSegment=R,this._lastPathIndex=W,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VE extends FE{constructor(r,e){super(e),this.url=r,H_(this,e)}toString(){return UE(this._root)}}function H_(i,r){r.value._routerState=i,r.children.forEach(e=>H_(i,e))}function UE(i){const r=i.children.length>0?` { ${i.children.map(UE).join(", ")} } `:"";return`${i.value}${r}`}function $_(i){if(i.snapshot){const r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Is(r.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),r.fragment!==e.fragment&&i.fragment.next(e.fragment),Is(r.params,e.params)||i.params.next(e.params),function(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!Is(i[e],r[e]))return!1;return!0}(r.url,e.url)||i.url.next(e.url),Is(r.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function zp(i,r){return Is(i.params,r.params)&&function(i,r){return _u(i,r)&&i.every((e,o)=>Is(e.parameters,r[o].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||zp(i.parent,r.parent))}function Zp(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const u=function(i,r,e){return r.children.map(o=>{for(const u of e.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return Zp(i,o,u);return Zp(i,o)})}(i,r,e);return new Fo(o,u)}{if(i.shouldAttach(r.value)){const h=i.retrieve(r.value);if(null!==h){const g=h.route;return yu(r,g),g}}const o=function(i){return new kh(new Es(i.url),new Es(i.params),new Es(i.queryParams),new Es(i.fragment),new Es(i.data),i.outlet,i.component,i)}(r.value),u=r.children.map(h=>Zp(i,h));return new Fo(o,u)}}function yu(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)yu(i.children[e],r.children[e])}function Jc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Fh(i){return"object"==typeof i&&null!=i&&i.outlets}function qp(i,r,e,o,u){let h={};return o&&Xn(o,(g,C)=>{h[C]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),new mu(e.root===i?r:G_(e.root,i,r),h,u)}function G_(i,r,e){const o={};return Xn(i.children,(u,h)=>{o[h]=u===r?e:G_(u,r,e)}),new Bt(i.segments,o)}class z_{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&Jc(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(Fh);if(u&&u!==dt(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Z_{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function FI(i,r,e){if(i||(i=new Bt([],{})),0===i.segments.length&&i.hasChildren())return Kp(i,r,e);const o=function(i,r,e){let o=0,u=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=e.length)return h;const g=i.segments[u],C=e[o];if(Fh(C))break;const D=`${C}`,R=o<e.length-1?e[o+1]:null;if(u>0&&void 0===D)break;if(D&&R&&"object"==typeof R&&void 0===R.outlets){if(!HE(D,R,g))return h;o+=2}else{if(!HE(D,{},g))return h;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,r,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const h=new Bt(i.segments.slice(0,o.pathIndex),{});return h.children[Ft]=new Bt(i.segments.slice(o.pathIndex),i.children),Kp(h,0,u)}return o.match&&0===u.length?new Bt(i.segments,{}):o.match&&!i.hasChildren()?ll(i,r,e):o.match?Kp(i,0,u):ll(i,r,e)}function Kp(i,r,e){if(0===e.length)return new Bt(i.segments,{});{const o=function(i){return Fh(i[0])?i[0].outlets:{[Ft]:i}}(e),u={};return Xn(o,(h,g)=>{"string"==typeof h&&(h=[h]),null!==h&&(u[g]=FI(i.children[g],r,h))}),Xn(i.children,(h,g)=>{void 0===o[g]&&(u[g]=h)}),new Bt(i.segments,u)}}function ll(i,r,e){const o=i.segments.slice(0,r);let u=0;for(;u<e.length;){const h=e[u];if(Fh(h)){const D=JT(h.outlets);return new Bt(o,D)}if(0===u&&Jc(e[0])){o.push(new Rh(i.segments[r].path,q_(e[0]))),u++;continue}const g=Fh(h)?h.outlets[Ft]:`${h}`,C=u<e.length-1?e[u+1]:null;g&&C&&Jc(C)?(o.push(new Rh(g,q_(C))),u+=2):(o.push(new Rh(g,{})),u++)}return new Bt(o,{})}function JT(i){const r={};return Xn(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=ll(new Bt([],{}),0,e))}),r}function q_(i){const r={};return Xn(i,(e,o)=>r[o]=`${e}`),r}function HE(i,r,e){return i==e.path&&Is(r,e.parameters)}class $E{constructor(r,e,o,u){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),$_(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const u=Ph(e);r.children.forEach(h=>{const g=h.value.outlet;this.deactivateRoutes(h,u[g],o),delete u[g]}),Xn(u,(h,g)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,e,o){const u=r.value,h=e?e.value:null;if(u===h)if(u.component){const g=o.getContext(u.outlet);g&&this.deactivateChildRoutes(r,e,g.children)}else this.deactivateChildRoutes(r,e,o);else h&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:h})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,h=Ph(r);for(const g of Object.keys(h))this.deactivateRouteAndItsChildren(h[g],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const u=Ph(e);r.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],o),this.forwardEvent(new RE(h.value.snapshot))}),r.children.length&&this.forwardEvent(new Sh(r.value.snapshot))}activateRoutes(r,e,o){const u=r.value,h=e?e.value:null;if($_(u),u===h)if(u.component){const g=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,e,g.children)}else this.activateChildRoutes(r,e,o);else if(u.component){const g=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const C=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(C.contexts),g.attachRef=C.componentRef,g.route=C.route.value,g.outlet&&g.outlet.attach(C.componentRef,C.route.value),WE(C.route)}else{const C=function(i){for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),D=C?C.module.componentFactoryResolver:null;g.attachRef=null,g.route=u,g.resolver=D,g.outlet&&g.outlet.activateWith(u,D),this.activateChildRoutes(r,null,g.children)}}else this.activateChildRoutes(r,null,o)}}function WE(i){$_(i.value),i.children.forEach(WE)}class Y_{constructor(r,e){this.routes=r,this.module=e}}function ul(i){return"function"==typeof i}function vu(i){return i instanceof mu}const Lh=Symbol("INITIAL_VALUE");function Vh(){return Kn(i=>function(...i){let r,e;return(0,M_.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,a_.k)(i[0])&&(i=i[0]),(0,cI.n)(i,e).lift(new dI(r))}(i.map(r=>r.pipe(sh(1),function(...i){const r=i[i.length-1];return(0,M_.K)(r)?(i.pop(),e=>IE(i,e,r)):e=>IE(i,e)}(Lh)))).pipe(Ri((r,e)=>{let o=!1;return e.reduce((u,h,g)=>u!==Lh?u:(h===Lh&&(o=!0),o||!1!==h&&g!==e.length-1&&!vu(h)?u:h),r)},Lh),Pc(r=>r!==Lh),(0,Ct.U)(r=>vu(r)?r:!0===r),sh(1)))}let Xc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[uy]},encapsulation:2}),i})();function Q_(i,r=""){for(let e=0;e<i.length;e++){const o=i[e];GE(o,zE(r,o))}}function GE(i,r){i.children&&Q_(i.children,r)}function zE(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function Yp(i){const r=i.children&&i.children.map(Yp),e=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=Xc),e}function Ui(i){return i.outlet||Ft}function ZE(i,r){const e=i.filter(o=>Ui(o)===r);return e.push(...i.filter(o=>Ui(o)!==r)),e}const qE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qp(i,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},qE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||gI)(e,i,r);if(!h)return Object.assign({},qE);const g={};Xn(h.posParams,(D,R)=>{g[R]=D.path});const C=h.consumed.length>0?Object.assign(Object.assign({},g),h.consumed[h.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:C,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function Jp(i,r,e,o,u="corrected"){if(e.length>0&&function(i,r,e){return e.some(o=>cl(i,r,o)&&Ui(o)!==Ft)}(i,e,o)){const g=new Bt(r,function(i,r,e,o){const u={};u[Ft]=o,o._sourceSegment=i,o._segmentIndexShift=r.length;for(const h of e)if(""===h.path&&Ui(h)!==Ft){const g=new Bt([],{});g._sourceSegment=i,g._segmentIndexShift=r.length,u[Ui(h)]=g}return u}(i,r,o,new Bt(e,i.children)));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(i,r,e){return e.some(o=>cl(i,r,o))}(i,e,o)){const g=new Bt(i.segments,function(i,r,e,o,u,h){const g={};for(const C of o)if(cl(i,e,C)&&!u[Ui(C)]){const D=new Bt([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:r.length,g[Ui(C)]=D}return Object.assign(Object.assign({},u),g)}(i,r,e,o,i.children,u));return g._sourceSegment=i,g._segmentIndexShift=r.length,{segmentGroup:g,slicedSegments:e}}const h=new Bt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:e}}function cl(i,r,e){return(!(i.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function KE(i,r,e,o){return!!(Ui(i)===o||o!==Ft&&cl(r,e,i))&&("**"===i.path||Qp(r,i,e).matched)}function Xp(i,r,e){return 0===r.length&&!i.children[e]}class Ei{constructor(r){this.segmentGroup=r||null}}class YE{constructor(r){this.urlTree=r}}function Cu(i){return new qn.y(r=>r.error(new Ei(i)))}function QE(i){return new qn.y(r=>r.error(new YE(i)))}function zI(i){return new qn.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class X_{constructor(r,e,o,u,h){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=Jp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ft).pipe((0,Ct.U)(h=>this.createUrlTree(Bh(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bs(h=>{if(h instanceof YE)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Ei?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Ft).pipe((0,Ct.U)(u=>this.createUrlTree(Bh(u),r.queryParams,r.fragment))).pipe(bs(u=>{throw u instanceof Ei?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const u=r.segments.length>0?new Bt([],{[Ft]:r}):r;return new mu(u,e,o)}expandSegmentGroup(r,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,Ct.U)(h=>new Bt([],h))):this.expandSegment(r,o,e,o.segments,u,!0)}expandChildren(r,e,o){const u=[];for(const h of Object.keys(o.children))"primary"===h?u.unshift(h):u.push(h);return(0,cn.D)(u).pipe(Wr(h=>{const g=o.children[h],C=ZE(e,h);return this.expandSegmentGroup(r,C,g,h).pipe((0,Ct.U)(D=>({segment:D,outlet:h})))}),Ri((h,g)=>(h[g.outlet]=g.segment,h),{}),function(i,r){const e=arguments.length>=2;return o=>o.pipe(i?Pc((u,h)=>i(u,h,o)):Qv.y,Th(1),e?Q0(r):Am(()=>new Tm))}())}expandSegment(r,e,o,u,h,g){return(0,cn.D)(o).pipe(Wr(C=>this.expandSegmentAgainstRoute(r,e,o,C,u,h,g).pipe(bs(R=>{if(R instanceof Ei)return(0,it.of)(null);throw R}))),el(C=>!!C),bs((C,D)=>{if(C instanceof Tm||"EmptyError"===C.name){if(Xp(e,u,h))return(0,it.of)(new Bt([],{}));throw new Ei(e)}throw C}))}expandSegmentAgainstRoute(r,e,o,u,h,g,C){return KE(u,e,h,g)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,e,u,h,g):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,u,h,g):Cu(e):Cu(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,u,h,g){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,g):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,h,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,u){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?QE(h):this.lineralizeSegments(o,h).pipe((0,qe.zg)(g=>{const C=new Bt(g,{});return this.expandSegment(r,C,e,g,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,h,g){const{matched:C,consumedSegments:D,lastChild:R,positionalParamSegments:W}=Qp(e,u,h);if(!C)return Cu(e);const U=this.applyRedirectCommands(D,u.redirectTo,W);return u.redirectTo.startsWith("/")?QE(U):this.lineralizeSegments(u,U).pipe((0,qe.zg)(ne=>this.expandSegment(r,e,o,ne.concat(h.slice(R)),g,!1)))}matchSegmentAgainstRoute(r,e,o,u,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,it.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Ct.U)(ne=>(o._loadedConfig=ne,new Bt(u,{})))):(0,it.of)(new Bt(u,{}));const{matched:g,consumedSegments:C,lastChild:D}=Qp(e,o,u);if(!g)return Cu(e);const R=u.slice(D);return this.getChildConfig(r,o,u).pipe((0,qe.zg)(U=>{const ne=U.module,Ie=U.routes,{segmentGroup:Le,slicedSegments:at}=Jp(e,C,R,Ie),mt=new Bt(Le.segments,Le.children);if(0===at.length&&mt.hasChildren())return this.expandChildren(ne,Ie,mt).pipe((0,Ct.U)(an=>new Bt(C,an)));if(0===Ie.length&&0===at.length)return(0,it.of)(new Bt(C,{}));const kn=Ui(o)===h;return this.expandSegment(ne,mt,Ie,at,kn?Ft:h,!0).pipe((0,Ct.U)($n=>new Bt(C.concat($n.segments),$n.children)))}))}getChildConfig(r,e,o){return e.children?(0,it.of)(new Y_(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,it.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,qe.zg)(u=>u?this.configLoader.load(r.injector,e).pipe((0,Ct.U)(h=>(e._loadedConfig=h,h))):function(i){return new qn.y(r=>r.error(Vp(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):(0,it.of)(new Y_([],r))}runCanLoadGuards(r,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,it.of)(!0);const h=u.map(g=>{const C=r.get(g);let D;if(function(i){return i&&ul(i.canLoad)}(C))D=C.canLoad(e,o);else{if(!ul(C))throw new Error("Invalid CanLoad guard");D=C(e,o)}return ko(D)});return(0,it.of)(h).pipe(Vh(),(0,Ci.b)(g=>{if(!vu(g))return;const C=Vp(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw C.url=g,C}),(0,Ct.U)(g=>!0===g))}lineralizeSegments(r,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,it.of)(o);if(u.numberOfChildren>1||!u.children[Ft])return zI(r.redirectTo);u=u.children[Ft]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,u){const h=this.createSegmentGroup(r,e.root,o,u);return new mu(h,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return Xn(r,(u,h)=>{if("string"==typeof u&&u.startsWith(":")){const C=u.substring(1);o[h]=e[C]}else o[h]=u}),o}createSegmentGroup(r,e,o,u){const h=this.createSegments(r,e.segments,o,u);let g={};return Xn(e.children,(C,D)=>{g[D]=this.createSegmentGroup(r,C,o,u)}),new Bt(h,g)}createSegments(r,e,o,u){return e.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,u):this.findOrReturn(h,o))}findPosParam(r,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return u}findOrReturn(r,e){let o=0;for(const u of e){if(u.path===r.path)return e.splice(o),u;o++}return r}}function Bh(i){const r={};for(const o of Object.keys(i.children)){const h=Bh(i.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(i){if(1===i.numberOfChildren&&i.children[Ft]){const r=i.children[Ft];return new Bt(i.segments.concat(r.segments),r.children)}return i}(new Bt(i.segments,r))}class XE{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class eg{constructor(r,e){this.component=r,this.route=e}}function ZI(i,r,e){const o=i._root;return ed(o,r?r._root:null,e,[o.value])}function jh(i,r,e){const o=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(i)}function ed(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=Ph(r);return i.children.forEach(g=>{(function(i,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,g=r?r.value:null,C=e?e.getContext(i.value.outlet):null;if(g&&h.routeConfig===g.routeConfig){const D=function(i,r,e){if("function"==typeof e)return e(i,r);switch(e){case"pathParamsChange":return!_u(i.url,r.url);case"pathParamsOrQueryParamsChange":return!_u(i.url,r.url)||!Is(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zp(i,r)||!Is(i.queryParams,r.queryParams);case"paramsChange":default:return!zp(i,r)}}(g,h,h.routeConfig.runGuardsAndResolvers);D?u.canActivateChecks.push(new XE(o)):(h.data=g.data,h._resolvedData=g._resolvedData),ed(i,r,h.component?C?C.children:null:e,o,u),D&&C&&C.outlet&&C.outlet.isActivated&&u.canDeactivateChecks.push(new eg(C.outlet.component,g))}else g&&td(r,C,u),u.canActivateChecks.push(new XE(o)),ed(i,null,h.component?C?C.children:null:e,o,u)})(g,h[g.value.outlet],e,o.concat([g.value]),u),delete h[g.value.outlet]}),Xn(h,(g,C)=>td(g,e.getContext(C),u)),u}function td(i,r,e){const o=Ph(i),u=i.value;Xn(o,(h,g)=>{td(h,u.component?r?r.children.getContext(g):null:r,e)}),e.canDeactivateChecks.push(new eg(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class nd{}function ib(i){return new qn.y(r=>r.error(i))}class nA{constructor(r,e,o,u,h,g){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=g}recognize(){const r=Jp(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Ft);if(null===e)return null;const o=new Gp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Fo(o,e),h=new VE(this.url,u);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const e=r.value,o=Wp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const h of Object.keys(e.children)){const g=e.children[h],C=ZE(r,h),D=this.processSegmentGroup(C,g,h);if(null===D)return null;o.push(...D)}const u=sb(o);return function(i){i.sort((r,e)=>r.value.outlet===Ft?-1:e.value.outlet===Ft?1:r.value.outlet.localeCompare(e.value.outlet))}(u),u}processSegment(r,e,o,u){for(const h of r){const g=this.processSegmentAgainstRoute(h,e,o,u);if(null!==g)return g}return Xp(e,o,u)?[]:null}processSegmentAgainstRoute(r,e,o,u){if(r.redirectTo||!KE(r,e,o,u))return null;let h,g=[],C=[];if("**"===r.path){const Ie=o.length>0?dt(o).parameters:{};h=new Gp(o,Ie,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(r),Ui(r),r.component,r,ob(e),ab(e)+o.length,ry(r))}else{const Ie=Qp(e,r,o);if(!Ie.matched)return null;g=Ie.consumedSegments,C=o.slice(Ie.lastChild),h=new Gp(g,Ie.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(r),Ui(r),r.component,r,ob(e),ab(e)+g.length,ry(r))}const D=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(r),{segmentGroup:R,slicedSegments:W}=Jp(e,g,C,D.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution);if(0===W.length&&R.hasChildren()){const Ie=this.processChildren(D,R);return null===Ie?null:[new Fo(h,Ie)]}if(0===D.length&&0===W.length)return[new Fo(h,[])];const U=Ui(r)===u,ne=this.processSegment(D,R,W,U?Ft:u);return null===ne?null:[new Fo(h,ne)]}}function ny(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function sb(i){const r=[],e=new Set;for(const o of i){if(!ny(o)){r.push(o);continue}const u=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):r.push(o)}for(const o of e){const u=sb(o.children);r.push(new Fo(o.value,u))}return r.filter(o=>!e.has(o))}function ob(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function ab(i){let r=i,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function tg(i){return i.data||{}}function ry(i){return i.resolve||{}}function sy(i){return Kn(r=>{const e=i(r);return e?(0,cn.D)(e).pipe((0,Ct.U)(()=>r)):(0,it.of)(r)})}class db extends class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const oy=new d.OlP("ROUTES");class ig{constructor(r,e,o,u){this.loader=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,Ct.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=h.create(r);return new Y_(_I(g.injector.get(oy,void 0,d.XFs.Self|d.XFs.Optional)).map(Yp),g)}),bs(h=>{throw e._loader$=void 0,h}));return e._loader$=new on.c(u,()=>new ru.xQ).pipe((0,KT.x)()),e._loader$}loadModuleFactory(r){return"string"==typeof r?(0,cn.D)(this.loader.load(r)):ko(r()).pipe((0,qe.zg)(e=>e instanceof d.YKP?(0,it.of)(e):(0,cn.D)(this.compiler.compileModuleAsync(e))))}}class ay{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rd,this.attachRef=null}}class rd{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new ay,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}class hb{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function fb(i){throw i}function pb(i,r,e){return r.parse("/")}function gb(i,r){return(0,it.of)(null)}const mb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_b={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class i{constructor(e,o,u,h,g,C,D,R){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=h,this.config=R,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ru.xQ,this.errorHandler=fb,this.malformedUriErrorHandler=pb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gb,afterPreactivation:gb},this.urlHandlingStrategy=new hb,this.routeReuseStrategy=new db,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(d.h0i),this.console=g.get(d.c2e);const ne=g.get(d.R0b);this.isNgZoneEnabled=ne instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(R),this.currentUrlTree=new mu(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ig(C,D,Ie=>this.triggerEvent(new SE(Ie)),Ie=>this.triggerEvent(new x_(Ie))),this.routerState=NI(this.currentUrlTree,this.rootComponentType),this.transitions=new Es({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Pc(u=>0!==u.id),(0,Ct.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),Kn(u=>{let h=!1,g=!1;return(0,it.of)(u).pipe((0,Ci.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kn(C=>{const D=this.browserUrlTree.toString(),R=!this.navigated||C.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||R)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return $h(C.source)&&(this.browserUrlTree=C.extractedUrl),(0,it.of)(C).pipe(Kn(U=>{const ne=this.transitions.getValue();return o.next(new Vi(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),ne!==this.transitions.getValue()?No.E:Promise.resolve(U)}),function(i,r,e,o){return Kn(u=>function(i,r,e,o,u){return new X_(i,r,e,o,u).apply()}(i,r,e,u.extractedUrl,o).pipe((0,Ct.U)(h=>Object.assign(Object.assign({},u),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function(i,r,e,o,u){return(0,qe.zg)(h=>function(i,r,e,o,u="emptyOnly",h="legacy"){try{const g=new nA(i,r,e,o,u,h).recognize();return null===g?ib(new nd):(0,it.of)(g)}catch(g){return ib(g)}}(i,r,h.urlAfterRedirects,e(h.urlAfterRedirects),o,u).pipe((0,Ct.U)(g=>Object.assign(Object.assign({},h),{targetSnapshot:g}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(U=>{"eager"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(U.urlAfterRedirects,U),this.browserUrlTree=U.urlAfterRedirects);const ne=new N_(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);o.next(ne)}));if(R&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ne,extractedUrl:Ie,source:Le,restoredState:at,extras:mt}=C,kn=new Vi(ne,this.serializeUrl(Ie),Le,at);o.next(kn);const Mt=NI(Ie,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},C),{targetSnapshot:Mt,urlAfterRedirects:Ie,extras:Object.assign(Object.assign({},mt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,this.browserUrlTree=C.urlAfterRedirects,C.resolve(null),No.E}),sy(C=>{const{targetSnapshot:D,id:R,extractedUrl:W,rawUrl:U,extras:{skipLocationChange:ne,replaceUrl:Ie}}=C;return this.hooks.beforePreactivation(D,{navigationId:R,appliedUrlTree:W,rawUrlTree:U,skipLocationChange:!!ne,replaceUrl:!!Ie})}),(0,Ci.b)(C=>{const D=new Yc(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(D)}),(0,Ct.U)(C=>Object.assign(Object.assign({},C),{guards:ZI(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function(i,r){return(0,qe.zg)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:g}}=e;return 0===g.length&&0===h.length?(0,it.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,r,e,o){return(0,cn.D)(i).pipe((0,qe.zg)(u=>function(i,r,e,o,u){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,it.of)(!0);const g=h.map(C=>{const D=jh(C,r,u);let R;if(function(i){return i&&ul(i.canDeactivate)}(D))R=ko(D.canDeactivate(i,r,e,o));else{if(!ul(D))throw new Error("Invalid CanDeactivate guard");R=ko(D(i,r,e,o))}return R.pipe(el())});return(0,it.of)(g).pipe(Vh())}(u.component,u.route,e,r,o)),el(u=>!0!==u,!0))}(g,o,u,i).pipe((0,qe.zg)(C=>C&&function(i){return"boolean"==typeof i}(C)?function(i,r,e,o){return(0,cn.D)(r).pipe(Wr(u=>IE(function(i,r){return null!==i&&r&&r(new O_(i)),(0,it.of)(!0)}(u.route.parent,o),function(i,r){return null!==i&&r&&r(new P_(i)),(0,it.of)(!0)}(u.route,o),function(i,r,e){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(g=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(g)).filter(g=>null!==g).map(g=>qc(()=>{const C=g.guards.map(D=>{const R=jh(D,g.node,e);let W;if(function(i){return i&&ul(i.canActivateChild)}(R))W=ko(R.canActivateChild(o,i));else{if(!ul(R))throw new Error("Invalid CanActivateChild guard");W=ko(R(o,i))}return W.pipe(el())});return(0,it.of)(C).pipe(Vh())}));return(0,it.of)(h).pipe(Vh())}(i,u.path,e),function(i,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,it.of)(!0);const u=o.map(h=>qc(()=>{const g=jh(h,r,e);let C;if(function(i){return i&&ul(i.canActivate)}(g))C=ko(g.canActivate(r,i));else{if(!ul(g))throw new Error("Invalid CanActivate guard");C=ko(g(r,i))}return C.pipe(el())}));return(0,it.of)(u).pipe(Vh())}(i,u.route,e))),el(u=>!0!==u,!0))}(o,h,i,r):(0,it.of)(C)),(0,Ct.U)(C=>Object.assign(Object.assign({},e),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,Ci.b)(C=>{if(vu(C.guardsResult)){const R=Vp(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw R.url=C.guardsResult,R}const D=new Ah(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(D)}),Pc(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),sy(C=>{if(C.guards.canActivateChecks.length)return(0,it.of)(C).pipe((0,Ci.b)(D=>{const R=new pI(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}),Kn(D=>{let R=!1;return(0,it.of)(D).pipe(function(i,r){return(0,qe.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,it.of)(e);let h=0;return(0,cn.D)(u).pipe(Wr(g=>function(i,r,e,o){return function(i,r,e,o){const u=Object.keys(i);if(0===u.length)return(0,it.of)({});const h={};return(0,cn.D)(u).pipe((0,qe.zg)(g=>function(i,r,e,o){const u=jh(i,r,o);return ko(u.resolve?u.resolve(r,e):u(r,e))}(i[g],r,e,o).pipe((0,Ci.b)(C=>{h[g]=C}))),Th(1),(0,qe.zg)(()=>Object.keys(h).length===u.length?(0,it.of)(h):No.E))}(i._resolve,i,r,o).pipe((0,Ct.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),Wp(i,e).resolve),null)))}(g.route,o,i,r)),(0,Ci.b)(()=>h++),Th(1),(0,qe.zg)(g=>h===u.length?(0,it.of)(e):No.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>R=!0,complete:()=>{R||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(D=>{const R=new fu(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}))}),sy(C=>{const{targetSnapshot:D,id:R,extractedUrl:W,rawUrl:U,extras:{skipLocationChange:ne,replaceUrl:Ie}}=C;return this.hooks.afterPreactivation(D,{navigationId:R,appliedUrlTree:W,rawUrlTree:U,skipLocationChange:!!ne,replaceUrl:!!Ie})}),(0,Ct.U)(C=>{const D=function(i,r,e){const o=Zp(i,r._root,e?e._root:void 0);return new LE(o,r)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return Object.assign(Object.assign({},C),{targetRouterState:D})}),(0,Ci.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((i,r,e)=>(0,Ct.U)(o=>(new $E(r,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,Ci.b)({next(){h=!0},complete(){h=!0}}),function(i){return r=>r.lift(new fI(i))}(()=>{var C;if(!h&&!g){const D=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,D)):this.cancelNavigationTransition(u,D)}(null===(C=this.currentNavigation)||void 0===C?void 0:C.id)===u.id&&(this.currentNavigation=null)}),bs(C=>{if(g=!0,function(i){return i&&i[k_]}(C)){const D=vu(C.url);D||(this.navigated=!0,this.restoreHistory(u,!0));const R=new TE(u.id,this.serializeUrl(u.extractedUrl),C.message);o.next(R),D?setTimeout(()=>{const W=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),U={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$h(u.source)};this.scheduleNavigation(W,"imperative",null,U,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const D=new AE(u.id,this.serializeUrl(u.extractedUrl),C);o.next(D);try{u.resolve(this.errorHandler(C))}catch(R){u.reject(R)}}return No.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:h,urlTree:g}=o,C={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(C.state=D)}this.scheduleNavigation(g,u,h,C)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const u=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!u||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Q_(e),this.config=e.map(Yp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:h,fragment:g,queryParamsHandling:C,preserveFragment:D}=o,R=u||this.routerState.root,W=D?this.currentUrlTree.fragment:g;let U=null;switch(C){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=h||null}return null!==U&&(U=this.removeEmptyProps(U)),function(i,r,e,o,u){if(0===e.length)return qp(r.root,r.root,r,o,u);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new z_(!0,0,i);let r=0,e=!1;const o=i.reduce((u,h,g)=>{if("object"==typeof h&&null!=h){if(h.outlets){const C={};return Xn(h.outlets,(D,R)=>{C[R]="string"==typeof D?D.split("/"):D}),[...u,{outlets:C}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===g?(h.split("/").forEach((C,D)=>{0==D&&"."===C||(0==D&&""===C?e=!0:".."===C?r++:""!=C&&u.push(C))}),u):[...u,h]},[]);return new z_(e,r,o)}(e);if(h.toRoot())return qp(r.root,new Bt([],{}),r,o,u);const g=function(i,r,e){if(i.isAbsolute)return new Z_(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const h=e.snapshot._urlSegment;return new Z_(h,h===r.root,0)}const o=Jc(i.commands[0])?0:1;return function(i,r,e){let o=i,u=r,h=e;for(;h>u;){if(h-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Z_(o,!1,u-h)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(h,r,i),C=g.processChildren?Kp(g.segmentGroup,g.index,h.commands):FI(g.segmentGroup,g.index,h.commands);return qp(g.segmentGroup,C,r,o,u)}(R,this.currentUrlTree,e,U,null!=W?W:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=vu(e)?e:this.parseUrl(e),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const e=i[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},mb):!1===o?Object.assign({},_b):o,vu(e))return EI(this.currentUrlTree,e,u);const h=this.parseUrl(e);return EI(this.currentUrlTree,h,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const h=e[u];return null!=h&&(o[u]=h),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Kc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,u,h,g){var C,D;if(this.disposed)return Promise.resolve(!1);const R=this.getTransition(),W=$h(o)&&R&&!$h(R.source),Ie=(this.lastSuccessfulId===R.id||this.currentNavigation?R.rawUrl:R.urlAfterRedirects).toString()===e.toString();if(W&&Ie)return Promise.resolve(!0);let Le,at,mt;g?(Le=g.resolve,at=g.reject,mt=g.promise):mt=new Promise(($n,an)=>{Le=$n,at=an});const kn=++this.navigationId;let Mt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Mt=u&&u.\u0275routerPageId?u.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(C=this.browserPageId)&&void 0!==C?C:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Mt=0,this.setTransition({id:kn,targetPageId:Mt,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:h,resolve:Le,reject:at,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch($n=>Promise.reject($n))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",h):this.location.go(u,"",h)}restoreHistory(e,o=!1){var u,h;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===g?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new TE(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(V_),d.LFG(rd),d.LFG(je),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function $h(i){return"imperative"!==i}let Wh=(()=>{class i{constructor(e,o,u){this.router=e,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new ru.xQ,this.subscription=e.events.subscribe(h=>{h instanceof Kc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,u,h,g){if(0!==e||o||u||h||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const C={skipLocationChange:Eu(this.skipLocationChange),replaceUrl:Eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Eu(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(oi),d.Y36(kh),d.Y36(he))},i.\u0275dir=d.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&d.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&e&&(d.Ikx("href",o.href,d.LSH),d.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})();function Eu(i){return""===i||!!i}let uy=(()=>{class i{constructor(e,o,u,h,g){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=h||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,D=new iD(e,C,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(rd),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class iD{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===kh?this.route:r===rd?this.childContexts:this.parent.get(r,e)}}class Cb{}class sD{preload(r,e){return(0,it.of)(null)}}let oD=(()=>{class i{constructor(e,o,u,h,g){this.router=e,this.injector=h,this.preloadingStrategy=g,this.loader=new ig(o,u,R=>e.triggerEvent(new SE(R)),R=>e.triggerEvent(new x_(R)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pc(e=>e instanceof Kc),Wr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const g=h._loadedConfig;u.push(this.processRoutes(g.module,g.routes))}else h.loadChildren&&!h.canLoad?u.push(this.preloadConfig(e,h)):h.children&&u.push(this.processRoutes(e,h.children));return(0,cn.D)(u).pipe((0,du.J)(),(0,Ct.U)(h=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,it.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,qe.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(oi),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Cb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),bb=(()=>{class i{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new pu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(oi),d.LFG(Ji),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const id=new d.OlP("ROUTER_CONFIGURATION"),aD=new d.OlP("ROUTER_FORROOT_GUARD"),sA=[je,{provide:V_,useClass:NE},{provide:oi,useFactory:function(i,r,e,o,u,h,g,C={},D,R){const W=new oi(null,i,r,e,o,u,h,_I(g));return D&&(W.urlHandlingStrategy=D),R&&(W.routeReuseStrategy=R),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(C,W),C.enableTracing&&W.events.subscribe(U=>{var ne,Ie;null===(ne=console.group)||void 0===ne||ne.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(Ie=console.groupEnd)||void 0===Ie||Ie.call(console)}),W},deps:[V_,rd,je,d.zs3,d.v3s,d.Sil,oy,id,[class{},new d.FiY],[class{},new d.FiY]]},rd,{provide:kh,useFactory:function(i){return i.routerState.root},deps:[oi]},{provide:d.v3s,useClass:d.EAV},oD,sD,class{preload(r,e){return e().pipe(bs(()=>(0,it.of)(null)))}},{provide:id,useValue:{enableTracing:!1}}];function oA(){return new d.PXZ("Router",oi)}let aA=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[sA,lD(e),{provide:aD,useFactory:cA,deps:[[oi,new d.FiY,new d.tp0]]},{provide:id,useValue:o||{}},{provide:he,useFactory:uA,deps:[Q,[new d.tBr(de),new d.FiY],id]},{provide:bb,useFactory:lA,deps:[oi,Ji,id]},{provide:Cb,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:sD},{provide:d.PXZ,multi:!0,useFactory:oA},[cy,{provide:d.ip1,multi:!0,useFactory:uD,deps:[cy]},{provide:dD,useFactory:cD,deps:[cy]},{provide:d.tb,multi:!0,useExisting:dD}]]}}static forChild(e){return{ngModule:i,providers:[lD(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(aD,8),d.LFG(oi,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function lA(i,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new bb(i,r,e)}function uA(i,r,e={}){return e.useHash?new Se(i,r):new fe(i,r)}function cA(i){return"guarded"}function lD(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:oy,multi:!0,useValue:i}]}let cy=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ru.xQ}appInitializer(){return this.injector.get(O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(C=>o=C),h=this.injector.get(oi),g=this.injector.get(id);return"disabled"===g.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(id),u=this.injector.get(oD),h=this.injector.get(bb),g=this.injector.get(oi),C=this.injector.get(d.z2F);e===C.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),u.setUpPreloading(),h.init(),g.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function uD(i){return i.appInitializer.bind(i)}function cD(i){return i.bootstrapListener.bind(i)}const dD=new d.OlP("Router Initializer"),wb_firebase={apiKey:"AIzaSyACr8HkZLTxakxLM0rITv9t5DN9i9YCfB0",authDomain:"wa-demo-5dd08.firebaseapp.com",databaseURL:"https://wa-demo-5dd08-default-rtdb.europe-west1.firebasedatabase.app",projectId:"wa-demo-5dd08",storageBucket:"wa-demo-5dd08.appspot.com",messagingSenderId:"542229914938",appId:"1:542229914938:web:ae67a9f315f878b7655c03"};let bu=(()=>{class i{constructor(){}isLogged(){return!!localStorage.getItem("auth")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hD(i,r){1&i&&(d.TgZ(0,"li",4),d.TgZ(1,"a",9),d._uU(2,"Cr\xe9er un profil User"),d.qZA(),d.qZA())}function gA(i,r){1&i&&(d.TgZ(0,"li",4),d.TgZ(1,"a",10),d._uU(2,"Connexion"),d.qZA(),d.qZA())}function mA(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"li",4),d.TgZ(1,"a",11),d.NdJ("click",function(u){return d.CHM(e),d.oxw().onClickDeconnexion(u)}),d._uU(2,"Deconnexion"),d.qZA(),d.qZA()}}let _A=(()=>{class i{constructor(e,o){this.authService=e,this.auth=o,this.title="jour3Firebase"}ngOnInit(){}onClickDeconnexion(e){e.preventDefault(),localStorage.removeItem("auth"),this.auth.signOut(),window.location.href="/"}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(bu),d.Y36(Vc))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:16,vars:4,consts:[[1,"container"],[1,"navbar","navbar-expand","navbar-light","bg-light","px-4"],["routerLink","/",1,"navbar-brand"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/todo",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"navbar-nav","ms-auto"],["routerLink","/enregistrement",1,"nav-link"],["routerLink","/connexion",1,"nav-link"],["routerLink","/",1,"nav-link",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"nav",1),d.TgZ(2,"a",2),d._uU(3),d.qZA(),d.TgZ(4,"ul",3),d.TgZ(5,"li",4),d.TgZ(6,"a",5),d._uU(7,"Budget"),d.qZA(),d.qZA(),d.TgZ(8,"li",4),d.TgZ(9,"a",6),d._uU(10,"Todo List"),d.qZA(),d.qZA(),d.YNc(11,hD,3,0,"li",7),d.qZA(),d.TgZ(12,"ul",8),d.YNc(13,gA,3,0,"li",7),d.YNc(14,mA,3,0,"li",7),d.qZA(),d.qZA(),d._UZ(15,"router-outlet"),d.qZA()),2&e&&(d.xp6(3),d.Oqu(o.title),d.xp6(8),d.Q6J("ngIf",o.authService.isLogged()),d.xp6(2),d.Q6J("ngIf",!o.authService.isLogged()),d.xp6(1),d.Q6J("ngIf",o.authService.isLogged()))},directives:[Wh,hr,uy],encapsulation:2}),i})(),yA=(()=>{class i{constructor(e){this.db=e,this.encours=0}ngOnInit(){this.db.list("/todos").valueChanges().subscribe(e=>{let o=0;e.forEach(u=>{!1===u.status&&(o+=1)}),this.encours=o})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-encours"]],decls:4,vars:1,consts:[[1,"fs-2"],[1,"badge","bg-primary"]],template:function(e,o){1&e&&(d.TgZ(0,"h1",0),d._uU(1," nombre d'action en cours "),d.TgZ(2,"span",1),d._uU(3),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Oqu(o.encours))},encapsulation:2}),i})();function fD(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"input",11),d.NdJ("click",function(){d.CHM(e);const u=d.oxw().$implicit;return d.oxw().onClickSuppr(u.id)}),d.qZA()}}function vA(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"input",12),d.NdJ("click",function(){d.CHM(e);const u=d.oxw().$implicit,h=d.MAs(2),g=d.MAs(4);return d.oxw().onClickModif(u.id,h.value,g.value)}),d.qZA()}}function pD(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",2),d.TgZ(1,"input",3,4),d.NdJ("ngModelChange",function(u){return d.CHM(e).$implicit.nom=u}),d.qZA(),d.TgZ(3,"select",5,6),d.NdJ("ngModelChange",function(u){return d.CHM(e).$implicit.status=u}),d.TgZ(5,"option",7),d._uU(6,"En Cours"),d.qZA(),d.TgZ(7,"option",8),d._uU(8,"Fini"),d.qZA(),d.qZA(),d.YNc(9,fD,1,0,"input",9),d.YNc(10,vA,1,0,"input",10),d.qZA()}if(2&i){const e=r.$implicit,o=d.oxw();d.xp6(1),d.Q6J("ngModel",e.nom),d.xp6(2),d.Q6J("ngModel",e.status),d.xp6(6),d.Q6J("ngIf",o.auth.isLogged()),d.xp6(1),d.Q6J("ngIf",o.auth.isLogged())}}let dy=(()=>{class i{constructor(e,o){this.db=e,this.auth=o}onClickSuppr(e){this.db.list(`/todos/${e}`).remove()}onClickModif(e,o,u){this.db.list("/todos").update(e,{nom:o,status:"true"===u})}ngOnInit(){this.db.list("/todos").snapshotChanges().pipe((0,Ct.U)(e=>e.map(o=>Object.assign({id:o.key},o.payload.val())))).subscribe(e=>this.todos=e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga),d.Y36(bu))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-liste-todo"]],decls:4,vars:1,consts:[[1,"text-center"],["class","d-flex my-2",4,"ngFor","ngForOf"],[1,"d-flex","my-2"],["type","text","name","nom",1,"form-control",3,"ngModel","ngModelChange"],["nom",""],["name","status",1,"form-select","mx-2",3,"ngModel","ngModelChange"],["status",""],["value","false"],["value","true"],["type","submit","class","btn btn-outline-danger","value","suppr",3,"click",4,"ngIf"],["type","submit","class","btn btn-outline-warning ms-2","value","modif",3,"click",4,"ngIf"],["type","submit","value","suppr",1,"btn","btn-outline-danger",3,"click"],["type","submit","value","modif",1,"btn","btn-outline-warning","ms-2",3,"click"]],template:function(e,o){1&e&&(d._UZ(0,"hr"),d.TgZ(1,"h3",0),d._uU(2,"Liste des actions "),d.qZA(),d.YNc(3,pD,11,4,"form",1)),2&e&&(d.xp6(3),d.Q6J("ngForOf",o.todos))},directives:[Lt,ol,ou,sl,Po,su,Pr,Pp,A_,Jw,hr],encapsulation:2}),i})(),sd=(()=>{class i{constructor(e){this.db=e,this.titre="ajouter un todo"}ngOnInit(){}onSubmit(e){e.valid&&(console.log(e.value),this.db.list("/todos").push({nom:e.value.action,status:!1}),e.reset())}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-formulaire-todo"]],decls:7,vars:1,consts:[[1,"d-flex",3,"submit"],["f","ngForm"],["type","text","placeholder","action \xe0 r\xe9aliser","name","action","ngModel","","required","",1,"form-control"],["action","ngModel"],["type","submit",1,"btn","btn-success","ms-3"]],template:function(e,o){if(1&e){const u=d.EpF();d.TgZ(0,"h2"),d._uU(1),d.qZA(),d.TgZ(2,"form",0,1),d.NdJ("submit",function(){d.CHM(u);const g=d.MAs(3);return o.onSubmit(g)}),d._UZ(4,"input",2,3),d._UZ(6,"input",4),d.qZA()}2&e&&(d.xp6(1),d.Oqu(o.titre))},directives:[ol,ou,sl,Po,su,Pr,uu],encapsulation:2}),i})();function Ib(i,r){1&i&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d._UZ(2,"app-formulaire-todo"),d.qZA(),d.qZA())}let gD=(()=>{class i{constructor(e){this.auth=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(bu))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-todo"]],decls:7,vars:1,consts:[[1,"row"],[1,"offset-3","col-6"],["class","row",4,"ngIf"]],template:function(e,o){1&e&&(d.TgZ(0,"header",0),d.TgZ(1,"div",1),d._UZ(2,"app-encours"),d.qZA(),d.qZA(),d.YNc(3,Ib,3,0,"section",2),d.TgZ(4,"section",0),d.TgZ(5,"div",1),d._UZ(6,"app-liste-todo"),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngIf",o.auth.isLogged()))},directives:[yA,hr,dy,sd],encapsulation:2}),i})(),mD=(()=>{class i{constructor(e){this.db=e,this.total=0}ngOnInit(){this.db.list("/operations").valueChanges().subscribe(e=>{let o=0;e.forEach(u=>{o+=u.montant}),this.total=o})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-total"]],decls:4,vars:1,consts:[[1,"text-center"]],template:function(e,o){1&e&&(d.TgZ(0,"h1",0),d._uU(1,"Total"),d.qZA(),d.TgZ(2,"p",0),d._uU(3),d.qZA()),2&e&&(d.xp6(3),d.Oqu(o.total))},encapsulation:2}),i})(),hy=(()=>{class i{constructor(e){this.db=e,this.recette=0,this.depense=0}ngOnInit(){const e=this.db.list("/operations").valueChanges();e.subscribe(o=>{let u=0;o.filter(h=>h.montant>=0).forEach(h=>{u+=h.montant}),this.recette=u}),e.subscribe(o=>{let u=0;o.filter(h=>h.montant<0).forEach(h=>{u+=h.montant}),this.depense=u})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-sous-total"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-6","text-center"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h3"),d._uU(3,"D\xe9penses"),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"div",1),d.TgZ(7,"h3"),d._uU(8,"Recettes"),d.qZA(),d.TgZ(9,"p"),d._uU(10),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Oqu(o.depense),d.xp6(5),d.Oqu(o.recette))},encapsulation:2}),i})();function Db(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"input",9),d.NdJ("click",function(){d.CHM(e);const u=d.oxw().$implicit;return d.oxw().onClickSuppr(u.key)}),d.qZA()}}function Tb(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"input",10),d.NdJ("click",function(){d.CHM(e);const u=d.oxw().$implicit,h=d.MAs(2),g=d.MAs(4);return d.oxw().onClickModif(u.key,h.value,g.value)}),d.qZA()}}function Ab(i,r){if(1&i){const e=d.EpF();d.TgZ(0,"form",2),d.TgZ(1,"input",3,4),d.NdJ("ngModelChange",function(u){return d.CHM(e).$implicit.motif=u}),d.qZA(),d.TgZ(3,"input",5,6),d.NdJ("ngModelChange",function(u){return d.CHM(e).$implicit.montant=u}),d.qZA(),d.YNc(5,Db,1,0,"input",7),d.YNc(6,Tb,1,0,"input",8),d._UZ(7,"form"),d.qZA()}if(2&i){const e=r.$implicit,o=d.oxw();d.xp6(1),d.Q6J("ngModel",e.motif),d.xp6(2),d.Q6J("ngModel",e.montant),d.xp6(2),d.Q6J("ngIf",o.auth.isLogged()),d.xp6(1),d.Q6J("ngIf",o.auth.isLogged())}}let CA=(()=>{class i{constructor(e,o){this.db=e,this.auth=o,this.operations=[]}onClickSuppr(e){this.db.list(`/operations/${e}`).remove()}onClickModif(e,o,u){console.log(e,o,u),this.db.list("/operations").update(e,{motif:o,montant:parseInt(u)})}ngOnInit(){this.db.list("/operations").snapshotChanges().pipe((0,Ct.U)(o=>o.map(u=>Object.assign({key:u.key},u.payload.val())))).subscribe(o=>{this.operations=o})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga),d.Y36(bu))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-details"]],decls:4,vars:1,consts:[[1,"text-center"],["class","d-flex my-1 align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","my-1","align-items-center"],["type","text","name","motif",1,"form-control",3,"ngModel","ngModelChange"],["motif",""],["type","number","name","montant",1,"form-control","mx-3",3,"ngModel","ngModelChange"],["montant",""],["type","submit","class","btn btn-danger me-3 btn-sm","value","supp",3,"click",4,"ngIf"],["type","submit","class","btn btn-warning btn-sm","value","modif",3,"click",4,"ngIf"],["type","submit","value","supp",1,"btn","btn-danger","me-3","btn-sm",3,"click"],["type","submit","value","modif",1,"btn","btn-warning","btn-sm",3,"click"]],template:function(e,o){1&e&&(d._UZ(0,"hr"),d.TgZ(1,"h3",0),d._uU(2,"D\xe9tails"),d.qZA(),d.YNc(3,Ab,8,4,"form",1)),2&e&&(d.xp6(3),d.Q6J("ngForOf",o.operations))},directives:[Lt,ol,ou,sl,Po,su,Pr,lu,hr],encapsulation:2}),i})(),Sb=(()=>{class i{constructor(e){this.db=e,this.titre="ajouter une d\xe9pense / recette "}ngOnInit(){}onSubmit(e){if(e.valid){const o=e.value;this.db.list("/operations").push(o),e.reset()}}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-formulaire"]],decls:9,vars:1,consts:[[1,"d-flex",3,"submit"],["f","ngForm"],["type","text","placeholder","motif","name","motif","ngModel","","required","",1,"form-control"],["motif","ngModel"],["type","number","name","montant","ngModel","","required","",1,"form-control","mx-4"],["montant","ngModel"],["type","submit",1,"btn","btn-success"]],template:function(e,o){if(1&e){const u=d.EpF();d.TgZ(0,"h2"),d._uU(1),d.qZA(),d.TgZ(2,"form",0,1),d.NdJ("submit",function(){d.CHM(u);const g=d.MAs(3);return o.onSubmit(g)}),d._UZ(4,"input",2,3),d._UZ(6,"input",4,5),d._UZ(8,"input",6),d.qZA()}2&e&&(d.xp6(1),d.Oqu(o.titre))},directives:[ol,ou,sl,Po,su,Pr,uu,lu],encapsulation:2}),i})();function sg(i,r){1&i&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d._UZ(2,"app-formulaire"),d.qZA(),d.qZA())}let Rb=(()=>{class i{constructor(e,o){this.db=e,this.auth=o}onClick(e){const o={nom:e};this.db.list("/articles").push(o)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ga),d.Y36(bu))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-budget"]],decls:10,vars:1,consts:[[1,"row"],[1,"offset-3","col-6"],["class","row",4,"ngIf"]],template:function(e,o){1&e&&(d.TgZ(0,"header",0),d.TgZ(1,"div",1),d._UZ(2,"app-total"),d.qZA(),d.qZA(),d.TgZ(3,"section",0),d.TgZ(4,"div",1),d._UZ(5,"app-sous-total"),d.qZA(),d.qZA(),d.YNc(6,sg,3,0,"section",2),d.TgZ(7,"section",0),d.TgZ(8,"div",1),d._UZ(9,"app-details"),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Q6J("ngIf",o.auth.isLogged()))},directives:[mD,hy,hr,CA,Sb],encapsulation:2}),i})();function EA(i,r){if(1&i&&(d.TgZ(0,"div",12),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&i){const e=d.oxw();d.xp6(2),d.Oqu(e.messageErreur)}}function bA(i,r){if(1&i&&(d.TgZ(0,"div",13),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.qZA()),2&i){const e=d.oxw();d.xp6(2),d.Oqu(e.messageSuccess)}}let wA=(()=>{class i{constructor(e){this.auth=e,this.showMessage=!1,this.messageErreur="",this.showMessageSuccess=!1,this.messageSuccess=""}onSubmit(e){if(e.valid){const{email:o,password:u}=e.value;console.log(e.value),this.auth.createUserWithEmailAndPassword(o,u).then(h=>{this.showMessage=!1,this.showMessageSuccess=!0,this.messageSuccess="votre compte est bien cr\xe9\xe9",e.reset()}).catch(h=>{this.showMessage=!0,this.messageErreur=h.message})}else this.showMessage=!0,this.messageErreur="veuillez remplir les deux champs"}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Vc))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-enregistrement"]],decls:13,vars:2,consts:[[1,"text-center","mt-5"],[1,"offset-3","col-6",3,"submit"],["f","ngForm"],[1,"d-flex","my-4"],["name","email","type","email","placeholder","votre@email.fr","ngModel","","required","",1,"form-control","me-3"],["email","ngModel"],["name","password","type","password","placeholder","votre password","ngModel","","required","",1,"form-control"],["password","ngModel"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-dark"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(e,o){if(1&e){const u=d.EpF();d.TgZ(0,"h1",0),d._uU(1,"cr\xe9er un profil utilisateur dans Firebase Auth"),d.qZA(),d.TgZ(2,"form",1,2),d.NdJ("submit",function(){d.CHM(u);const g=d.MAs(3);return o.onSubmit(g)}),d.TgZ(4,"div",3),d._UZ(5,"input",4,5),d._UZ(7,"input",6,7),d.qZA(),d.TgZ(9,"div",8),d._UZ(10,"input",9),d.qZA(),d.qZA(),d.YNc(11,EA,3,1,"div",10),d.YNc(12,bA,3,1,"div",11)}2&e&&(d.xp6(11),d.Q6J("ngIf",o.showMessage),d.xp6(1),d.Q6J("ngIf",o.showMessageSuccess))},directives:[ol,ou,sl,Po,su,Pr,uu,hr],encapsulation:2}),i})();var _D=P(1243);let IA=(()=>{class i{constructor(e){this.auth=e}onClickPopUp(){const e=new _D.N;this.auth.signInWithPopup(e).then(o=>{localStorage.setItem("auth",JSON.stringify(o.user)),window.location.href="/"}).catch(o=>console.log(o))}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Vc))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-connexion-btn-google"]],decls:7,vars:0,consts:[[1,"text-center"],[1,"my-4"],[1,"btn","btn-success",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2,"Utiliser votre compte Gmail pour acc\xe9der au back office"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return o.onClickPopUp()}),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"path",4),d.qZA(),d._uU(6," Gmail "),d.qZA(),d.qZA())},encapsulation:2}),i})(),og=(()=>{class i{constructor(e){this.auth=e}onSubmit(e){if(e.valid){const{email:o,password:u}=e.value;this.auth.signInWithEmailAndPassword(o.trim(),u).then(h=>{localStorage.setItem("auth",JSON.stringify(h.user)),window.location.href="/"}).catch(h=>console.log(h.message))}}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Vc))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-connexion"]],decls:12,vars:0,consts:[[1,"text-center","mt-5"],[1,"offset-3","col-6",3,"submit"],["f","ngForm"],[1,"d-flex","my-4"],["name","email","type","email","placeholder","votre@email.fr","ngModel","","required","",1,"form-control","me-3"],["email","ngModel"],["name","password","type","password","placeholder","votre password","ngModel","","required","",1,"form-control"],["password","ngModel"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-dark"]],template:function(e,o){if(1&e){const u=d.EpF();d.TgZ(0,"h1",0),d._uU(1,"Connexion avec Firebase Auth"),d.qZA(),d.TgZ(2,"form",1,2),d.NdJ("submit",function(){d.CHM(u);const g=d.MAs(3);return o.onSubmit(g)}),d.TgZ(4,"div",3),d._UZ(5,"input",4,5),d._UZ(7,"input",6,7),d.qZA(),d.TgZ(9,"div",8),d._UZ(10,"input",9),d.qZA(),d.qZA(),d._UZ(11,"app-connexion-btn-google")}},directives:[ol,ou,sl,Po,su,Pr,uu,IA],encapsulation:2}),i})(),yD=(()=>{class i{constructor(e,o){this.nav=e,this.auth=o}canActivate(e){return!!this.auth.isLogged()||(this.nav.navigate(["/connexion"]),!1)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(oi),d.LFG(bu))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),DA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[_A]}),i.\u0275inj=d.cJS({providers:[bu],imports:[[ef,aI,sr.hO.initializeApp(wb_firebase),ww,aA.forRoot([{path:"",component:Rb},{path:"todo",component:gD},{path:"enregistrement",component:wA,canActivate:[yD]},{path:"connexion",component:og}])]]}),i})();(0,d.G48)(),Fs().bootstrapModule(DA).catch(i=>console.error(i))},4762:(ze,Ae,P)=>{"use strict";function ue(oe,pe){var ve={};for(var Ce in oe)Object.prototype.hasOwnProperty.call(oe,Ce)&&pe.indexOf(Ce)<0&&(ve[Ce]=oe[Ce]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Ce=Object.getOwnPropertySymbols(oe);Oe<Ce.length;Oe++)pe.indexOf(Ce[Oe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ce[Oe])&&(ve[Ce[Oe]]=oe[Ce[Oe]])}return ve}function Q(oe,pe,ve,Ce){return new(ve||(ve=Promise))(function(ge,et){function Wt(nt){try{ut(Ce.next(nt))}catch(ct){et(ct)}}function pn(nt){try{ut(Ce.throw(nt))}catch(ct){et(ct)}}function ut(nt){nt.done?ge(nt.value):function(ge){return ge instanceof ve?ge:new ve(function(et){et(ge)})}(nt.value).then(Wt,pn)}ut((Ce=Ce.apply(oe,pe||[])).next())})}function K(oe,pe){var Ce,Oe,ge,et,ve={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return et={next:Wt(0),throw:Wt(1),return:Wt(2)},"function"==typeof Symbol&&(et[Symbol.iterator]=function(){return this}),et;function Wt(ut){return function(nt){return function(ut){if(Ce)throw new TypeError("Generator is already executing.");for(;ve;)try{if(Ce=1,Oe&&(ge=2&ut[0]?Oe.return:ut[0]?Oe.throw||((ge=Oe.return)&&ge.call(Oe),0):Oe.next)&&!(ge=ge.call(Oe,ut[1])).done)return ge;switch(Oe=0,ge&&(ut=[2&ut[0],ge.value]),ut[0]){case 0:case 1:ge=ut;break;case 4:return ve.label++,{value:ut[1],done:!1};case 5:ve.label++,Oe=ut[1],ut=[0];continue;case 7:ut=ve.ops.pop(),ve.trys.pop();continue;default:if(!(ge=(ge=ve.trys).length>0&&ge[ge.length-1])&&(6===ut[0]||2===ut[0])){ve=0;continue}if(3===ut[0]&&(!ge||ut[1]>ge[0]&&ut[1]<ge[3])){ve.label=ut[1];break}if(6===ut[0]&&ve.label<ge[1]){ve.label=ge[1],ge=ut;break}if(ge&&ve.label<ge[2]){ve.label=ge[2],ve.ops.push(ut);break}ge[2]&&ve.ops.pop(),ve.trys.pop();continue}ut=pe.call(oe,ve)}catch(nt){ut=[6,nt],Oe=0}finally{Ce=ge=0}if(5&ut[0])throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}([ut,nt])}}}function j(oe){var pe="function"==typeof Symbol&&Symbol.iterator,ve=pe&&oe[pe],Ce=0;if(ve)return ve.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ce>=oe.length&&(oe=void 0),{value:oe&&oe[Ce++],done:!oe}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(oe,pe){var ve="function"==typeof Symbol&&oe[Symbol.iterator];if(!ve)return oe;var Oe,et,Ce=ve.call(oe),ge=[];try{for(;(void 0===pe||pe-- >0)&&!(Oe=Ce.next()).done;)ge.push(Oe.value)}catch(Wt){et={error:Wt}}finally{try{Oe&&!Oe.done&&(ve=Ce.return)&&ve.call(Ce)}finally{if(et)throw et.error}}return ge}function _e(oe,pe,ve){if(ve||2===arguments.length)for(var ge,Ce=0,Oe=pe.length;Ce<Oe;Ce++)(ge||!(Ce in pe))&&(ge||(ge=Array.prototype.slice.call(pe,0,Ce)),ge[Ce]=pe[Ce]);return oe.concat(ge||Array.prototype.slice.call(pe))}P.d(Ae,{_T:()=>ue,mG:()=>Q,Jh:()=>K,XA:()=>j,CR:()=>ie,ev:()=>_e})},8239:(ze,Ae,P)=>{"use strict";function d(N,ue,se,J,be,Q,K){try{var O=N[Q](K),V=O.value}catch(j){return void se(j)}O.done?ue(V):Promise.resolve(V).then(J,be)}function B(N){return function(){var ue=this,se=arguments;return new Promise(function(J,be){var Q=N.apply(ue,se);function K(V){d(Q,J,be,K,O,"next",V)}function O(V){d(Q,J,be,K,O,"throw",V)}K(void 0)})}}P.d(Ae,{Z:()=>B})}},ze=>{ze(ze.s=4975)}]);